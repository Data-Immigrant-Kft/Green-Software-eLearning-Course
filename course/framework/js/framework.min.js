!function(){function t(){}for(var n,e=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],i=e.length,r=window.console=window.console||{};i--;)r[n=e[i]]||(r[n]=t)}(),jQuery.fn.cssNumber=function(t){t=parseInt(this.css(t),10);return isNaN(t)?0:t},jQuery.fn.disable=function(){return this.each(function(){null==$(this).attr("tabindex")&&$(this).attr("tabindex","0"),$(this).addClass(navigationButton.DISABLED).attr("aria-disabled","true")})},jQuery.fn.enable=function(){return this.each(function(){$(this).removeClass(navigationButton.DISABLED).attr("aria-disabled","false")})};
!function(o){var t,n,e,i=null,a={init:function(l){var n={title:"",message:"",confirm:"Continue",cancel:"Cancel",class:"",size:"sm",onConfirm:null,onCancel:null},l=(console.log("Alert modal init"),e=o.extend(n,l),getAlertHTML()),l=(""!=l&&o("#content-wrapper").append(l),t=o("#alertModal"),[]);e.class&&(l=e.class.split(" ")),"sm"==e.size||"small"==e.size?l.push("modal-sm"):"lg"!=e.size&&"large"!=e.size||l.push("modal-lg"),t.find(".modal-dialog").removeClass().addClass("modal-dialog "+l.join(" ")),e.title?t.find(".modal-title").html(e.title):t.find(".modal-title").html(""),t.find(".modal-body").html(e.message),t.find(".btn.confirmBtn .btnText").html(n.confirm),n.cancel?(t.find(".btn.closeBtn").show(),t.find(".btn.closeBtn .btnText").html(n.cancel)):t.find(".btn.closeBtn").hide(),t.find(".btn.confirmBtn").bind("click",function(){i="confirm",n.onConfirm&&n.onConfirm()}),t.find(".btn.closeBtn").bind("click",function(){i="close"}),t.on("show.bs.modal",d),o(window).resize(function(){o.Alert("resize")}),t.modal()},show:function(){console.log("MODAL SHOW")},hide:function(){console.log("MODAL HIDE")},resize:function(){}};function d(l){n=o(document.activeElement),t.off("show.bs.modal",d),t.on("hidden.bs.modal",s),o(".ui-container").attr("aria-hidden","true")}function s(l){console.log("Alert Modal onHide"),n&&n.focus(),t.off("hidden.bs.modal",s),o(".ui-container").attr("aria-hidden","false"),"confirm"!=i&&e.onCancel&&(e.onCancel(),e.onCancel=null)}o.fn.Alert=function(l){return a[l]?a[l].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof l&&l?void o.error("Method "+l+" does not exist on Alert JS"):a.init.apply(this,arguments)},o.extend({Alert:o.fn.Alert}),getAlertHTML=function(){return 0<o(".modal#alertModal").length?"":'<div id="alertModal" class="modal alert-modal fade" tabindex="-1" role="dialog" aria-labelledby="alertModalLabel"><div class="modal-dialog" role="document"><div class="modal-content"><div class="modal-header"><h2 class="modal-title" id="alertModalLabel"></h2></div><div class="modal-body"></div><div class="modal-footer"><button class="btn confirmBtn" data-dismiss="modal"><div class="btnText"></div></button><button class="btn closeBtn" data-dismiss="modal"><div class="btnText"></div></button></div></div></div>'}}(jQuery);
var AssessmentController=function(t,s){var q=this;this.id=t,this.config=s,this.xmlID=s.assessment||this.id,this.SELECTED="r",this.CORRECT="c",this.qVars={ANSWERS:"answers",ATTEMPTS:"attempts",MIN:"min",MAX:"max",SCORE:"score",CORRECT:"correct"},this.data={questions:[],correct:0,num:0,score:{min:0,max:0,raw:0,scaled:0},perc:0,pass:!1},this.moduleBankArray=[],this.numQuestions=s.num,this.questionBankArray=s.banks,this.passingPerc=s.passingPerc,this.scoring=s.scoring,this.assessmentXMLData,this.gameAPIData={},this.getData=function(){return this.reduceData(this.data)},this.reduceData=function(t){return t},this.expandData=function(t){return t},this.updateFromLMSData=function(t){q.data=q.expandData(t),q.calculateScore()},this.setupAssessment=function(){var t;console.log("AssessmentController::setupAssessment",courseData.data.assessment.assessment[0]);for(var s=0;s<courseData.data.assessment.assessment.length;s++)if(courseData.data.assessment.assessment[s].id==q.xmlID){q.assessmentXMLData=courseData.data.assessment.assessment[s],t=q.assessmentXMLData.banks[0];break}if(0==q.data.questions.length){if(q.questionBankArray.length){q.numQuestions=0,q.data.questions=[];for(s=0;s<q.questionBankArray.length;s++){for(var a=t.bank[s].draw?parseInt(t.bank[s].draw):q.questionBankArray[s],e=(-1!=(o=t.bank[s].module?parseInt(t.bank[s].module):-1)&&(q.moduleBankArray[o]=s),q.numQuestions+=a,[]),n=0;n<t.bank[s].questions[0].question.length;n++)e[n]={b:s,q:n};var r=[];if(a<=t.bank[s].questions[0].question.length)for(;r.length<a;)r=r.concat(e.splice(Math.floor(Math.random()*e.length),1));q.data.questions=q.data.questions.concat(r)}}else{for(s=0;s<q.numQuestions;s++)q.data.questions.push({q:s});q.config.shuffle&&q.data.questions.shuffle()}for(s=0;s<q.numQuestions;s++)q.data.questions[s][q.qVars.ANSWERS]=[],q.data.questions[s][q.qVars.ATTEMPTS]=[],q.data.questions[s][q.qVars.MIN]=0,q.data.questions[s][q.qVars.MAX]=0,q.data.questions[s][q.qVars.SCORE]=0,q.data.questions[s][q.qVars.CORRECT]=0}q.numQuestions=q.data.questions.length;for(var o,s=0;s<q.questionBankArray.length;s++)-1!=(o=t.bank[s].module?parseInt(t.bank[s].module):-1)&&(null==q.moduleBankArray[o]&&(q.moduleBankArray[o]=[]),q.moduleBankArray[o].push(s))},this.initQuestion=function(t,s){0==q.data.questions[t][q.qVars.ANSWERS].length&&(q.data.questions[t][q.qVars.ANSWERS]=s.slice())},this.getAnswers=function(t){return q.data.questions[t][q.qVars.ANSWERS]},this.storeAnswers=function(t,s){var a=this.getQuestionXMLData(t),e=q.data.questions[t][q.qVars.ATTEMPTS],n=(q.config.storeAllAttempts?e.push(s.slice()):e[0]=s.slice(),0),r=0,o=[],i=0,u=a.optionScore?parseInt(a.optionScore):q.scoring.correct;if(1!=q.data.questions[t][q.qVars.CORRECT]){for(var c=0;c<e[e.length-1].length;c++){var d=(a.component?a.component[0]:a).options[0],d=d.option[c].score?parseInt(d.option[c].score):u;o[c]=q.data.questions[t][q.qVars.ANSWERS][c]==e[e.length-1][c]?1:0,0!=q.data.questions[t][q.qVars.ANSWERS][c]?(i+=d,0!=e[e.length-1][c]&&(n+=d)):(q.scoring.ignoreIncorrect||(i+=d),0!=e[e.length-1][c]?r+=d:q.scoring.ignoreIncorrect||(n+=d))}q.data.questions[t][q.qVars.MIN]=0,q.data.questions[t][q.qVars.MAX]=i,q.scoring.ignoreIncorrect?q.data.questions[t][q.qVars.SCORE]=Math.max(n-r,0):q.data.questions[t][q.qVars.SCORE]=n,q.data.questions[t][q.qVars.CORRECT]=-1==o.indexOf(0)?1:0}q.calculateScore(),storageController.setAssessmentData()},this.calculateScore=function(){q.data.num=q.data.questions.length,q.data.correct=0,q.data.score={raw:0,min:0,max:0,scaled:0};for(var t=0;t<q.data.questions.length;t++){if(0==q.data.questions[t][q.qVars.MAX])return!1;q.data.correct+=q.data.questions[t][q.qVars.CORRECT],q.data.score.raw+=q.data.questions[t][q.qVars.SCORE],q.data.score.max+=q.data.questions[t][q.qVars.MAX]}q.data.score.scaled=parseFloat((q.data.score.raw/q.data.score.max).toFixed(2)),q.data.perc=Math.round(q.data.correct/q.data.num*100),q.data.perc>=q.passingPerc?q.data.pass=!0:q.data.pass=!1,courseData.updateMenu(),$(document).trigger("ASSESSMENT_SCORE_UPDATE"),assessmentConfig.scormScoreAssementID==q.id&&(storageController.setScore(q.data.perc),storageController.checkCourseComplete())},this.getBanksScores=function(){for(var t=[],s=0;s<q.data.questions.length;s++){var a=q.data.questions[s].b||0;t[a]||(t[a]={score:0,total:0}),t[a].total++,t[a].score+=q.data.questions[s][q.qVars.CORRECT]}return t},this.getBankScore=function(t){for(var s={score:0,total:0},a=0;a<q.data.questions.length;a++)null!=q.data.questions[a].b&&q.data.questions[a].b!=t||(s.total++,s.score+=q.data.questions[a][q.qVars.CORRECT]);return s},this.isBankComplete=function(t){t=q.getBankScore(t);return t.score==t.total},this.isModuleBankComplete=function(t){if(q.moduleBankArray[t]){for(var s=!1,a=0;a<q.moduleBankArray[t].length;a++)if(q.isBankComplete(q.moduleBankArray[t][a])){s=!0;break}return s}return!1},this.showMarkingEnabled=function(){return q.config.showMarking},this.showAnswersEnabled=function(){return q.config.showAnswer},this.feedbackEnabled=function(){return q.config.feedback},this.getQuestionData=function(t){return q.data.questions[t]},this.getQuestionXMLData=function(t){t=(q.data.questions[t].b?q.assessmentXMLData.banks[0].bank[q.data.questions[t].b]:q.assessmentXMLData.banks[0].bank[0]).questions[0].question[q.data.questions[t].q].question[0];return t},this.getQuestionDataForNum=function(t){for(var s=0;s<q.data.questions.length;s++)if(q.data.questions[s].q==t)return q.getQuestionData(s);return!1},this.getQuestionXMLDataForNum=function(t){for(var s=0;s<q.data.questions.length;s++)if(q.data.questions[s].q==t)return q.getQuestionXMLData(s);return!1},this.getBankXMLData=function(t){return q.assessmentXMLData.banks[0].bank[t]},this.checkAssessmentAgainstObject=function(t){return t.perc?q.data.perc>=t.perc:!!t.score&&q.data.score>=t.score}};
var AnimationController=function(){var r=this;function i(e,n){n&&((n=$(this)).off("inview",i),n.addClass("animinview"),n=n.data("anim-index"),r.anims[n].inview=!0,a())}function s(e){var a,n=r.anims[e];n.started||(n.started=!0,n.$el.addClass("animating"),n.$el.triggerHandler("inview_anim_start"),n=n.duration,a=r.anims[e],setTimeout(function(){var e,n,i;a.animated||(a.animated=!0,a.$el.removeClass("animating"),a.$el.addClass("animated"),a.$el.triggerHandler("inview_anim_complete"),a.componentIndex&&(e=contentController.getSlideForElement(a.$el))&&((n=e.componentController.getComponentObject(a.componentIndex)).dataNode.i?i=parseInt(n.dataNode.i):n.dataNode.instruction&&(i=parseInt(n.dataNode.instruction)),i)&&e.componentController.changeInstruction(i))},n))}function a(){for(var e=0;e<r.groups.length;e++)r.groups[e].totalDelay=0,r.groups[e].count=0;for(e=0;e<r.anims.length;e++){var n,i=e,a=r.anims[e],t=r.groups[a.group];courseConfig.animate.inview&&!a.inview||a.animated||(t.count++,n=0,1<t.count&&(n=r.anims[e].delay,courseConfig.animate.sequence)&&r.anims[e].stagger&&(t.totalDelay+=r.anims[e].delay,n=t.totalDelay),a.started)||(a=t=void 0,t=e,a=n,t=r.anims[t],htmlUtils.addAnimationDelayCSS(t.$el,a),function(e,n){clearTimeout(r.anims[e].delayTimeout);var i=r.anims[e];responsiveUtils.isElementHidden(i.$el)||(i.$el.addClass("animready"),i.delayTimeout=setTimeout(function(){s(e)},n))}(i,n))}}r.groups=[],r.anims=[],this.setupAnimations=function(e){r.groups.push({$ref:e});var l=0;courseConfig.animate.sequence&&(l=courseConfig.animate.delay),r.$elements=htmlUtils.findAnims(e),r.$elements.length&&(r.$elements.each(function(e){var n=$(this),i=(n.data("anim-index",e),0),a=utils.css_time_to_milliseconds(n.css("animation-delay"))||l,t=n.data("anim-delay"),s=!0,o=(t&&("string"==typeof t?-1!=t.indexOf("+=")?a=1e3*parseInt(t.split("+=").join("")):-1!=t.indexOf("-=")&&(a=1e3*-parseInt(t.split("-=").join(""))):(s=!1,a=1e3*parseInt(t))),responsiveUtils.getClosestHiddenElement(n));if(o.length){for(var m=1;m<r.groups.length;m++)if(r.groups[m].$ref.is(o)){i=m;break}0==i&&(r.groups.push({$ref:o}),i=r.groups.length-1)}r.anims[e]={$el:n,componentIndex:n.data("componentindex"),inview:!1,started:!1,animated:!1,group:i,stagger:s,delay:a,duration:utils.css_time_to_milliseconds(n.css("animation-duration"))},$("body").hasClass("anim-debug-on")&&n.append(""+'<div class="anim-debug">'+('<span class="anim-debug-num" title="anim index">'+e+"</span>-")+('<span class="anim-debug-group" title="group">'+i+"</span>")+'<div class="anim-debug-item anim-debug-item-anim" title="animation"></div>'+'<div class="anim-debug-item anim-debug-item-inview" title="inview"></div>'+"</div>")}),a(),(courseConfig.animate.inview?r.$elements:r.$elements.eq(0)).on("inview",i))},this.triggerAnimation=function(e){var n="number"==typeof e?r.anims[e].$el:e;"number"!=typeof e&&n.data("anim-index");a()},gsap.config({nullTargetWarn:!1})};
var AudioController=function(){var u=this;this.isMuted=!1,this.audioObj={},this.useCreateJS=!1,this.loadAudio=function(t,i){var e;u.useCreateJS?createjs.Sound.registerSound(i,t):(null==this.audioObj[t]&&((e=new Audio(i)).onended=function(){}),this.audioObj[t]=e)},this.playAudio=function(t){u.useCreateJS?createjs.Sound.loadComplete(t)&&createjs.Sound.play(t):this.audioObj[t]&&(this.audioObj[t].muted=this.isMuted,this.audioObj[t].play()),this.playAudioFromStart=function(t){this.audioObj[t]&&(this.audioObj[t].muted=this.isMuted,isNaN(audioObj.duration)||(this.audioObj[t].currentTime=0),this.audioObj[t].play())}},this.playNewAudio=function(t){this.audioObj[t]&&((t=this.audioObj[t].cloneNode()).muted=this.isMuted,isNaN(t.duration)||(t.currentTime=0),t.onended=function(){$(this).remove()},t.play())},this.muteAudio=function(){for(x in this.isMuted=!this.isMuted,this.audioObj)this.audioObj[x].muted=this.isMuted;createjs&&(createjs.Sound.muted=this.isMuted),storageController.setAudio(this.isMuted?0:1)},function(){this.isMuted=0==parseInt(storageController.getAudio()),createjs&&(u.useCreateJS=!0),createjs.Sound.addEventListener("fileload",function(){})}()};
const AvailableClasses={templates:{CUSTOM:TemplateCUSTOM},components:{accordion:ComponentAccordion,button:ComponentButton,carousel:ComponentCarousel,flipcard:ComponentFlipcard,group:ComponentGroup,image:ComponentImage,instruction:ComponentInstruction,mcqtawa:ComponentMcqtawa,media:ComponentMedia,menu:ComponentMenu,separator:ComponentSeparator,text:ComponentText,callout:ComponentCallout,headerimage:ComponentHeaderimage,panel:ComponentPanel,tab:ComponentTab,gsfmenu:ComponentGSFMenu,header:ComponentHeader,buildupcarousel:ComponentBuildupCarousel,storycarousel:ComponentStoryCarousel,plusbutton:ComponentPlusButton,highchart_bar:ComponentHighchart_Bar,highchart_pie:ComponentHighchart_Pie,dropdownsequence:ComponentDropdownsequence,parallaximage:ComponentParallaxImage,parallaxheader:ComponentParallaxHeader}};
var UIController=function(){var r=this,l=[],i=(this.setupUI=function(){(function(){l=courseData.getMenu();var e,a=$("#navmenubar");for(e in a.addClass("menuStyle"+navigationConfig.menu.style),navigationConfig.menu.numPerRow)a.addClass("menuItemsPerRow-"+e+"-"+navigationConfig.menu.numPerRow[e]);for(var t="",n="",o=0;o<l.length;o++)if(componentConfig.progress.module&&(t+='<div id="progress-section'+o+'" class="progress-section'+(l[o]?"":" hidden")+" "+courseData.navData.module[o].color+'"></div>'),l[o]){if(n+="<li>",0==l[o].submenu.length)n+='<a href="#" data-toggle="collapse" data-target="#navmenubar" data-module="'+l[o].module+'">'+l[o].title+"</a>";else{n=(n+='<a href="#" data-module="'+l[o].module+'">'+l[o].title+"</a>")+'<div class="submenuWrap">'+'<ul class="submenu ">';for(var s=0;s<l[o].submenu.length;s++)n+='<li><a href="#" data-toggle="collapse" data-target="#navmenubar" data-module="'+l[o].module+'" data-page="'+l[o].submenu[s].page+'" data-slide="'+l[o].submenu[s].slide+'">'+l[o].submenu[s].title+"</a>";n=n+"</ul>"+"</div>"}n+="</li>"}$("#navmenubar .navmenu").html(n),$("#navmenubar .navmenu > li > a").on("click",function(e){e.preventDefault(),$("#navmenubar .navmenu > li > a").not($(this)).removeClass("active"),$("#navmenubar .submenuWrap").slideUp(),$(this).parent().find(".submenu").length?($(this).toggleClass("active"),$(this).hasClass("active")&&$(this).parent().find(".submenuWrap").delay(300).slideDown()):($(this).addClass("active"),navigationController.changePageToData(parseInt($(this).data("module")),0,0))}),$("#navmenubar .navmenu .submenu > li > a").on("click",function(e){e.preventDefault(),navigationController.changePageToData(parseInt($(this).data("module")),parseInt($(this).data("page")),parseInt($(this).data("slide")))});var r=$("#navmenubarInner");$("#navmenubar.menuStyle0 .navmenu > li a").hover(function(){r[0].className="",r.addClass("moduleBkg moduleBkg"+($(this).parent().index()+1))},function(){r[0].className=""}),componentConfig.progress.module?$("#progress #progress-sections").html(t):($("#progress #progress-sections").remove(),$("#progress #progress-section-marker").remove());$("#progress #progress-text").html(htmlUtils.getHTMLText(courseData.data.settings[0].navigation[0].progress[0]))})(),$("#acc_skiptocontent").html(courseData.getAccessibleLabel("skipToMainContent")),$("#content").attr("aria-label",courseData.getAccessibleLabel("mainContent")),$(".navbar-brand img").attr("src",courseData.getLogo()),$(".navbar-brand img").attr("alt",courseData.getLogoAlt());for(var e=0;e<i.length;e++){var a=$(navigationButton[i[e].toUpperCase()+"_BUTTON"]),t=a.eq(0).find(".btn_text").text(),t=(a.attr("aria-label",t),a.parent().data("lang-title",t).attr("data-original-title",t),a.find(".btn_icon")),a=(t.attr("aria-hidden","true"),t.html(svgUtils.createSVG(i[e])),svgUtils.animateSVG(i[e],t));a.pause(),g.push(a)}-1!=i.indexOf("audio")&&(r.audioIconSVGTimeline=g[i.indexOf("audio")]);$('.navbar [data-toggle="tooltip"]').tooltip();for(var n=0,o="",e=0;e<languageConfig.languages.length;e++)languageConfig.languages[e].active&&(n++,o+='<li><a href="#" data-language-code="'+languageConfig.languages[e].code+'">'+languageConfig.languages[e].language+"</a></li>");$("#language-dropdown .dropdown-menu").html(o),1==n?$(".language-dropdown").hide().removeClass("visible-xs").addClass("hidden-xs"):$("#language-dropdown .dropdown-menu a").on("click keypress",utils.handleClickAndPress(function(e){e=$(e.currentTarget);loadLanguage(e.data("language-code"))}));{var s;$(".navbar-text").html(courseData.data.title[0].Text),courseData.data.settings[0].navigation[0].footer?(s=(new Date).getFullYear(),s='<span class="copyright">'+courseData.data.settings[0].navigation[0].footer[0].copyright[0].Text.split("{YEAR}").join(s)+"</span>",$("footer .footer-text").html(s),$("footer .footer-text .footer-modal").on("click keypress",utils.handleClickAndPress(function(e){if($(e.currentTarget).hasClass("disabled"))return!1;$.Modal({data:courseData.data.settings[0].navigation[0].footer[0].modal[0]}),$("#modal").modal("show")}))):$("footer").addClass("hidden")}navigationConfig.incompletePageMessage&&$(".content-locked-message").html(htmlUtils.getHTMLText(courseData.data.settings[0].messages[0].contentLocked[0],{anim:!1}));$(".navbar-brand").on("click keypress",utils.handleClickAndPress(function(e){if($(e.currentTarget).hasClass("disabled"))return!1})),$(navigationButton.HELP_BUTTON).attr("data-toggle","modal").attr("data-target","#modal"),$(navigationButton.HELP_BUTTON).on("click keypress",utils.handleClickAndPress(function(e){e.preventDefault();$(e.currentTarget);r.showHelp(!1)})),$(navigationButton.RESOURCE_BUTTON).attr("data-toggle","modal").attr("data-target","#modal"),$(navigationButton.RESOURCE_BUTTON).on("click keypress",utils.handleClickAndPress(function(e){e.preventDefault();$(e.currentTarget);r.showResources(!1)})),$(navigationButton.MENU_BUTTON).on("click keypress",utils.handleClickAndPress(function(e){if(e.preventDefault(),$(e.currentTarget).hasClass("disabled"))return!1;navigationController.showMenu()})),$(navigationButton.MENU_BUTTON).disable(),$(document).on("click",function(e){$(window).trigger("WINDOW_CLICK")}),$(window).on(courseEvent.DEVICE_BREAKPOINT_CHANGED,d),$(window).on("resize",u)},["language","menu","resource","help","audio","exit"]),g=[];function d(){("xs"==responsiveUtils.getCurrentViewport()||"xs"==responsiveUtils.prevViewport&&"xs"!=responsiveUtils.getCurrentViewport())&&$("#navbar, #navmenubar").removeClass("in"),"xs"==responsiveUtils.getCurrentViewport()&&$("#search-dropdown").addClass("open"),"xs"==responsiveUtils.getCurrentViewport()?$('.navbar [data-toggle="tooltip"]').attr("data-original-title",""):$('.navbar [data-toggle="tooltip"]').each(function(){$(this).attr("data-original-title",$(this).data("lang-title"))}),htmlUtils.updateDeviceSpecificClasses(),contentController.breakpointChanged()}function u(){contentController.resizeContent(),navigationController.checkForScroll()}this.showNav=function(){for(var e=0;e<g.length;e++)"audio"!=i[e]&&g[e].delay(1).play()},this.hideNav=function(){for(var e=0;e<g.length;e++)"audio"!=i[e]&&g[e].reverse()},this.updateUI=function(){componentConfig.search&&searchController.updateSearch();for(var e=0,a=0,t=0;t<navigationController.pageArray.length;t++)if(l[navigationController.pageArray[t].module])for(var n=0;n<navigationController.pageArray[t].slides.length;n++)navigationController.isValidRole(navigationController.pageArray[t].slides[n].roles)&&(a++,storageController.isSlideComplete(t,n))&&e++;if($("#userProgress #points-score").text(Math.round(e/a*100)),componentConfig.progress.module){for(t=0;t<l.length;t++){var o=$("#progress #progress-section"+t);storageController.isModuleActive(t)&&navigationController.isModuleValidForRole(t)?(o.removeClass("hidden"),storageController.isModuleComplete(t)&&o.addClass("complete")):o.addClass("hidden")}$("#progress .progress-section").removeClass("active"),l[navigationController.moduleIndex]&&$("#progress #progress-section"+navigationController.moduleIndex).addClass("active")}else{var s=storageController.getProgressData();if(componentConfig.progress.adjustments){if(componentConfig.progress.adjustments.assessments)for(t=0;t<componentConfig.progress.adjustments.assessments.length;t++){var r=window[componentConfig.progress.adjustments.assessments[t]+"Assessment"];if(r){s.num+=r.data.questions.length;for(n=0;n<r.data.questions.length;n++)s.complete+=0<r.data.questions[n].attempts.length?1:0}}s.perc=s.complete/s.num}var i=100*s.perc;$("#progress #progressBar").attr("aria-valuenow",Math.round(i)),$("#progress .progress-bar-status").css("width",i+"%"),storageController.setProgressMeasure(i)}$(navigationButton.MENU_BUTTON).hasClass("disabled")&&0<navigationController.moduleIndex&&navigationController.moduleIndex!=navigationController.menuModuleNum&&$(navigationButton.MENU_BUTTON).enable()},this.showHelp=function(e){e=void 0===e||e;var a=courseData.data.help;$.Modal({class:"help",data:a});for(var t=0;t<i.length;t++){var n=$(".nav "+navigationButton[i[t].toUpperCase()+"_BUTTON"]+" .btn_icon");$("#modal "+navigationButton[i[t].toUpperCase()+"_BUTTON"]+" .btn_icon").html(n.html())}e&&$("#modal").modal("show")},this.showResources=function(e){e=void 0===e||e;var a=courseData.data.resource;$.Modal({class:"resource",data:a}),e&&$("#modal").modal("show")}};
var ComponentController=function(){var i,m=this;function a(e){var n=$();if(e instanceof jQuery)n=e;else for(var o,t=0;t<e.length;t++)e[t]instanceof jQuery?o=e[t]:0==(o=$("#component-"+m.slideObj.slideNum+"-"+e[t])).length&&(o=$("#component-"+e[t])),n=n.add(o),o.data("clone")&&(n=n.add($("#"+o.data("clone"))));return n}this.slideObj,this.componentObjectsArray=[],this.saveDataObj={},this.setupDone=!1,this.firstIncompleteComponentIndex=-1,this.lastVisibleComponentIndex=-1,this.elementsToResize={},this.init=function(e){e&&(m.slideObj=e,i=m.slideObj.$slide,m.saveDataObj=m.slideObj.getSaveData())},this.generateComponents=function(e){return htmlUtils.recurseXML(e,{},{term:"component",callback:m.createComponent})},this.displayComponents=function(){for(var e=0;e<m.componentObjectsArray.length;e++)m.isComponentValid(m.componentObjectsArray[e])&&m.componentObjectsArray[e].componentDisplayed();setTimeout(function(){m.breakpointChanged(),m.resizeContent()},50),m.checkComponentsComplete()},this.setupComponents=function(){for(var e=[],n=0;n<m.componentObjectsArray.length;n++)(o=m.componentObjectsArray[n]).isSetup||(e.push(o),m.getComponentRoles(o),o.setupComponent&&o.setupComponent());for(n=0;n<e.length;n++){var o=e[n],t=(m.isComponentValidForRole(o,navigationController.roles)||o.$component.addClass("hidden rolehidden"),o.$component.find(".component"));if(t.length&&t.each(function(){var e=$(this).data("componentindex");m.componentObjectsArray[e].parentComponent=n,o.childComponents.push(e)}),o.dataNode.actions){for(var i in o.$component.addClass("action"),actionUtils.setupActions(o,o.dataNode.actions),o.dataNode.actions){var s=o.dataNode.actions[i];o.$component.addClass("action-"+i),o.dataNode&&o.dataNode.xsCloneRevealAlongside&&a(s.split(",")).each(function(){var e=$(this).attr("id")+"-clone",e=($(this).data("clone",e),$(this).clone().attr("id",e).addClass("hidden-sm hidden-md hidden-lg"));$(this).addClass("hidden-xs"),o.$component.after(e)}),"modal"==i&&o.$component.attr("data-modal",s),"popover"==i&&(console.log("popover action found"),o.$component.attr("data-popover",s))}o.$component.attr("role","button"),o.$component.attr("tabindex",0),o.$component.on("click keypress",utils.handleClickAndPress(function(e){e=$(e.currentTarget);if(e.hasClass("disabled")||0==e.css("opacity"))return!1;var n=parseInt(e.data("componentindex")),n=m.componentObjectsArray[n];m.setComponentComplete(n),actionUtils.fireActions(n,n.dataNode.actions),e.closest(".slide").find(".action-reveal, .action-hideandreveal").not(e).removeClass("active"),e.addClass("active")}))}else o.managesCompletion||(o.$component.hasClass("anim")?o.$component.on("inview_anim_complete",function(){var e=parseInt($(this).data("componentindex")),e=m.componentObjectsArray[e];m.setComponentComplete(e)}):m.setComponentComplete(o));o.draggable&&(o.$component.addClass("drag"),o.$component.draggable({revert:"invalid",zIndex:100})),!o.enableOnComplete||storageController.isSlideComplete(m.slideObj.currentPage,m.slideObj.slideNum)||o.$component.disable(),m.isComponentShowByCompletion(o)&&o.$component.addClass("hidden"),m.isComponentVisibleByCompletion(o)&&o.$component.addClass("invisible"),(o.$component.hasClass("hidden")||o.$component.hasClass("invisible"))&&(o.$component.attr("aria-hidden","true"),o.$component.closest(".slide").attr("aria-live","polite")),o.isComplete&&m.setComponentComplete(o),o.dataNode.matchHeight&&(t="true"==o.dataNode.matchHeight?"elements":o.dataNode.matchHeight,m.elementsToResize[t]?m.elementsToResize[t]=m.elementsToResize[t].add(o.$component):m.elementsToResize[t]=o.$component),o.$component.on("inview_anim_complete",function(){$(this).hasClass("enable_on_anim_complete")&&$(this).enable(),$(this)[0].className=$(this)[0].className.replace("suppress-","")}),m.checkComponentAnimsComplete(o)}for(n=0;n<e.length;n++)e[n].setupComplete&&e[n].setupComplete();htmlUtils.updateDeviceSpecificClasses(),m.setupDone=!0},this.createComponent=function(e,n){var o,t,i="",s=contentController.isComponentAvailable(e);return s&&(t=e.toLowerCase(),o="component-"+(o=(o="")==(o=n.id?n.id:o)?m.slideObj?m.slideObj.slideNum+"-"+m.componentObjectsArray.length:m.componentObjectsArray.length:o),n.nodeName||(n.nodeName="component"),i+='<div id="'+o+'" class="component component-'+t+htmlUtils.getClasses(n)+'" '+htmlUtils.getAttributes(n)+' data-componentindex="'+m.componentObjectsArray.length+'">',(t=new AvailableClasses.components[s]).name=e,m.componentObjectsArray.push(t),(window[o.split("-").join("_")]=t).init(m,n,o,m.componentObjectsArray.length-1),i=i+t.getHTML()+"</div>",m.getAbilities(t,n)),i},this.removeComponent=function(e){e=m.componentObjectsArray[e];e.$component.remove()},this.unloadContent=function(){for(var e=0;e<m.componentObjectsArray.length;e++)try{m.setSaveData(m.componentObjectsArray[e]),m.componentObjectsArray[e].unload()}catch(e){}},this.resizeContent=function(){for(var e=0;e<m.componentObjectsArray.length;e++)try{m.componentObjectsArray[e].resize()}catch(e){console.log(e)}m.matchComponentHeights()},this.breakpointChanged=function(){for(var e=0;e<m.componentObjectsArray.length;e++)try{m.componentObjectsArray[e].breakpointChanged()}catch(e){console.log(e)}},this.resumeContent=function(){for(var e=0;e<m.componentObjectsArray.length;e++)try{m.componentObjectsArray[e].resume()}catch(e){console.log(e)}},this.checkComponentsSatisfied=function(){var e=i.find(".component.action-checkanswers");e.enable()},this.checkComponentsComplete=function(){if(m.slideObj&&(m.getFirstIncompleteComponent(),!m.slideObj.hidden)){for(var e=!0,n=0;n<m.componentObjectsArray.length;n++){var o=m.componentObjectsArray[n];if(m.isComponentValid(o)){if(!m.checkComponentComplete(o)){e=!1;break}0}}if(e){for(n=0;n<m.componentObjectsArray.length;n++)(o=m.componentObjectsArray[n]).$component.hasClass("conditional-hidden")||((o.showOnComplete&&o.$component.hasClass("hidden")||o.visibleOnComplete&&o.$component.hasClass("invisible"))&&m.revealComponents([n]),o.enableOnComplete&&o.$component.hasClass("disabled")&&(o.$component.hasClass("animating")?o.$component.addClass("enable_on_anim_complete"):o.$component.enable()),o.hideOnComplete&&o.$component.slideUp(function(){$(this).addClass("hidden")}),o.invisibleOnComplete&&o.$component.fadeOut(function(){$(this).addClass("invisible")}));m.changeInstruction(99,!1),m.slideObj.slideComponentsComplete()}}},this.checkComponentComplete=function(e){return!(!e.isComplete||!e.animsComplete)||!!(e.showOnComplete||e.visibleOnComplete||e.enableOnComplete)},this.isComponentValid=function(e){var n=e.$component,o=!0;return o=!m.isComponentValidForRole(e,navigationController.roles)||(o=(o=m.isComponentHidden(e)&&0<e.revealOnComponentsCompleteArray.length?!1:o)&&!n.is(":visible")&&0<n.closest(".selectiveContent").length?!1:o)&&m.isComponentHidden(e)?!1:o},this.isComponentHidden=function(e){e=e.$component;return responsiveUtils.isElementHidden(e)},this.checkComponentAnimsComplete=function(e){var n=e.$component,n=htmlUtils.findAnims(n,":visible");return!(!e.animsComplete&&n.length!=n.filter(".animated").length)&&(e.animsComplete=!0)},this.getComponentRoles=function(e){e.dataNode.roles&&(e.roles=e.dataNode.roles.split(",").toNumberArray())},this.isComponentValidForRole=function(e,n){e.$component;var o=!0;if(e.roles.length)for(var o=!1,t=0;t<n.length;t++)if(-1!=e.roles.indexOf(n[0])){o=!0;break}return o},this.setComponentComplete=function(e,n){e instanceof jQuery&&(s=parseInt(e.data("componentindex")),e=m.componentObjectsArray[s]);var o=!0;if(e.isComplete)e.$component.addClass("complete");else{if(n)e.animsComplete=!0;else{if(e.childComponents.length){e.completeOnChildrenComplete=!0;for(var t=0;t<e.childComponents.length;t++){var i=m.componentObjectsArray[e.childComponents[t]];if(!i.isComplete&&m.isComponentValid(i)&&!m.isComponentRevealedByCompletion(i)&&!i.enableOnComplete){o=!1;break}}}m.checkComponentAnimsComplete(e)||(e.$component.find(".anim").on("inview_anim_complete",function(){var e=m.getComponentObject($(this).closest(".component").data("componentindex"));m.checkComponentAnimsComplete(e)&&m.setComponentComplete(e)}),o=!1)}if(o){e.isComplete=!0,e.$component.addClass("complete"),e.dataNode.completeActions&&actionUtils.fireActions(e,e.dataNode.completeActions),e.$component.trigger(courseEvent.COMPONENT_COMPLETE);for(var s,t=0;t<m.componentObjectsArray.length;t++){var a=m.componentObjectsArray[t];if(m.isComponentHidden(a)&&0<a.revealOnComponentsCompleteArray.length){for(var l=0,r=0;r<a.revealOnComponentsCompleteArray.length;r++)m.componentObjectsArray[a.revealOnComponentsCompleteArray[r]].isComplete&&l++;l==a.revealOnComponentsCompleteArray.length&&m.revealComponents([t])}}!1!==e.parentComponent&&(s=m.componentObjectsArray[e.parentComponent]).completeOnChildrenComplete&&m.setComponentComplete(s),m.setSaveData(e)}m.checkComponentsComplete()}},this.revealComponents=function(e,t){t=$.extend({delay:0,duration:400,effect:void 0},t);for(var n=["show","fadeIn","slideDown"],o=0;o<n.length&&t.effect;o++)if(n[o].toLowerCase()==t.effect.toLowerCase()){t.effect=n[o];break}console.log("ComponentController::revealComponents",e,t.effect),a(e).each(function(){var e,n=$(this),o=m.componentObjectsArray[n.data("componentindex")];n.hasClass("component-instruction")&&(console.log("revealComponents instruction",m.slideObj.slideNum,o.num),m.hideComponents(i.find(".component-instruction:visible").not(n))),m.isComponentValidForRole(o,navigationController.roles)&&(n.hasClass("hidden")&&(n.removeClass("hidden"),o.$component.attr("aria-hidden","false"),m.isComponentShowByCompletion(o)||n.addClass("revealed-hidden"),n.hasClass("anim")||t.effect||(n.hide(),t.effect="slideDown")),n.hasClass("invisible")&&(n.removeClass("invisible"),o.$component.attr("aria-hidden","false"),m.isComponentVisibleByCompletion(o)||n.addClass("revealed-invisible"),n.hasClass("anim")||t.effect||(t.effect="fadeIn")),m.isComponentRevealedByCompletion(o)||n.addClass("revealed"),t.effect||(t.effect="show"),t.duration="show"==t.effect?0:t.duration,console.log("ComponentController::revealComponents",t.effect),t.delay?setTimeout(function(){m.revealComponentsWithEffect(o,t)},t.delay):m.revealComponentsWithEffect(o,t),contentController.animationController?e=contentController.animationController:m.slideObj&&m.slideObj&&(e=m.slideObj.animationController),e&&e.triggerAnimation(n),o.componentDisplayed(),n.hasClass("action"))}),setTimeout(function(){m.resizeContent()},50)},this.revealComponentsWithEffect=function(e,n){var o,t=n.effect||"slideDown";-1==["show","fadeIn","slideDown"].indexOf(t)&&(t="slideDown"),e.dataNode.i?o=parseInt(e.dataNode.i):e.dataNode.instruction&&(o=parseInt(e.dataNode.instruction)),e.$component[t]({duration:n.duration,complete:function(){setTimeout(function(){navigationController.checkForScroll()},1e3),m.matchComponentHeights(),o&&m.changeInstruction(o),m.showChildComponents(e.$component),0==e.revealOnComponentsCompleteArray.length&&navigationController.scrollIntoView($(this))}})},this.hideComponents=function(e,n){n=$.extend({delay:0,duration:400,effect:void 0},n);for(var o=["hide","fadeOut","slideUp"],t=0;t<o.length&&n.effect;t++)if(o[t].toLowerCase()==n.effect.toLowerCase()){n.effect=o[t];break}var i=a(e);function s(){i[n.effect]({duration:n.duration,complete:function(){navigationController.checkForScroll();var e=$(this);e.removeClass("revealed"),e.hasClass("revealed-hidden")&&e.removeClass("revealed-hidden").addClass("hidden"),e.hasClass("revealed-invisible")&&e.removeClass("revealed-invisible").addClass("invisible")}})}n.effect||(n.effect="hide"),n.duration="hide"==n.effect?0:n.duration,console.log("ComponentController::hideComponents",i,n.effect),n.delay?setTimeout(s,n.delay):s()},this.hideAndRevealComponents=function(e,n,o){m.hideComponents(i.find(".component.revealed"),n),m.revealComponents(e,o)},this.showHiddenComponents=function(e){e=e.find(".component");this.revealComponents(e)},this.showChildComponents=function(e){e.find(".component").each(function(){$(this).parents().addBack().hasClass("hidden")||(console.log("ComponentController::showChildComponents",$(this).data("componentindex")),m.getComponentObject($(this).data("componentindex")).componentDisplayed())})},this.getComponentObject=function(e){return e instanceof jQuery&&(e=parseInt(e.data("componentindex"))),m.componentObjectsArray[e]},this.retry=function(){for(var e=0;e<m.componentObjectsArray.length;e++){var n=m.componentObjectsArray[e];n.retry&&n.retry()}},this.checkAnswers=function(){var e=[];i.find(".component.action-checkanswers").hide(),e.push(i.find(".feedbackIncorrect")),revealComponents(e)},this.getAbilities=function(e,n){if(actionUtils.getActions(n,e.componentController),e.draggable="true"===n.draggable,n.showOnComponentsComplete||n.visibleOnComponentsComplete){e.revealOnComponentsCompleteArray=[],n.showOnComponentsComplete?(e.showOnComponentsComplete=!0,e.revealOnComponentsCompleteArray=n.showOnComponentsComplete.split(",")):n.visibleOnComponentsComplete&&(e.visibleOnComponentsComplete=!0,e.revealOnComponentsCompleteArray=n.visibleOnComponentsComplete.split(","));for(var o=0;o<e.revealOnComponentsCompleteArray.length;o++)e.revealOnComponentsCompleteArray[o]=m.getComponentIndexes(e.num,e.revealOnComponentsCompleteArray[o])}e.showOnComplete="true"===n.showOnComplete,e.visibleOnComplete="true"===n.visibleOnComplete,e.hideOnComplete="true"===n.hideOnComplete,e.invisibleOnComplete="true"===n.invisibleOnComplete,e.enableOnComplete="true"===n.enableOnComplete},this.getComponentIndexes=function(e,n){for(var o=[],t=Array.isArray(n)?n:n.split(","),i=0;i<t.length;i++)-1!=t[i].indexOf("+")?o.push(e+parseInt(t[i].split("+").join(""))):-1!=t[i].indexOf("-")?o.push(e+parseInt(t[i])):o.push(t[i]);return o},this.changeInstruction=function(n,e){null==e&&(e=!0);e=i.find(".component-instruction");0<e.length&&e.each(function(){var e=m.componentObjectsArray[parseInt($(this).data("componentindex"))];m.isComponentValidForRole(e,navigationController.roles)&&e.changeInstruction(n)})},this.getSaveData=function(e){e=isNaN(e)?e.num:e;return m.saveDataObj["c"+e]||{}},this.setSaveData=function(e,n){var o;m.slideObj&&(o=isNaN(e)?e.num:e,n=n||e.saveData,$.isEmptyObject(n)||(0===m.saveDataObj&&(m.saveDataObj={}),m.saveDataObj["c"+o]=n),m.slideObj.setSaveData(m.saveDataObj))},this.getFirstIncompleteComponent=function(){var e=1e7,n=0;m.firstIncompleteComponentIndex=-1;for(var o=m.lastVisibleComponentIndex=0;o<m.componentObjectsArray.length;o++){var t,i=m.componentObjectsArray[o];m.isComponentValid(i)&&i.$component.is(":visible")&&(t=i.$component.offset().top,i.isComplete||t<e&&(e=t,m.firstIncompleteComponentIndex=o),n<t)&&(n=t,m.lastVisibleComponentIndex=o)}},this.getFirstComponentInView=function(){return-1!=m.firstIncompleteComponentIndex?m.checkComponentInView(m.firstIncompleteComponentIndex):m.checkComponentInView(m.lastVisibleComponentIndex)},this.getComponentInfo=function(e){return-1!=e&&!!m.componentObjectsArray[e]&&{top:m.componentObjectsArray[e].$component.offset().top,height:m.componentObjectsArray[e].$component.outerHeight()}},this.checkComponentInView=function(e){if(-1!=e)return e=m.getComponentInfo(e),$(window).scrollTop()+$(window).height()<e.top?"below":$(window).scrollTop()>e.top?$(window).scrollTop()>e.top+e.height?"above":"partabove":$(window).scrollTop()+$(window).height()>=e.top+e.height?"inview":"partbelow"},this.matchComponentHeights=function(){for(var e in m.elementsToResize)utils.matchElementHeights(m.elementsToResize[e])},this.isComponentRevealedByCompletion=function(e){return m.isComponentShowByCompletion(e)||m.isComponentVisibleByCompletion(e)},this.isComponentShowByCompletion=function(e){return e.showOnComplete||e.showOnComponentsComplete&&e.revealOnComponentsCompleteArray.length},this.isComponentVisibleByCompletion=function(e){return e.visibleOnComplete||e.visibleOnComponentsComplete&&e.revealOnComponentsCompleteArray.length}};
var ContentController=function(){var l=this,s=$(".pageContainer"),o=$(".pageBackground");function e(){$("html, body").animate({scrollTop:0},0),instructionController.change(""),o.css("background-image","none");for(var e=0;e<l.slideArray.length;e++)l.slideArray[e].isHiddenForUser()||l.slideArray[e].unloadContent();l.slideArray=[],s.empty(),s[0].className="pageContainer",navigationController.prevPage&&$("body").removeClass("page-"+navigationController.prevPage)}function t(){if($(document).trigger(courseEvent.PAGE_LOAD_START),$("body").removeClass("page-0").addClass("page-"+navigationController.currentPage),l.numValidSlides=0,l.navXMLData=courseData.getPageData(navigationController.moduleIndex,navigationController.pageIndex),l.langXMLData=courseData.getPageLangData(navigationController.moduleIndex,navigationController.pageIndex),l.navXMLData.return&&(l.allowReturn="true"===l.navXMLData.return),l.langXMLData){var e=l.langXMLData.bkgpath;e&&o.css("background-image","url("+utils.getImagePath(e)+")"),$(".preloader").show();for(var t=0;t<navigationController.numSlides;t++){var a=new Slide;l.slideArray.push(a),navigationController.isValidRole(navigationController.pageArray[navigationController.currentPage].slides[t].roles)&&(a.hiddenForCurrentRole=!1),-1!=navigationController.pageArray[navigationController.currentPage].slides[t].langs.indexOf(languageConfig.languages[currentLanguage].code)&&(a.hiddenForCurrentLanguage=!1),a.isHiddenForUser()||(l.numValidSlides++,l.lastSlideNum=t)}for(t=0;t<navigationController.numSlides;t++)l.slideArray[t].isHiddenForUser()||l.slideArray[t].init(t)}else alert("no language i18n XML")}function a(e){for(var t=0,a=0;a<l.slideArray.length;a++)l.slideArray[a].loaded&&!l.slideArray[a].isHiddenForUser()&&t++;if(t==l.numValidSlides){s.removeClass("singleSlide multiSlide"),1<t?s.addClass("multi"):s.addClass("singleSlide"),s.addClass("module"+navigationController.moduleIndex);for(var o,n=courseData.getModuleData(navigationController.moduleIndex),n=(n.class&&s.addClass(n.class),n.color&&s.addClass(n.color),courseData.getModuleLangData(navigationController.moduleIndex)),r=(n.class&&s.addClass(n.class),s.addClass(l.langXMLData.class),storageController.saveData(),$(".preloader").hide(),s.fadeIn(),$("body").removeClass("page-anim-in-fw page-anim-in-bw"),uiController.updateUI(),!1),a=l.firstIncompleteSlide=0;a<l.slideArray.length;a++)if(r||!l.slideArray[a].loaded||l.slideArray[a].isHiddenForUser()||(o=l.slideArray[a].title,navigationController.updateCourseTitle(o),o?($("#acc_skiptocontent").html(courseData.getAccessibleLabel("skipTo").split("{title}").join(o)),$("#content").attr("aria-label",courseData.getAccessibleLabel("mainTitleContent").split("{title}").join(o))):($("#acc_skiptocontent").html(courseData.getAccessibleLabel("skipToMainContent")),$("#content").attr("aria-label",courseData.getAccessibleLabel("mainContent"))),l.slideArray[a].$slide.focus(),r=!0),!d(a,!1))break;if(courseConfig.animate.enable)if(courseConfig.animate.slide)for(a=0;a<l.slideArray.length;a++){var i=l.slideArray[a];i.animationController=new AnimationController,i.animationController.setupAnimations(i.$slide)}else l.animationController=new AnimationController,l.animationController.setupAnimations(s);""!=navigationController.locationHash?setTimeout(function(){g($(navigationController.locationHash)),navigationController.locationHash=""},1e3):navigationController.gotoSlide,l.langXMLData.title&&titleController.change(l.langXMLData.title[0].Text);n=s.find("[data-modal]"),n=(n.attr("data-toggle","modal").attr("data-target","#modal").attr("aria-haspopup","dialog"),n.on("click keypress",utils.handleClickAndPress(function(e){if("keypress"==e.type)return e.preventDefault(),e.currentTarget.click(),!1;e=$(e.currentTarget);if(e.hasClass(navigationButton.DISABLED))return!1;e.addClass("done");var t=e.data("modal"),t=contentController.slideArray[e.closest(".slide").data("slide")].data.modals[0].modal[t];$.Modal({$el:e,data:t})})),s.find("[data-popover]"));n.each(function(){var e=$(this).data("popover"),t={},a=courseData.getSharedData();if("string"!=typeof e){var o=contentController.slideArray[$(this).closest(".slide").data("slide")];o.data.popovers?t=o.data.popovers[0].popover[e]:a.popovers&&(t=a.popovers[0].popover[e])}else if(a.popovers[0])for(var n=0;n<a.popovers[0].popover.length;n++)if(e.toLowerCase()==a.popovers[0].popover[n].id.toLowerCase()){t=a.popovers[0].popover[n];break}$(this).attr("tabindex",0).attr("role","button").attr("data-toggle","popover").attr("data-trigger",t.trigger||"focus").attr("data-placement",t.placement||"top").attr("data-html",!0);t.title&&$(this).attr("data-title",t.title[0].Text),t.content&&(o=htmlUtils.getHTMLText(t.content[0]),$(this).attr("data-content",o))}),n.popover(),s.find('[data-toggle="tooltip"]').tooltip(),$(window).trigger("resize"),$(document).trigger(courseEvent.PAGE_LOAD_COMPLETE)}}function n(e){for(var t=0,a=0;a<l.slideArray.length;a++){if(!l.slideArray[a].loaded||l.slideArray[a].isHiddenForUser())return!1;if(l.slideArray[a].complete)t++;else if(l.firstIncompleteSlide=a,!d(a,!1))break}uiController.updateUI(),t==l.numValidSlides?(navigationConfig.incompletePageMessage&&$(".content-locked-alert").slideUp(),navigationController.pageComplete()):(navigationConfig.incompletePageMessage&&$(".content-locked-alert").show(),storageController.checkCourseComplete()),storageController.saveData(),navigationController.checkForScroll()}function d(e,t){return!(!l.slideArray[e].isHiddenForUser()&&(l.slideArray[e].hidden&&(!l.slideArray[e].shownByComponent||l.slideArray[e].shownByComponent&&t)&&l.slideArray[e].showContent(),l.slideArray[e].mandatory)&&!l.slideArray[e].complete)}function g(e){(e=e instanceof jQuery?e:$(e)).length&&$("html, body").animate({scrollTop:e.offset().top-$(".navbar-header").height()},1e3)}this.slideArray=[],this.navXMLData,this.langXMLData,this.changePage=function(){$("body").addClass("page-anim-out-fw"),setTimeout(function(){$("body").hasClass("page-anim-out-fw")?($("body").removeClass("page-anim-out-fw"),$("body").addClass("page-anim-in-fw")):($("body").removeClass("page-anim-out-bw"),$("body").addClass("page-anim-in-bw")),e(),t()},500)},this.unloadContent=e,this.loadContent=t,this.resizeContent=function(){var e=$(".navbar").height();$(window).height();navigationConfig.debug&&$(".debug .debug-container").height();for(var t=0;t<l.slideArray.length;t++)l.slideArray[t].isHiddenForUser()||l.slideArray[t].hidden||l.slideArray[t].resizeContent()},this.breakpointChanged=function(){for(var e=0;e<l.slideArray.length;e++)l.slideArray[e].isHiddenForUser()||l.slideArray[e].hidden||l.slideArray[e].breakpointChanged()},this.scrollElementIntoView=g,this.scrollSlideIntoView=function(e){console.log("ContentController::scrollSlideIntoView");e=$("#slide"+e);$("html, body").animate({scrollTop:e.offset().top-$(".navbar").height()},1e3)},this.numValidSlides=0,this.lastSlideNum=0,this.firstIncompleteSlide=0,this.allowReturn=!0,this.animationController,this.showSlide=function(e){for(var t=e;t<l.slideArray.length;t++)if(!d(t,t==e))break},this.hideSlide=function(e){l.slideArray[e].hideContent()},this.getFirstUnloadedSlide=function(){for(var e=0;e<l.slideArray.length;e++)if(!l.slideArray[e].loaded)return l.slideArray[e]},this.checkFirstIncompleteComponentInView=function(){return-1!=l.firstIncompleteSlide&&!!l.slideArray[l.firstIncompleteSlide]&&!!l.slideArray[l.firstIncompleteSlide].componentController&&l.slideArray[l.firstIncompleteSlide].componentController.getFirstComponentInView()},this.isComponentAvailable=function(e){var t,a=!1;for(t in AvailableClasses.components)if(t.toLowerCase()==e.toLowerCase()){a=t;break}return a||(console.warn("Component type "+e+" not found"),!1)},this.getSlideForElement=function(e){e=e.closest(".slide").data("slide");return l.slideArray[e]},this.getComponentControllerForElement=function(e){return l.getSlideForElement(e).componentController},console.log("ContentController:init"),$(document).on(courseEvent.SLIDE_LOAD_COMPLETE,a),$(document).on(courseEvent.SLIDE_LOAD_COMPLETE,n),$(document).on(courseEvent.SLIDE_COMPLETE,n)};
var CustomDataController=function(){var s=this;this.data={},this.setData=function(t){$.isEmptyObject(t)?(s.data.questions={},s.data.results={}):s.data=t},this.setCustomData=function(t,a){console.log("CustomDataController::setCustomData",t,a);try{_.set(this.data,t,a),storageController.setCustomData(this.data)}catch(t){console.log("ERROR setting custom data")}},this.getCustomData=function(a){var o;try{o=_.get(s.data,a)}catch(t){console.log("getCustomData _.get error",t)}if("string"==typeof o){a=o;try{o=JSON.parse(o)}catch(t){console.log("getCustomData JSON parse error",t),o=a}}return o},console.log("CustomDataController:init"),s.setData(storageController.getCustomData())};
var GameAPIController=function(){var i=this;this.gameAPIAnswers={},this.getGameAPIAnswer=function(e){return gameAPIConfig.enabled?this.gameAPIAnswers[e]:null},this.getGameAPIAnswers=function(){return gameAPIConfig.enabled?this.gameAPIAnswers:null},this.saveAnswerToGameAPI=function(r,e,s){e={user_id:storageController.studentID,question_id:r,response:e.toString(),name:"",email:"",course_name:LaunchConfig.course.id,variation:languageConfig.defaultLanguage,version:LaunchConfig.course.version};console.log("GameAPIController::saveAnswerToGameAPI",e),$.ajax({type:"POST",url:gameAPIConfig.rootURL+"addAnswer",data:e,success:function(e,n,o,a){console.log(e),s&&i.getAnswerFromGameAPI(r,s)},error:function(e,n,o,a){console.log(e,n,a,o)}})},this.getAnswerFromGameAPI=function(n,o){console.log("GameAPIController::getAnswerFromGameAPI",n);var e={course_name:LaunchConfig.course.id,variation:languageConfig.defaultLanguage,version:LaunchConfig.course.version};$.ajax({type:"POST",url:gameAPIConfig.rootURL+"answer/"+n,data:e,success:function(e){e=JSON.parse(e);i.gameAPIAnswers[n]=e,o&&o(e)},error:function(e,n){}})},this.getAnswersFromGameAPI=function(n){var e={course_name:LaunchConfig.course.id,variation:languageConfig.defaultLanguage,version:LaunchConfig.course.version};$.ajax({type:"POST",url:gameAPIConfig.rootURL+"answers",data:e,success:function(e){i.gameAPIAnswers=JSON.parse(e),null==i.gameAPIAnswers&&(i.gameAPIAnswers=[]),n&&n(e)},error:function(e,n){console.log(e,n)}})},gameAPIConfig.enabled&&i.getAnswersFromGameAPI()};
var FeedbackController=function(){this.$feedbackAnim,this.initFeedback=function(e,t){(t=t||e.closest(".slide").find(".feedback")).attr("tabindex","-1")},this.showFeedback=function(e,t,i){i=i||"slideDown",(t=t||e.closest(".slide").find(".feedback"))[i]({start:function(){contentController.slideArray[e.closest(".slide").data("slide")].showElementContents($(this))},complete:function(){navigationController.scrollIntoView($(this))}}),t.focus()},this.hideFeedback=function(e,t){(t=t||e.closest(".slide").find(".feedback")).slideUp({start:function(){},complete:function(){$(this).find(".feedbackRetry").hide()}})}};
function CourseEvent(){this.PAGE_LOAD_START="pageLoadStart",this.PAGE_LOAD_COMPLETE="pageLoadComplete",this.PAGE_CHANGE="pageChange",this.SLIDE_SHOW_CONTENT="slideShowContent",this.SLIDE_HIDE_CONTENT="slideHideContent",this.COURSE_DATA_LOAD_COMPLETE="courseDataLoadComplete",this.CONTENT_DATA_LOAD_COMPLETE="contentDataLoadComplete",this.CURRENT_CONTENT_DATA_LOAD_COMPLETE="currentContentDataLoadComplete",this.XMLDATA_LOAD_START="xmlDataLoadStart",this.XMLDATA_LOAD_COMPLETE="xmlDataLoadComplete",this.TEMPLATES_LOAD_START="templatesLoadStart",this.TEMPLATES_LOAD_COMPLETE="templatesLoadComplete",this.XMLDATA_LANG_LOAD_START="onLanguageLoadStart",this.XMLDATA_LANG_LOAD_COMPLETE="onLanguageLoadComplete",this.PAGE_REPLAY="pageReplay",this.SLIDE_LOAD_START="slideLoadStart",this.SLIDE_LOAD_COMPLETE="slideLoadComplete",this.SLIDE_COMPLETE="slideComplete",this.PREV_BTN_CLICK="prevBtnClick",this.NEXT_BTN_CLICK="nextBtnClick",this.PLAYED_MEDIA="playedMedia",this.PAUSED_MEDIA="pausedMedia",this.ENDED_MEDIA="endedMedia",this.CLEAR_MEDIA="clearMedia",this.AUDIO_ON="audioOn",this.AUDIO_OFF="audioOff",this.TRANSCRIPT_ON="transcriptOn",this.TRANSCRIPT_OFF="transcriptOff",this.TRANSCRIPT_UPDATE="transcriptUpdate",this.CLOSECOURSE_YES="closeCourseYes",this.CLOSECOURSE_NO="closeCourseNo",this.PAGE_PLAY_EXTERNAL="pagePlayExternal",this.PAGE_PAUSE_EXTERNAL="pagePauseExternal",this.ON_BRANDING_RENDER_COMPLETE="onBrandingRenderComplete",this.KEY_UP="keyUp",this.KEY_DOWN="keyDown",this.PAGE_SWIPE="pageSwipe",this.DEVICE_BREAKPOINT_CHANGED="deviceBreakpointChanged",this.COMPONENT_COMPLETE="componentComplete",this.VIDEO_COMPLETE="videoComplete"}
var DebugController=function(e){var g=this;this.$debug,this.$slideSelect,this.init=function(){g.$debug=$(".debug"),g.$debug.html(function(){var e='<div class="debug-container container" aria-hidden="true">';e=(e=(e=(e=(e=(e=(e=(e+='<div class="row"><div class="col-sm-12">')+'DEBUG: <a class="debug_btn_Back debug_Btn" href="javascript:void(0);" title="Go to previous page">Back</a>')+' | <a class="debug_btn_Reload debug_Btn" href="javascript:void(0);" title="Reload browser and return at current page">Reload</a>')+' | <a class="debug_btn_Next debug_Btn" href="javascript:void(0);" title="Go to next page">Next</a>')+' | Template: <span class="slide_template"></span>')+" | Slide: ")+'<select></select><a class="debug_Btn pageLockToggle" href="javascript:void(0);" title="Toggle page lock on/off"></a>')+'<a class="debug_Btn animToggle" href="javascript:void(0);" title="Toggle animation debug on/off"></a><div class="debug-icon-wrapper">',liveEditConfig.enabled?e+='<div class="icon-liveedit active" title="LiveEdit enabled"></div>':e+='<div class="icon-liveedit" title="LiveEdit disabled"></div>';LaunchConfig.cdn.enabled&&!LaunchConfig.cdn.updatesOnly?e+='<div class="icon-livecdn active" title="LiveContent enabled"></div>':e+='<div class="icon-livecdn" title="LiveContent disabled"></div>';LaunchConfig.cdn.enabled&&LaunchConfig.cdn.updatesOnly?e+='<div class="icon-liveupdate active" title="LiveUpdate enabled"></div>':e+='<div class="icon-liveupdate" title="LiveUpdate disabled"></div>';return e=(e+="</div></div>")+"</div></div>"}()),g.$slideSelect=g.$debug.find("select");for(var e=courseData.getRoles(),a=e.map(e=>e.abbr).filter(e=>void 0!==e),i=0;i<navigationController.pageArray.length;i++)for(var n=0;n<navigationController.pageArray[i].slides.length;n++){var t=[];if(a.length){if(navigationController.pageArray[i].slides[n].roles.length!=e.length)for(var l=0;l<navigationController.pageArray[i].slides[n].roles.length;l++)e[navigationController.pageArray[i].slides[n].roles[l]].abbr&&t.push(e[navigationController.pageArray[i].slides[n].roles[l]].abbr);t=function(e,i){e=e.filter(e=>{const a=e.split("-")[0];return-1===i.indexOf(e)&&i.some(e=>e.startsWith(a+"-"))});return _.uniq(e),0<e.length?i:(e=_.uniq(i.map(e=>e.split("-")[0])),_.uniq(e),e)}(a,t)}else t=navigationController.pageArray[i].slides[n].roles;var o=navigationController.pageArray[i].slides[n].xmlPath.replace(".xml","").split("/"),o=(2<o.length?o.slice(2):o.slice(1)).join("/"),r="m"+navigationController.pageArray[i].module+"p"+navigationController.pageArray[i].page+"s"+n;g.$slideSelect.append('<option value="'+r+'" data-module="'+navigationController.pageArray[i].module+'"data-page="'+navigationController.pageArray[i].page+'" data-slide="'+n+'">'+r+" | "+o+(t.length?" ("+t.join(",")+")":"")+"</option>")}g.$slideSelect.on("change",function(){var e=$("option:selected",this);navigationController.changePageToData(e.data("module"),e.data("page"),e.data("slide"))}),navigationConfig.pageLock&&g.$debug.find(".pageLockToggle").addClass("locked");g.$debug.find(".pageLockToggle").on("click",function(){navigationConfig.pageLock=!navigationConfig.pageLock,$(this).toggleClass("locked"),navigationController.replayPage()});var d=parseInt(utils.getURLParameter("animdebug"));isNaN(d)||($("body").addClass("anim-debug-on"),g.$debug.find(".animToggle").addClass("active"));g.$debug.find(".animToggle").on("click",function(){$("body").toggleClass("anim-debug-on"),$(this).toggleClass("active"),navigationController.replayPage()})},this.update=function(){for(var e=location.search.split("&"),a=!1,i=!1,n=0;n<e.length;n++){var t;-1!=e[n].indexOf("page=")&&((t=e[n].split("="))[1]=navigationController.currentPage,e[n]=t.join("="),a=!0),-1!=e[n].indexOf("lang=")&&(e[n]="lang="+currentLanguage,i=!0)}a||e.push("page="+navigationController.currentPage);i||currentLanguage==languageConfig.defaultLanguage||e.push("lang="+currentLanguage);g.$debug.find(".debug_btn_Reload").attr("href",location.protocol+"//"+location.host+location.pathname+e.join("&")),g.$debug.find(".slide_template").html(navigationController.pageArray[navigationController.currentPage].slides[0].template);var l=navigationController.pageArray[navigationController.currentPage],l="m"+l.module+"p"+l.page+"s0";g.$slideSelect.val(l)},this.showDebug=function(e){(e=null==e||e)?($("body").addClass("debug-on"),g.$debug.removeClass("hidden")):($("body").removeClass("debug-on"),g.$debug.addClass("hidden"))},this.hideDebug=function(e){g.showDebug(!1)}};
const InlineSVG={play:'<svg xmlns="http://www.w3.org/2000/svg" width="42" height="42" viewBox="0 0 42 42"> <defs> <style> </style> </defs> <g id="play" transform="translate(14973 12212)"> <path id="play-2" data-name="play" d="M8,7.571V25.7a1.746,1.746,0,0,0,2.695,1.47L24.94,18.106a1.75,1.75,0,0,0,0-2.958L10.695,6.1A1.746,1.746,0,0,0,8,7.571Z" transform="translate(-14967 -12207.318)"/> </g></svg>',audio:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"> <polygon class="cls-2" points="48.14 83.65 24.68 65.19 11.47 60.57 11.47 39.04 25.06 34.42 48.14 15.96 48.14 83.65"/> <path id="wave1" d="M56.42,32.11A21.84,21.84,0,0,1,57,68"/> <path id="wave2" d="M67.19,23.78c5.81,5.6,9.66,15.39,9.66,26.54,0,10.79-3.62,20.33-9.11,26"/> <path id="wave3" d="M78.65,85.48c6.08-8.9,9.88-21.36,9.88-35.16,0-14.12-4-26.86-10.34-35.8"/> <line id="crossLeft" x1="90.39" y1="31.48" x2="56.24" y2="68.72"/> <line id="crossRight" x1="56.24" y1="31.48" x2="90.39" y2="68.72"/></svg>',exit:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"> <line class="cls-2" x1="19.51" y1="82.14" x2="84.3" y2="17.36"/> <line class="cls-2" x1="84.3" y1="82.14" x2="19.51" y2="17.36"/></svg>',help:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"> <path class="cls-2" d="M34.52,38.09c0-7.92,9.33-16.19,17.89-12.15,8.72,4.12,8.61,13.61,2.76,19.12-4.7,4.42-9.61,5.88-9.3,20.39"/> <line class="cls-2" x1="40.91" y1="74.04" x2="48.91" y2="74.04"/> <circle class="cls-2" cx="46.91" cy="49.75" r="38.14"/></svg>',language:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"> <circle class="cls-1" cx="49.82" cy="42.77" r="28.8"/> <path class="cls-1" d="M78.62,66.17A37.19,37.19,0,0,1,67.16,76.46a34.75,34.75,0,0,1-17.34,4.62c-20.08,0-36.36-17.15-36.36-38.31A38.81,38.81,0,0,1,30.33,10.42a38.15,38.15,0,0,1,3.6-2.12"/> <line class="cls-1" x1="30.33" y1="91.98" x2="67.54" y2="91.98"/> <line class="cls-1" x1="48.5" y1="80.5" x2="48.5" y2="93.5"/></svg>',menu:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"> <line class="menu-item" x1="30" y1="25" x2="91" y2="25"/> <line class="menu-bullet" x1="8" y1="25" x2="15" y2="25"/> <line class="menu-item" x1="30" y1="49" x2="91" y2="49"/> <line class="menu-bullet" x1="8" y1="49" x2="15" y2="49"/> <line class="menu-item" x1="30" y1="74" x2="91" y2="74"/> <line class="menu-bullet" x1="8" y1="74" x2="15" y2="74"/></svg>',resource:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"> <polygon class="cls-2" points="10.89 74.19 50.26 86.68 88.92 74.19 88.92 12.82 50.26 25.31 10.89 12.82 10.89 74.19"/> <line class="cls-2" x1="50.04" y1="23.87" x2="50.04" y2="85.08"/></svg>',bridge:'<?xml version="1.0" encoding="UTF-8"?><svg id="Layer_134" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"> <polygon class="cls-1" points="53.02 34.93 47.01 34.93 44.41 65.07 55.59 65.07 53.02 34.93"/> <polygon class="cls-1" points="12.02 34.93 6.01 34.93 3.41 65.07 14.59 65.07 12.02 34.93"/> <polygon class="cls-1" points="94.02 34.93 88.01 34.93 85.41 65.07 96.59 65.07 94.02 34.93"/> <line class="cls-1" x1="53.54" y1="41.01" x2="87.37" y2="41.01"/> <line class="cls-1" x1="12.54" y1="41.01" x2="46.37" y2="41.01"/> <path class="cls-1" d="M13.42,51.57c4.45-1.56,17.94-5.37,31.71,.2"/> <path class="cls-1" d="M54.42,51.57c4.45-1.56,17.94-5.37,31.71,.2"/> </svg>',bulb:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"> <g id="bulb"> <path class="cls-2" d="M46.12,95.44a1,1,0,0,1-.49-.14l-4.84-2.9a1,1,0,0,1-.46-.76l-.68-1.45-2.72.41h-.15a1,1,0,0,1-.63-.24,1,1,0,0,1-.34-.73v-5.8a1,1,0,0,1,.14-.49l.28-.48L36,82.38a1,1,0,0,1-.14-.48V73.2a1,1,0,0,1,.28-.67l.67-.69-.69-.68a1,1,0,0,1-.29-.69c0-5-3.08-12.16-6.72-15.74a29.12,29.12,0,0,1-8.8-20.95,29.49,29.49,0,0,1,59,0,29.12,29.12,0,0,1-8.8,20.95c-3.64,3.57-6.72,10.79-6.72,15.74a1,1,0,0,1-.37.75l-.76.62.62.75a1,1,0,0,1,.23.61V78a.89.89,0,0,1-.13.48L63,79l.28.48a.94.94,0,0,1,.14.48v5.8a1,1,0,0,1-.82,1l-1.9.28-.19,1.27a1,1,0,0,1-.19,1.08l-5.8,5.8a1,1,0,0,1-.68.28Z"/> <line class="cls-2" x1="36.46" y1="72.24" x2="61.59" y2="72.24"/> <line class="cls-2" x1="36.46" y1="82.87" x2="63.53" y2="79"/> <line class="cls-2" x1="36.46" y1="89.64" x2="63.53" y2="85.77"/> </g></svg>',bullhorn:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"> <g id="Layer_15" data-name="Layer 15"> <rect class="cls-2" x="13" y="26" width="28" height="36"/> <polyline class="cls-2" points="20.5 62.5 20.5 83.5 32.5 83.5 32.5 62.5"/> <polyline class="cls-2" points="13.5 30.5 6.5 30.5 6.5 56.5 13.5 56.5"/> <path class="cls-2" d="M42.5,30.5h3.84a4.37,4.37,0,0,0,2.45-.75L68.5,16.5v54L48.27,57.22a4.37,4.37,0,0,0-2.41-.72H42.5"/> <path class="cls-2" d="M67.5,35.5H71A4.53,4.53,0,0,1,75.5,40V48A4.53,4.53,0,0,1,71,52.5H67.5"/> <line class="cls-2" x1="81.5" y1="43.5" x2="94.5" y2="43.5"/> <line class="cls-2" x1="80.36" y1="33.24" x2="91.64" y2="26.78"/> <line class="cls-2" x1="80.36" y1="53.78" x2="91.64" y2="60.24"/> </g></svg>',callout:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"> <polygon class="cls-2" points="93.4 66.5 45.74 66.5 31.4 81.5 30.77 66.5 6.4 66.5 6.4 18.5 93.4 18.5 93.4 66.5"/> <line class="cls-2" x1="17.9" y1="31.5" x2="81.9" y2="31.5"/> <line class="cls-2" x1="17.9" y1="42.5" x2="81.9" y2="42.5"/> <line class="cls-2" x1="17.9" y1="53.5" x2="81.9" y2="53.5"/> </svg>',compass:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"> <circle class="cls-2" cx="50.02" cy="49.84" r="35.8"/> <circle class="cls-2" cx="50.02" cy="49.84" r="46.75"/> <line class="cls-2" x1="50.05" y1="15.36" x2="50.05" y2="24.33"/> <line class="cls-2" x1="50.05" y1="75.36" x2="50.05" y2="84.33"/> <line class="cls-2" x1="84.54" y1="49.84" x2="75.57" y2="49.84"/> <line class="cls-2" x1="24.54" y1="49.84" x2="15.57" y2="49.84"/> <polygon class="cls-2" points="62.32 37.35 43.25 43.03 37.57 62.09 57.04 56.82 62.32 37.35"/> <line class="cls-2" x1="43.25" y1="43.03" x2="57.28" y2="56.83"/> </svg>',computer:'<?xml version="1.0" encoding="UTF-8"?><svg id="Layer_95" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"> <rect class="cls-1" x="5.68" y="72.26" width="88.93" height="12.12"/> <rect class="cls-1" x="12.5" y="27.26" width="75.28" height="44.99"/> <rect class="cls-1" x="33.65" y="18.12" width="32.99" height="63.28" transform="translate(99.9 -.38) rotate(90)"/> <line class="cls-1" x1="45.93" y1="78.32" x2="54.36" y2="78.32"/> </svg>',datachart:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"> <polyline class="cls-2" points="79.14 87.91 3.97 87.91 3.97 12.74"/> <circle class="cls-2" cx="29.29" cy="55.02" r="6.3"/> <circle class="cls-2" cx="45.47" cy="65.5" r="6.3"/> <circle class="cls-2" cx="15.57" cy="74.51" r="6.3"/> <line class="cls-2" x1="19.2" y1="69.36" x2="25.66" y2="60.17"/> <line class="cls-2" x1="49.09" y1="60.35" x2="55.84" y2="50.75"/> <line class="cls-2" x1="40.18" y1="62.07" x2="34.57" y2="58.44"/> <circle class="cls-2" cx="63.92" cy="40.64" r="12.94"/> <line class="cls-2" x1="72.95" y1="49.9" x2="79.01" y2="55.96"/> <polygon class="cls-2" points="94.92 66.61 89.56 71.85 76.85 59.15 82.21 53.91 94.92 66.61"/> </svg>',eye:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"> <path class="cls-2" d="M97,50S77.19,74.49,50.5,74.54,3.41,50.19,3.41,50.19,23.81,25.7,50.5,25.65,97,50,97,50Z"/> <circle class="cls-2" cx="50.19" cy="50.09" r="19.05"/> <circle class="cls-2" cx="50.19" cy="50.09" r="10.43"/> </svg>',magnify:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"> <rect class="cls-2" x="66.24" y="52.83" width="9.11" height="35.66" transform="translate(-29.23 70.75) rotate(-45)"/> <circle class="cls-2" cx="35.65" cy="35.52" r="22" transform="translate(-12.87 22.15) rotate(-29.49)"/> <line class="cls-2" x1="50.41" y1="50.81" x2="58.45" y2="58.86"/> </svg>',microscope:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"> <path class="cls-2" d="M66.44,84.19,73,96.79H20.18l8-15.92,8-.1V66.51H50v14.2c10.65-2.54,18.59-12.83,18.55-25.16S60.55,33,50,30.44v6.75l2,4.6H34.18l2-4.74V3.51H50V17.18c17.11,2.87,30.24,18.44,30.3,37.21A38.16,38.16,0,0,1,66.44,84.19Z"/> <line class="cls-2" x1="31.24" y1="3.51" x2="53.88" y2="3.51"/> <line class="cls-2" x1="28.24" y1="66.51" x2="55.88" y2="66.51"/> <circle class="cls-2" cx="43.5" cy="87.77" r="3.38"/> </svg>',morterboard:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"> <polygon class="cls-2" points="46.74 11.5 4.74 35.5 47.74 59.5 90.74 35.5 46.74 11.5"/> <circle class="cls-2" cx="47.74" cy="35.5" r="5"/> <path class="cls-2" d="M53.74,35.5h34s3,.5,2.9,1.38c-.39,5.81-1.9,28.28-1.9,32.62,0,5,7.72,5,7,0-1-7-5-32-5-32"/> <path class="cls-2" d="M74.74,44.5V61a27.5,27.5,0,0,1-27.5,27.5h0A27.5,27.5,0,0,1,19.74,61V44.5"/> </svg>',pencil:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"> <path class="cls-2" d="M71.12,7.12,92.38,28.37l-51.1,51.1L10.22,91.74a1.22,1.22,0,0,1-1.6-1.55L19.93,58.12Z"/> <line class="cls-2" x1="19.93" y1="58.12" x2="41.28" y2="79.47"/> <line class="cls-2" x1="12.05" y1="80.29" x2="24.75" y2="86"/> <line class="cls-2" x1="77.86" y1="13.86" x2="26.76" y2="64.96"/> <line class="cls-2" x1="85.41" y1="21.4" x2="34.31" y2="72.5"/> </svg>',plaster:'<?xml version="1.0" encoding="UTF-8"?><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"> <rect class="dn" x="3.23" y="31.53" width="93.45" height="36.11" rx="17.53" ry="17.53"/> <g> <rect class="dl" x="38.29" y="39.86" width="23.33" height="19.44"/> <g> <rect class="do" x="26.35" y="44.38" width="3.47" height="3.47"/> <rect class="do" x="18.01" y="44.38" width="3.47" height="3.47"/> <rect class="do" x="18.01" y="51.32" width="3.47" height="3.47"/> <rect class="do" x="26.35" y="51.32" width="3.47" height="3.47"/> </g> <g> <rect class="do" x="78.43" y="44.38" width="3.47" height="3.47"/> <rect class="do" x="70.1" y="44.38" width="3.47" height="3.47"/> <rect class="do" x="70.1" y="51.32" width="3.47" height="3.47"/> <rect class="do" x="78.43" y="51.32" width="3.47" height="3.47"/> </g> </g></svg>',quality:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"> <path class="cls-2" d="M94.57,50,84,39,86.06,23.8,71,21.11,63.78,7.6,50,14.29,36.22,7.6,29,21.11,13.94,23.8,16,39,5.43,50,16,61,13.94,76.2,29,78.89,36.22,92.4,50,85.71,63.78,92.4,71,78.89,86.06,76.2,84,61ZM68.86,76,62.38,88.1,50,82.09l-12.38,6L31.14,76,17.59,73.55l1.88-13.63L9.94,50l9.53-9.92L17.59,26.45,31.14,24,37.62,11.9l12.38,6,12.38-6L68.86,24l13.55,2.42L80.53,40.08,90.06,50l-9.53,9.92,1.88,13.63Zm-21.92-26-6.56-6.56-8.29,8.28L46.94,66.49l22-22-8.28-8.28Zm0,12L36.7,51.64,40.38,48l6.56,6.57L60.68,40.79l3.68,3.68Z"/> </svg>',target:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"> <circle class="cls-2" cx="55.85" cy="56.75" r="6.17"/> <circle class="cls-3" cx="55.85" cy="56.75" r="15.79"/> <circle class="cls-3" cx="55.85" cy="56.75" r="27.15"/> <circle class="cls-3" cx="55.85" cy="56.75" r="38.91"/> <line class="cls-3" x1="55.85" y1="56.75" x2="16.95" y2="17.85"/> <polygon class="cls-4" points="16.91 4.47 29.39 16.72 29.33 30.19 15.92 30.19 3.44 17.94 16.95 17.85 16.91 4.47"/> </svg>',thumbsdown:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"> <path class="cls-2" d="M91.61,32.86a.17.17,0,0,0,0,.25,7.78,7.78,0,0,1,3.72,6.59A8.45,8.45,0,0,1,92.5,46a9.88,9.88,0,0,1-2.25,1.49.16.16,0,0,0-.07.23,9.1,9.1,0,0,1,1.48,5.16,9.52,9.52,0,0,1-2,5.91,7.69,7.69,0,0,1-6.18,2.92H58.89c2.69,5.1,7.85,15.53,8.62,21.75a9.31,9.31,0,0,1-4,9.41,11.86,11.86,0,0,1-4.73,1.82l-1.5.19-6.41-15L34.21,65.16l-8.68-11.5h-14l-3,0-.2-43H19.69l13.52-5H79.53c5,0,7.63,4.54,7.63,8.82a22.45,22.45,0,0,1-.56,3.88.24.24,0,0,0,.24.3c4,.17,6.7,3.56,6.82,8.17A9.31,9.31,0,0,1,91.61,32.86Z"/> </svg>',thumbsup:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"> <path class="cls-2" d="M91.61,66.8a.17.17,0,0,1,0-.25A7.78,7.78,0,0,0,95.37,60a8.45,8.45,0,0,0-2.87-6.25,9.88,9.88,0,0,0-2.25-1.49.16.16,0,0,1-.07-.23,9.12,9.12,0,0,0,1.48-5.16,9.5,9.5,0,0,0-2-5.91A7.69,7.69,0,0,0,83.53,38H58.89c2.69-5.11,7.85-15.53,8.62-21.75a9.31,9.31,0,0,0-4-9.41A11.86,11.86,0,0,0,58.78,5l-1.5-.19-6.41,15L34.21,34.5,25.53,46h-17l-.2,43H19.69l13.52,5H79.53c5,0,7.63-4.55,7.63-8.82a22.73,22.73,0,0,0-.56-3.89.25.25,0,0,1,.24-.3c4-.16,6.7-3.55,6.82-8.16A9.31,9.31,0,0,0,91.61,66.8Z"/> </svg>',warning:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"> <circle id="dot" class="st2" cx="50" cy="72.4" r="4"/> <path id="exclamation" class="st2" d="M53.1,37l-1.6,27.4c0,0.8-0.8,1.5-1.6,1.4c-0.8,0-1.4-0.7-1.4-1.4L46.9,37c-0.1-1.7,1.2-3.1,2.9-3.2 c1.7-0.1,3.1,1.2,3.2,2.9C53.1,36.8,53.1,36.9,53.1,37z"/> <path id="triangle" class="st3" d="M47.8,8.9L4.1,84.5c-1,1.7,0.2,3.9,2.2,3.9h87.4c2,0,3.2-2.1,2.2-3.9L52.2,8.9 C51.2,7.2,48.8,7.2,47.8,8.9z"/></svg>',"arrow-down":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"> <path class="path" d="M5,50 L50,95 L95,50 M50,5 L50,95"/></svg>',"arrow-up":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"> <path class="path" d="M5,50 L50,5 L95,50 M50,5 L50,95"/></svg>',bullhornmute:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"> <rect class="cls-2" x="13" y="26" width="28" height="36"/> <polyline class="cls-2" points="20.5 62.5 20.5 83.5 32.5 83.5 32.5 62.5"/> <polyline class="cls-2" points="13.5 30.5 6.5 30.5 6.5 56.5 13.5 56.5"/> <path class="cls-2" d="M42.5,30.5h3.84a4.37,4.37,0,0,0,2.45-.75L68.5,16.5v54L48.27,57.22a4.37,4.37,0,0,0-2.41-.72H42.5"/> <path class="cls-2" d="M67.5,35.5H71A4.53,4.53,0,0,1,75.5,40V48A4.53,4.53,0,0,1,71,52.5H67.5"/> <line x1="80" y1="33" x2="96" y2="57"/> <line x1="80" y1="57" x2="96" y2="33"/></svg>',casestudy:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"> <line class="cls-2" x1="14.5" y1="26.5" x2="44.5" y2="33.5"/> <line class="cls-2" x1="14.5" y1="36.5" x2="44.5" y2="43.5"/> <line class="cls-2" x1="14.5" y1="46.5" x2="44.5" y2="53.5"/> <line class="cls-2" x1="14.5" y1="56.5" x2="44.5" y2="63.5"/> <line class="cls-2" x1="14.5" y1="66.5" x2="44.5" y2="73.5"/> <line class="cls-2" x1="85.5" y1="26.5" x2="55.5" y2="33.5"/> <line class="cls-2" x1="85.5" y1="36.5" x2="55.5" y2="43.5"/> <line class="cls-2" x1="85.5" y1="46.5" x2="55.5" y2="53.5"/> <line class="cls-2" x1="85.5" y1="56.5" x2="55.5" y2="63.5"/> <line class="cls-2" x1="85.5" y1="66.5" x2="55.5" y2="73.5"/> <polygon class="cls-2" points="50.75 26.5 9.75 17.5 9.75 73.5 50.75 82.5 90.75 73.5 90.75 17.5 50.75 26.5"/> <line class="cls-2" x1="50.25" y1="26.37" x2="50.25" y2="81.5"/> </svg>',checklist_warning:'<?xml version="1.0" encoding="UTF-8"?><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"> <g> <path class="dl" d="M38.51,45.65l.73,46.39c0,.97,.79,1.76,1.76,1.76h44.1c.97,0,1.76-.79,1.76-1.76l.95-60.71c0-.97-.79-1.76-1.76-1.76H45.16"/> <path class="dl" d="M73.89,28.41l1.86-10.33c.16-.88-.52-1.69-1.41-1.69h-22.57c-.89,0-1.57,.81-1.41,1.69l1.86,10.33"/> <g> <line class="dl" x1="54.12" y1="41.86" x2="79.38" y2="41.86"/> <line class="dl" x1="46.12" y1="41.86" x2="49.38" y2="41.86"/> </g> <g> <line class="dl" x1="54.12" y1="51.86" x2="79.38" y2="51.86"/> <line class="dl" x1="46.12" y1="51.86" x2="49.38" y2="51.86"/> </g> <g> <line class="dl" x1="54.12" y1="61.86" x2="79.38" y2="61.86"/> <line class="dl" x1="46.12" y1="61.86" x2="49.38" y2="61.86"/> </g> <g> <line class="dl" x1="54.12" y1="71.86" x2="79.38" y2="71.86"/> <line class="dl" x1="46.12" y1="71.86" x2="49.38" y2="71.86"/> </g> <g> <line class="dl" x1="54.12" y1="81.86" x2="79.38" y2="81.86"/> <line class="dl" x1="46.12" y1="81.86" x2="49.38" y2="81.86"/> </g> </g> <g> <path class="dm" d="M44.69,41.9H5.25c-1.53,0-2.48-1.67-1.7-2.99L23.27,3.86c.77-1.28,2.63-1.28,3.39,0l19.72,35.05c.79,1.32-.16,2.99-1.7,2.99Z"/> <circle class="dm" cx="24.95" cy="34.2" r="1.48"/> <polygon class="do" points="26.45 28.67 23.49 28.67 22.49 14.52 27.45 14.52 26.45 28.67"/> </g></svg>',"chevron-down":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"> <path class="path" d="M5,25 L50,75 L95,25"/></svg>',"chevron-left":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"> <path class="path" d="M75,5 L25,50 L75,95"/></svg>',"chevron-right":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"> <path class="path" d="M25,5 L75,50 L25,95"/></svg>',"chevron-up":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"> <path class="path" d="M5,75 L50,25 L95,75"/></svg>',clipboard:'<?xml version="1.0" encoding="UTF-8"?><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 99 99"> <g> <path class="cls-1" d="M49.75,21.39H26.01c-.97,0-1.76,.79-1.76,1.76l.95,60.71c0,.97,.79,1.76,1.76,1.76h22.79"/> <path class="cls-1" d="M49.25,21.39h23.74c.97,0,1.76,.79,1.76,1.76l-.95,60.71c0,.97-.79,1.76-1.76,1.76h-22.79"/> </g> <path class="cls-1" d="M38.66,20.23l-1.86-10.33c-.16-.88,.52-1.69,1.41-1.69h22.57c.89,0,1.57,.81,1.41,1.69l-1.86,10.33"/> <g> <g> <line class="cls-1" x1="58.13" y1="33.68" x2="32.87" y2="33.68"/> <line class="cls-1" x1="66.13" y1="33.68" x2="62.87" y2="33.68"/> <line class="cls-1" x1="66.13" y1="43.68" x2="62.87" y2="43.68"/> </g> <line class="cls-1" x1="58.13" y1="43.68" x2="32.87" y2="43.68"/> <g> <line class="cls-1" x1="58.13" y1="53.68" x2="32.87" y2="53.68"/> <line class="cls-1" x1="66.13" y1="53.68" x2="62.87" y2="53.68"/> </g> <g> <line class="cls-1" x1="58.13" y1="63.68" x2="32.87" y2="63.68"/> <line class="cls-1" x1="66.13" y1="63.68" x2="62.87" y2="63.68"/> </g> <g> <line class="cls-1" x1="58.13" y1="73.68" x2="32.87" y2="73.68"/> <line class="cls-1" x1="66.13" y1="73.68" x2="62.87" y2="73.68"/> </g> </g></svg>',cloud:'<?xml version="1.0" encoding="UTF-8"?><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 99 99"> <path class="cls-1" d="M68.85,37.55c-2.13,0-4.17,.34-6.09,.94-.11,.03-.4-.24-.44-.42-1.87-8.24-9.62-14.42-18.91-14.42-10.69,0-19.35,8.17-19.35,18.25,0,.68-.6,1.95-.97,1.95-8.84,0-16.01,6.76-16.01,15.1s7.17,15.1,16.01,15.1h45.75c10.69,0,19.35-8.17,19.35-18.25s-8.66-18.25-19.35-18.25Z"/></svg>',document:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"> <polygon class="cls-2" points="85.63 92.25 14.38 92.25 14.38 7.75 69.61 7.75 85.63 23.7 85.63 92.25"/> <polyline class="cls-2" points="69.15 7.75 69.15 24.23 85.63 24.23"/> <line class="cls-2" x1="22.19" y1="24.23" x2="59.66" y2="24.23"/> <line class="cls-2" x1="22.19" y1="37.65" x2="77.81" y2="37.65"/> <line class="cls-2" x1="22.19" y1="51.01" x2="77.81" y2="51.01"/> <line class="cls-2" x1="22.19" y1="64.37" x2="77.81" y2="64.37"/> <line class="cls-2" x1="22.19" y1="77.73" x2="77.81" y2="77.73"/> </svg>',facehappy:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"> <circle class="cls-2" cx="50.5" cy="49.5" r="34.5"/> <ellipse cx="39" cy="39" rx="4.5" ry="7"/> <ellipse cx="62" cy="39" rx="4.5" ry="7"/> <path class="cls-2" d="M29,60c10,11,29,14,42,0"/> </svg>',facesad:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"> <circle class="cls-2" cx="50.5" cy="49.5" r="34.5"/> <ellipse cx="39" cy="39" rx="4.5" ry="7"/> <ellipse cx="62" cy="39" rx="4.5" ry="7"/> <path class="cls-2" d="M29,69.41c10-11,29-14,42,0"/> </svg>',faceunsure:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"> <circle class="cls-2" cx="50.5" cy="49.5" r="34.5"/> <ellipse cx="39" cy="39" rx="4.5" ry="7"/> <ellipse cx="62" cy="39" rx="4.5" ry="7"/> <path class="cls-2" d="M29,64.41C41,61,57,61,71,64.41"/> </svg>',flag:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 100 100"> <g class="cls-1"> <line class="cls-2" x1="16.41" y1="16.53" x2="31.98" y2="92.57"/> </g> <path d="M86.68,52.6c-18.33-13.87-39.23-.68-54.91.09-1.12.06-2.56,0-2.56,0L21.88,16.9a3.73,3.73,0,0,1,1.11.17c16.25,5.66,37.32-13.18,56.34-1.88L87,52.6S88.14,53,86.68,52.6Z"/> </svg>',flip:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"> <path class="cls-2" d="M72.44,35h8.38A14.36,14.36,0,0,1,95.14,49.36v.92A14.36,14.36,0,0,1,80.82,64.6h-62A14.36,14.36,0,0,1,4.47,50.28v-.92A14.36,14.36,0,0,1,18.79,35H33.05"/> <polyline class="cls-2" points="88.06 22.46 72.96 35.04 88.06 47.61"/> <polyline class="cls-2" points="66.49 72.7 66.49 79.52 33.15 93.71 33.15 6.21 66.49 20.41 66.49 56.52"/> </svg>',gears:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"> <path class="cls-2" d="M58.51,73.5l.22-.73,8.41-2.45v-6L58.6,61.82l-.23-.72a21,21,0,0,0-1.53-3.61l-.37-.67,4.1-7.47-4.25-4.26-7.56,4.15-.66-.35a21.29,21.29,0,0,0-4-1.58l-.74-.22L41.1,39.16h-6l-2.34,8-.72.23a20.6,20.6,0,0,0-4.11,1.81l-.68.39-7.1-3.9L15.87,50l4,7.34-.34.66A21.61,21.61,0,0,0,18,62.16l-.2.77L9.94,65.21v6l8.21,2.39.23.69a21.5,21.5,0,0,0,1.76,3.84l.4.69-4,7.35,4.25,4.25,7.76-4.26.65.32a20.88,20.88,0,0,0,3.63,1.35l.77.21L36,96.36h6l2.54-8.71.68-.24a20.33,20.33,0,0,0,3.34-1.48l.68-.38L57,89.79l4.25-4.25-4.38-8,.33-.66A21.09,21.09,0,0,0,58.51,73.5Z"/> <circle class="cls-3" cx="38.54" cy="67.76" r="9.41"/> <path class="cls-3" d="M83.38,30.9l.17-.57,6.53-1.9V23.77l-6.63-1.94-.18-.55a15.81,15.81,0,0,0-1.19-2.8L81.8,18,85,12.16l-3.3-3.3-5.86,3.22-.52-.28a16.69,16.69,0,0,0-3.06-1.22l-.58-.17L69.87,4.26H65.21L63.39,10.5l-.56.17a16.27,16.27,0,0,0-3.19,1.41l-.53.3-5.51-3-3.3,3.29,3.13,5.7-.27.51a16.56,16.56,0,0,0-1.23,3.24l-.16.6L45.7,24.46v4.67L52.07,31l.18.53a16,16,0,0,0,1.36,3l.32.54-3.13,5.7L54.1,44l6-3.3.51.25A16.25,16.25,0,0,0,63.44,42l.59.16,1.88,6.45h4.66l2-6.76.53-.18a16.1,16.1,0,0,0,2.59-1.15l.53-.3,6,3.29,3.3-3.3-3.4-6.19.26-.51A16.24,16.24,0,0,0,83.38,30.9Z"/> <circle class="cls-3" cx="67.89" cy="26.45" r="7.3"/> </svg>',handshake:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"> <path class="cls-2" d="M96.06,33.7,78.93,50.84l-8.57,15S57.51,54.05,56.44,53s-2.14-8.57-2.14-8.57H48.94s-4.28,5.36-6.42,6.43-9.64,1.07-9.64,0S45.73,36.92,45.73,36.92H62.86L82.14,18.71Z"/> <line class="cls-2" x1="69.29" y1="30.49" x2="84.28" y2="45.48"/> <rect class="cls-2" x="1.25" y="31.48" width="36.41" height="8.57" transform="translate(-19.6 24.27) rotate(-45.06)"/> <polyline class="cls-2" points="12.13 49.91 18.19 55.96 38.99 35.11 32.93 29.06"/> <line class="cls-2" x1="37.16" y1="36.92" x2="48.94" y2="36.92"/> <line class="cls-2" x1="20.03" y1="55.12" x2="27.53" y2="62.62"/> <path class="cls-2" d="M53.88,59.61l16.6,16.72a3.22,3.22,0,0,1,0,4.55h0a3.21,3.21,0,0,1-4.54,0L49.32,64.14"/> <path class="cls-2" d="M69.29,64.76,72.5,68a3.54,3.54,0,0,1,.1,5.41h0a4.51,4.51,0,0,1-4.65.5"/> <path class="cls-2" d="M64.93,80.14A3.21,3.21,0,0,1,64,83h0a3.21,3.21,0,0,1-4.54,0L47.87,72.38"/> <path class="cls-2" d="M48,74s1.55-1.45-1-4c-1.5-1.5-4.14-.18-5.35.57a.27.27,0,0,1-.41-.31C43,68,39,64,34.5,67.69c-.15.12-.37,0-.32-.24A3.69,3.69,0,0,0,33,64a4.65,4.65,0,0,0-7,0q-3,3,0,6c.78.78,3.38,1,5,.52a.28.28,0,0,1,.34.4A3.18,3.18,0,0,0,32,75a3.7,3.7,0,0,0,3.26,1.21.5.5,0,0,1,.57.57A4.82,4.82,0,0,0,37,81c1.13,1.13,3.21.13,4.3-.53a.37.37,0,0,1,.55.36c-.18,1.28-.28,3.74,1.15,5.17,2.28,2.28,5.72-.64,7.24-2.17a.49.49,0,0,1,.84.28c.2,1.47.83,3.89,2.92,3.89,3,0,5.41-4.59,4-6"/> <line class="cls-2" x1="50" y1="84" x2="55" y2="79"/> <line class="cls-2" x1="41" y1="81" x2="49" y2="73"/> <line class="cls-2" x1="35" y1="77" x2="43" y2="69"/> <line class="cls-2" x1="30" y1="72" x2="35" y2="67"/> </svg>',ldquo:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"> <path class="cls-2" d="M37.89,87.78H3v-25Q3,47.64,5.64,38.88a36.54,36.54,0,0,1,9.88-15.72A50.5,50.5,0,0,1,33.91,12.22l6.84,14.42q-10.44,3.48-15,9.69T21,52.86h16.9Z"/> <path class="cls-2" d="M96.17,87.78H61.25v-25q0-15.28,2.67-24a36.36,36.36,0,0,1,9.94-15.66A51.25,51.25,0,0,1,92.19,12.22L99,26.64q-10.44,3.48-15,9.69T79.27,52.86h16.9Z"/></svg>',padlock:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 115.8"> <rect x="2.5" y="44.4" class="st0" width="96" height="69"/> <path class="lock" d="M18.8,45.2V33.7c0-17.3,14.1-31.4,31.4-31.4h0c17.3,0,31.4,14.1,31.4,31.4v11.5"/> <path class="keyhole" d="M61.6,68.4c0-6.1-5-11.1-11.1-11.1s-11.1,5-11.1,11.1c0,4.2,2.4,7.9,5.9,9.8c0,0,0.1,0,0.1,0.1l0,22.3h10.1 l0-22.3C59.2,76.4,61.6,72.7,61.6,68.4z"/></svg>',presentation:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"> <rect class="cls-2" x="5.15" y="7.36" width="90.32" height="6.32"/> <rect class="cls-2" x="5.15" y="61.36" width="90.32" height="6.32"/> <polyline class="cls-2" points="55.8 67.68 59.8 94.64 37.59 94.64 41.59 67.68"/> <line class="cls-2" x1="7.86" y1="13.68" x2="7.86" y2="61.36"/> <line class="cls-2" x1="92.86" y1="13.68" x2="92.86" y2="61.36"/> <polyline class="cls-2" points="65.73 35.15 41.99 49.35 35.78 38.96 59.52 24.76"/> <line class="cls-2" x1="38.88" y1="44.15" x2="23.85" y2="53.14"/> <line class="cls-2" x1="70.72" y1="25.12" x2="61.61" y2="30.56"/> <line class="cls-2" x1="67.32" y1="18.61" x2="75.1" y2="31.62"/> <line class="cls-2" x1="56.7" y1="20.02" x2="68.58" y2="39.9"/> <line class="cls-2" x1="56.11" y1="32.1" x2="57.69" y2="34.76"/> <line class="cls-2" x1="49.67" y1="35.95" x2="51.26" y2="38.61"/> <line class="cls-2" x1="43.23" y1="39.8" x2="44.82" y2="42.45"/> </svg>',rdquo:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"> <path class="cls-1" d="M4.69,14.81H39.54v25q0,15.13-2.6,23.81a36.23,36.23,0,0,1-9.86,15.69,50.45,50.45,0,0,1-18.42,11L1.84,75.83q10.54-3.48,15-9.68t4.71-16.49H4.69Z"/> <path class="cls-1" d="M63.23,14.81H98.08v25q0,15.13-2.67,23.81a36.54,36.54,0,0,1-9.92,15.69,50.79,50.79,0,0,1-18.29,11L60.38,75.83q10.41-3.48,14.94-9.68T80,49.66H63.23Z"/></svg>',reference:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"> <path class="cls-2" d="M17.49,90.85V9.43a6.88,6.88,0,0,1,6.88-6.88l52.18,0,0,81.77H24.11a6.61,6.61,0,0,0-6.62,6.61h0a6.62,6.62,0,0,0,6.62,6.62h58.4V6.59"/> <line class="cls-2" x1="25.27" y1="90.65" x2="78.13" y2="90.65"/> <rect class="cls-2" x="29.98" y="19.5" width="34.76" height="22.3"/> <line class="cls-2" x1="41.96" y1="57.5" x2="52.75" y2="57.5"/> <line class="cls-2" x1="37.17" y1="50.79" x2="57.55" y2="50.79"/> <line class="cls-2" x1="32.85" y1="64.21" x2="61.86" y2="64.21"/> </svg>',rewind:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"> <polyline class="arrow" points="48.71 16.09 15.29 49.5 48.7 82.89"/> <polyline class="arrow" points="83.71 16.09 50.29 49.5 83.7 82.89"/></svg>',speechboxes:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"> <polyline class="cls-2" points="40.75 25.75 5.75 25.75 5.75 79.75 40.75 79.75 59.75 93.75 59.75 79.75 74.75 79.75 74.75 51.75"/> <path class="cls-2" d="M40.75,29.25c0,9.77,7.47,18.09,17.92,21.2.08,5.3.08,11.3.08,11.3s8-7,11.65-10.11c13.67-1.11,24.35-10.71,24.35-22.39,0-12.43-12.09-22.5-27-22.5S40.75,16.82,40.75,29.25Z"/> </svg>',stopcross:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"> <polygon id="boarder" class="st2" points="68.2,94.7 31.2,94.5 5.3,68.2 5.5,31.2 31.8,5.3 68.8,5.5 94.7,31.8 94.5,68.8"/> <polygon id="cross" class="st2" points="74.4,35.8 64.2,25.6 50,39.8 35.8,25.6 25.6,35.8 39.8,50 25.6,64.2 35.8,74.4 50,60.2 64.2,74.4 74.4,64.2 60.2,50"/></svg>',stophand:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"> <path id="hand" class="st2" d="M26.6,56.1c0,0,0-38.9,0-42.7c0-7.5,10.1-10.1,13.8-2.5c0-11.3,16.3-12.6,16.3,1.3 c0-10.1,15.1-10.1,15.1,0c0,3.1,0,6.3,0,15.1c0-10.1,15.1-10.1,15.1,1.3c0,13.8,0,32.7,0,41.5S78.1,97.5,53,97.5 s-27.6-8.8-30.2-13.8S10.3,56.1,7.8,51C2.8,41,16.6,36,21.6,46C24.1,51,26.6,56.1,26.6,56.1z"/> <path id="finger1" class="st2" d="M40.5,8.3c0,2.5,0,40.2,0,40.2"/> <path id="finger2" class="st2" d="M56.8,8.3c0,2.5,0,40.2,0,40.2"/> <path id="finger3" class="st2" d="M71.9,13.4c0,2.5,0,40.2,0,40.2"/></svg>',tickdisc:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"> <circle class="" cx="50" cy="50" r="45"/> <path class="tickdisc path" d="M15,60 L40,85 L85,20"/></svg>',webcast:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"> <rect class="cls-2" x="7.24" y="14.18" width="85.26" height="63.85"/> <polygon class="cls-2" points="60.42 85.03 60.42 78.03 39.32 78.03 39.32 85.03 23.72 89.03 23.72 93.15 76.02 93.15 76.02 89.03 60.42 85.03"/> <line class="cls-2" x1="7.25" y1="71.3" x2="92.49" y2="71.3"/> <ellipse class="cls-2" cx="49.87" cy="34.76" rx="10.65" ry="12.21"/> <path class="cls-2" d="M34.92,70.37v-10A8.68,8.68,0,0,1,43.6,51.7H56.14a8.68,8.68,0,0,1,8.68,8.68v10"/> </svg>'};
var InstructionController=function(t){var n=this;function i(){n.$instruction=$(".instructionText")}this.$instruction,this.init=i,this.change=function(t){t!=n.prevInstruction&&n.$instruction.fadeTo(300,0,function(){n.$instruction.html(t),n.$instruction.css("opacity",0).fadeTo(300,1)});n.prevInstruction=t},this.prevInstruction="",i()};
!function(l){var a,e,t={init:function(o){var a,t="",t=(e=l.extend({$el:null,class:"",color:"blue",data:{},onClose:null},o)).data.components?((a=new ComponentController).init(),a.generateComponents(e.data.components[0])):htmlUtils.getHTMLText(e.data),o=getModalHTML();""!=o&&l("#content-wrapper").append(o),l("#modal").removeClass().addClass("modal fade"),l("#modal .modal-dialog").removeClass().addClass("modal-dialog modal-lg "+e.class),e.data.title?l("#modal .modal-title").html(htmlUtils.getHTMLText(e.data.title[0])):l("#modal .modal-title").html(""),l("#modal .modal-body").html(t),a&&a.setupComponents(),l("#modal .btn.closeBtn .btnText").html(htmlUtils.getHTMLText(courseData.data.settings[0].navigation[0].btn_Close[0])),l("#modal").on("show.bs.modal",n),l(window).resize(function(){a&&a.resizeContent(),l.Modal("resize")}),setTimeout(function(){a&&a.displayComponents()},250)},show:function(){console.log("MODAL SHOW")},hide:function(){console.log("MODAL HIDE")},resize:function(){l(".helpRow").each(function(){var o=l(this).find(".helpitem"),a=0;o.height("auto"),o.each(function(){a=Math.max(a,l(this).height())}),o.height(a)})}};function n(o){console.log("MODAL onShow"),a=a||l(o.relatedTarget),l("#modal").off("show.bs.modal",n),l("#modal").on("hidden.bs.modal",d),l(".ui-container").attr("aria-hidden","true")}function d(o){console.log("MODAL onHide"),a&&a.focus(),l("#modal").off("hidden.bs.modal",d),l(".ui-container").attr("aria-hidden","false"),e.onClose&&(e.onClose(),e.onClose=null)}l.fn.Modal=function(o){return t[o]?t[o].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof o&&o?void l.error("Method "+o+" does not exist on Modal JS"):t.init.apply(this,arguments)},l.extend({Modal:l.fn.Modal}),getModalHTML=function(){var o="",o=(o=(o=(o=(o=(o=(o=(o=(o+='<div id="modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="infoModalLabel">')+'<div class="modal-dialog" role="document">'+'<div class="modal-content">')+('<button class="btn closeBtn btn-close-container" data-dismiss="modal" aria-label="'+courseData.data.settings[0].navigation[0].btn_Close[0].Text+'">')+'<div class="btn-close">')+svgUtils.createSVG("cross")+"</div>")+"</button>"+'<div class="modal-header">')+'<h2 class="modal-title" id="infoModalLabel"></h2>'+"</div>")+'<div class="modal-body">'+"</div>")+'<div class="modal-footer">'+"</div>")+"</div>"+"</div>";return 0<l(".modal#modal").length?"":o}}(jQuery);
function NavigationButton(){var t=this;this.TRANSCRIPT_ON_CLASS="transcriptOn",this.TRANSCRIPT_OFF_CLASS="transcriptOff",this.AUDIO_ON_CLASS="audioOn",this.AUDIO_OFF_CLASS="audioOff",this.DISABLED="disabled",this.SELECTED="selected",this.DEBUG_NEXT_BUTTON=".debug_btn_Next",this.DEBUG_BACK_BUTTON=".debug_btn_Back",this.LOGO_BUTTON=".navbar-brand",this.HOME_BUTTON=".btn_Home",this.MENU_BUTTON=".btn_Menu",this.REPLAY_BUTTON=".btn_Replay",this.NEXT_BUTTON=".btn_Next",this.BACK_BUTTON=".btn_Back",this.GLOSSARY_BUTTON=".btn_Glossary",this.RESOURCE_BUTTON=".btn_Resource",this.HELP_BUTTON=".btn_Help",this.EXIT_BUTTON=".btn_Exit",this.LANGUAGE_BUTTON=".btn_Language",this.SEARCH_BUTTON=".btn_Search",this.SEARCHGO_BUTTON=".btn_SearchGo",this.AUDIO_BUTTON=".btn_Audio",this.SEARCH_INPUT=".search-input",this.CONTACT_BUTTON=".btn_Contact",this.DOWNLOAD_COC_BUTTON=".btn_coc_download",this.updateNavButtons=function(){$(navigationButton.HOME_BUTTON+" .btn_text").html(courseData.getBtnText("Home")),$(navigationButton.MENU_BUTTON+" .btn_text").html(courseData.getBtnText("Menu")),$(navigationButton.REPLAY_BUTTON+" .btn_text").html(courseData.getBtnText("Replay")),$(navigationButton.NEXT_BUTTON+" .btn_text").html(courseData.getBtnText("Next")),$(navigationButton.BACK_BUTTON+" .btn_text").html(courseData.getBtnText("Back")),$(navigationButton.GLOSSARY_BUTTON+" .btn_text").html(courseData.getBtnText("Glossary")),$(navigationButton.RESOURCE_BUTTON+" .btn_text").html(courseData.getBtnText("Resource")),$(navigationButton.HELP_BUTTON+" .btn_text").html(courseData.getBtnText("Help")),$(navigationButton.EXIT_BUTTON+" .btn_text").html(courseData.getBtnText("Exit")),$(navigationButton.SEARCH_BUTTON+" .btn_text").html(courseData.getBtnText("Search")),$(navigationButton.SEARCH_INPUT).attr("placeholder",courseData.getBtnText("Search")),$(navigationButton.SEARCHGO_BUTTON+" .btn_text").html(courseData.getBtnText("SearchGo")),$(navigationButton.LANGUAGE_BUTTON+" .btn_text").html(courseData.getBtnText("Language")),$(navigationButton.AUDIO_BUTTON+" .btn_text").html(courseData.getBtnText("AudioOn")),t.hideNavButton("home"),t.hideNavButton("menu"),t.hideNavButton("back"),t.hideNavButton("replay"),t.hideNavButton("next"),componentConfig.glossary?t.hideNavButton("glossary"):$(navigationButton.GLOSSARY_BUTTON).hide(),componentConfig.help?t.hideNavButton("help"):$(navigationButton.HELP_BUTTON).hide(),componentConfig.resource?t.hideNavButton("resource"):$(navigationButton.RESOURCE_BUTTON).hide(),componentConfig.exit?t.hideNavButton("exit"):$(navigationButton.EXIT_BUTTON).hide(),componentConfig.progress||$("#userProgress").hide(),componentConfig.search||$(".search-dropdown").hide(),courseConfig.audio?t.hideNavButton("audio"):$(navigationButton.AUDIO_BUTTON).hide()},this.hideNavButton=function(t){navigationConfig.nav.top&&(navigationConfig.nav.top.buttons[t]?$("body").addClass("nav-top-active"):$(".navbar "+navigationButton[t.toUpperCase()+"_BUTTON"]).hide()),navigationConfig.nav.bottom&&(navigationConfig.nav.bottom.buttons[t]?$("body").addClass("nav-bottom-active"):$(".bottomNavigation "+navigationButton[t.toUpperCase()+"_BUTTON"]).hide())}}
var NavigationController=function(){var p=this,a=(this.pageArray=[],this.prevPage=0,this.currentPage=0,this.currentSlide=0,this.moduleIndex=0,this.pageIndex=0,this.numSlides=0,this.locationHash="",this.rolesArray=[],this.defaultRoles=[],this.roles=[],this.historyArray=[],this.introModuleNum=0,this.menuModuleNum=0,!(this.menuPageIndex=0)),t=!0;function e(){p.introModuleNum=courseData.getIntroModuleNum(),p.menuModuleNum=courseData.getMenuModuleNum();for(var e=0,a=0;a<courseData.getNumModules();a++)for(var t=courseData.getModuleData(a),o=t.roles?t.roles.split(",").toNumberArray():[],r=0;r<courseData.getNumPages(a);r++){for(var n=courseData.getPageData(a,r),i=n.roles?n.roles.split(",").toNumberArray():o,l=[],s=0;s<courseData.getNumSlides(a,r);s++){var g=courseData.getSlideData(a,r,s),u=courseData.getXMLPath(a,r,s),d=activeLanguages.slice(),c=g.roles?g.roles.split(",").toNumberArray():i;if(g.langs){g.langs=g.langs.split(",");for(var f=!1,h=0;h<g.langs.length;h++)-1!=g.langs[h].indexOf("!")&&(f=!0,d.splice(d.indexOf(g.langs[h].split("!").join("")),1)),f||(d=g.langs.slice())}u={id:e,xmlPath:u,xmlFilename:u.substr(u.lastIndexOf("/")+1,u.length).split(".xml").join(""),xmlLoaded:!1,template:courseData.getTemplateName(a,r,s),navData:g,roles:c,langs:d,mandatory:!g.mandatory||utils.xmlAttributeToJSON(g.mandatory)};l.push(u),e++}n={module:a,page:r,mandatory:!n.mandatory||utils.xmlAttributeToJSON(n.mandatory),optional:!1,completeModuleOnCompletion:!!n.completeModuleOnCompletion,roles:i,slides:l};n.optional=0==n.mandatory,p.pageArray.push(n),a==p.menuModuleNum&&(p.menuPageIndex=p.pageArray.length-1)}$(window).on("scroll",function(){p.checkForScroll()}),$(".fixedNavigation .scroll-arrow").on("click",function(){var e=$(".scrollStop");e.each(function(e){var a=Math.round(utils.findElementTotalOffset($(this)[0]).top),t=Math.round($(window).scrollTop())+p.getNavbarHeight();Math.round($(window).height()),Math.round($(this).height());if(t<a)return p.autoScroll(a),!1})}),window.addEventListener("popstate",function(e){null!=e.state&&(document.title=e.state.title,v(e.state.page,!1))})}function v(e,a){if(!liveEditConfig.enabled||!liveEditReq.liveEditLoaded||liveEditController.allowNavigation()){$(document).trigger(courseEvent.PAGE_CHANGE);var t=null==a||a;if(p.currentPage==e&&(t=t&&"replace"),p.allowPreviousDefaultAction(!0),p.allowNextDefaultAction(!0),p.pulsateNextButton(!1),0<=e&&e<p.pageArray.length){var o=p.pageArray[e];if(storageController.isModuleLocked(o.module)&&!navigationConfig.developerUnlock&&!navigationConfig.debug)return console.log("Module locked: "+o.module,p.currentPage,p.menuPageIndex),void(storageController.isModuleLocked(p.pageArray[p.menuPageIndex].module)?v(0):p.currentPage!=p.menuPageIndex&&p.showMenu());p.prevPage=p.currentPage,p.currentPage=e;var r,o=p.pageArray[p.currentPage];if(!p.canWeReturnToPage(p.currentPage)&&storageController.isPageComplete(p.currentPage))return void p.showMenu();if(p.moduleIndex=o.module,p.pageIndex=o.page,p.numSlides=o.slides.length,!multiLanguage&&"true"==courseData.getPageData(p.moduleIndex,p.pageIndex).multiLanguageOnly)return void v(e+1,a);p.historyArray.push(p.currentPage),p.currentPage==p.menuPageIndex?($(navigationButton.NEXT_BUTTON).disable(),$(navigationButton.BACK_BUTTON).disable()):(1<p.currentPage||0<p.currentPage&&multiLanguage?($(navigationButton.BACK_BUTTON).enable(),$(navigationButton.DEBUG_BACK_BUTTON).enable()):($(navigationButton.BACK_BUTTON).disable(),$(navigationButton.DEBUG_BACK_BUTTON).disable()),$(navigationButton.NEXT_BUTTON).disable(),p.currentPage<p.pageArray.length?$(navigationButton.DEBUG_NEXT_BUTTON).enable():$(navigationButton.DEBUG_NEXT_BUTTON).disable()),navigationConfig.browserNavigation&&t&&(o=location.search.substring(1),a=decodeURI(o).replace(/"/g,'\\"').replace(/&/g,'","').replace(/=/g,'":"'),o=JSON.parse("{"+(""==a?a:'"'+a+'"')+"}"),$("body").hasClass("debug-on")&&(o.debug="1"),$("body").hasClass("slidemapping")&&(o.mapping="1"),o.lang=currentLanguage,o.page=p.currentPage,a=window.location.href.split("?")[0]+"?"+$.param(o),r={page:p.currentPage,title:o=courseData.getCourseTitle()},"replace"==t?history.replaceState(r,o,a):history.pushState(r,o,a),courseConfig.googleAnalytics.enabled)&&gtag("config",gtagID,{page_path:a,anonymize_ip:courseConfig.googleAnalytics.anonymize_ip}),contentController.changePage()}else e<0?p.currentPage=0:e>=p.pageArray.length&&(p.currentPage=p.pageArray.length-1);t=courseData.getPageData(p.moduleIndex,p.pageIndex);0==navigationConfig.navbar||navigationConfig.hideNavOnFirstPage&&0==p.currentPage?($("body").addClass("nav-hidden"),$("body").removeClass("nav-visible"),uiController.hideNav()):1==navigationConfig.navbar&&($("body").addClass("nav-visible"),$("body").removeClass("nav-hidden"),uiController.showNav()),console.log("footer",t.footer),null==t.footer||"false"==t.footer?($("body").addClass("footer-hidden"),$("body").removeClass("footer-visible")):($("body").addClass("footer-visible"),$("body").removeClass("footer-hidden footer-light footer-dark"),"light"==t.footer&&$("body").addClass("footer-light"),"dark"==t.footer&&$("body").addClass("footer-dark")),storageController.setLocation(p.currentPage),storageController.saveData()}}this.init=function(){e()},this.initRoles=function(){for(var e=courseData.getRoles(),a=0;a<e.length;a++)p.rolesArray.push(e[a].role||a),"true"==e[a].default&&p.defaultRoles.push(e[a].role||a);p.defaultRoles=0==p.defaultRoles.length?p.rolesArray.slice():p.defaultRoles;var t=parseInt(utils.getURLParameter("role"));0==(e=isNaN(t)?storageController.getRoles():[Number(t)]).length&&(e=p.defaultRoles.slice()),p.setRoles(e)},this.setRoles=function(e){e=(e=e.constructor!==Array?[e]:e).toNumberArray(),$("body").removeClass(utils.getWordsByFragment($("body")[0].className,"userrole").join(" ")),0==e.length?p.roles=p.defaultRoles.slice():p.roles=e.slice();for(var a=0;a<e.length;a++)$("body").addClass("userrole"+e[a]);storageController.setRoles(navigationController.roles)},this.isValidRole=function(e){if(0==(e=e.constructor!==Array?[e]:e).length)return!0;e=e.toNumberArray();for(var a=!1,t=0;t<e.length;t++)if(-1!=p.roles.indexOf(e[t])){a=!0;break}return a},this.isModuleValidForRole=function(e){for(var a=!1,t=0;t<p.pageArray.length&&!a;t++)if(p.pageArray[t].module==e)for(var o=0;o<p.pageArray[t].slides.length;o++)if(p.isValidRole(p.pageArray[t].slides[o].roles)){a=!0;break}return a},this.isModulePageValidForRole=function(e,a){for(var t=!1,o=0;o<p.pageArray.length&&!t;o++)if(p.pageArray[o].module==e&&p.pageArray[o].page==a)for(var r=0;r<p.pageArray[o].slides.length;r++)if(p.isValidRole(p.pageArray[o].slides[r].roles)){t=!0;break}return t},this.isPageValidForRole=function(e){for(var a=!1,t=0;t<p.pageArray[e].slides.length;t++)if(p.isValidRole(p.pageArray[e].slides[t].roles)){a=!0;break}return a},this.getFirstPageValidForRole=function(e){for(var a=0;a<p.pageArray.length;a++)if(null==e||p.pageArray[a].module==e)for(var t=0;t<p.pageArray[a].slides.length;t++)if(p.isValidRole(p.pageArray[a].slides[t].roles))return null==e?a:p.pageArray[a].page;return-1},this.getLastPageValidForRole=function(e){for(var a=p.pageArray.length-1;0<=a;a--)if(null==e||p.pageArray[a].module==e)for(var t=0;t<p.pageArray[a].slides.length;t++)if(p.isValidRole(p.pageArray[a].slides[t].roles))return null==e?a:p.pageArray[a].page;return-1},this.changePage=function(e,a){v(e,a)},this.changePageToFile=function(e){for(var a=!1,t=p.currentPage,o=0;o<p.pageArray.length&&!a;o++)for(var r=0;r<p.pageArray[o].slides.length;r++)if(p.pageArray[o].slides[r].xmlFilename==e){a=!0,t=o,p.currentSlide=r;break}v(t)},this.changePageToData=function(e,a,t){e=parseInt(e),a=parseInt(a),t=parseInt(t);for(var o=!1,r=p.currentPage,n=p.currentSlide=0;n<p.pageArray.length&&!o;n++)if(p.pageArray[n].module==e&&p.pageArray[n].page==a&&(r=n,t<=p.pageArray[n].slides.length)){o=!0,p.currentSlide=t;break}v(r)},this.debugNextPage=function(){for(var e=p.currentPage+1;!navigationController.isPageValidForRole(e)&&e<p.pageArray.length;)e++;v(e)},this.debugPreviousPage=function(){for(var e=p.currentPage-1;!navigationController.isPageValidForRole(e)&&0<e;)e--;v(e)},this.nextPage=function(){if($(document).trigger(courseEvent.NEXT_BTN_CLICK),t){for(var e=!1,a=p.currentPage+1;a<p.pageArray.length;a++){if(courseConfig.redirectToMenuOnModuleComplete&&p.pageArray[a].module!=p.pageArray[p.currentPage].module){e=!0;break}if(!navigationController.isValidRole(p.pageArray[a].roles)){p.currentPage=a,p.nextPage();break}if(p.canWeReturnToPage(a)||!storageController.isPageComplete(a)){v(a);break}}e&&p.showMenu()}p.allowNextDefaultAction(!0)},this.previousPage=function(){if($(document).trigger(courseEvent.PREV_BTN_CLICK),a){var e=p.currentPage-1;if(navigationConfig.useHistory&&1<p.historyArray.length&&(p.historyArray.pop(),e=p.historyArray.pop()),!navigationController.isValidRole(p.pageArray[e].roles))return p.currentPage=e,p.previousPage(),!1;v(e)}p.allowPreviousDefaultAction(!0)},this.canWeReturnToPage=function(e){return!("false"===courseData.getModuleData(p.pageArray[e].module).return||"false"===courseData.getPageData(p.pageArray[e].module,p.pageArray[e].page).return)},this.replayPage=function(){v(p.currentPage,!1)},this.gotoModule=function(e){p.changePageToData(e,0,0)},this.gotoPage=function(e){v(e)},this.showMenu=function(){v(p.menuPageIndex)},this.pageComplete=function(){courseData.updateMenu(),storageController.checkCourseComplete(),p.enableNextButton(!0),storageController.saveData()},this.enableNextButton=function(e){e&&p.currentPage<p.getLastPageValidForRole()&&p.currentPage!=p.menuPageIndex?($(navigationButton.NEXT_BUTTON).enable(),p.pulsateNextButton(e)):$(navigationButton.NEXT_BUTTON).disable()},this.pulsateNextButton=function(e){e?$(navigationButton.NEXT_BUTTON).addClass("pulse"):$(navigationButton.NEXT_BUTTON).removeClass("pulse")},this.allowPreviousDefaultAction=function(e){a=e},this.allowNextDefaultAction=function(e){t=e},this.updateBookmark=function(){},this.getBookmark=function(){},this.updateData=function(){},this.getData=function(){},this.confirmExitCourse=function(e,a){e=e||"exit",$.Alert({title:courseData.getMessageText(e,"title"),message:courseData.getMessageText(e,"message"),confirm:courseData.getMessageText(e,"confirm"),cancel:courseData.getMessageText(e,"cancel"),onConfirm:function(){a&&a(),addTrackDataTrace("NavigationController::confirmExitCourse confirm - calling navigationController.exitCourse()"),userInitiatedWindowClose=!0,navigationController.exitCourse()}})},this.exitCourse=function(){addTrackDataTrace("NavigationController::exitCourse called"),courseConfig.launchInNewWindow||window.close(),window.top.close()},this.scrollIntoView=function(e,a,t){t=t||{},console.log("NavigationController::scrollIntoView",e);var o,r,n,i="end"==(a=a||"end")?void 0:e;t.$el=e,(i=a&&(o=utils.getViewportTop()+$(window).height(),n=(r=utils.findElementTotalOffset(e[0]).top)+e.outerHeight(),console.log("scrollIntoView",{elOffsetTop:r,elBottom:n,window:$(window).height(),navbar:p.getNavbarHeight(),elHeight:e.outerHeight()}),"end"==a)&&o<n?n-$(window).height()+p.getNavbarHeight()+1:i)&&(console.log("scrollIntoView",i,a),this.autoScroll(i,t))},this.autoScroll=function(e,a){var t=$.extend({duration:1,y:e,offsetY:0,autoKill:!0,ease:"power2"},a),e=p.getNavbarHeight();navigationConfig.debug&&(e+=$(".debug .debug-container").outerHeight()),console.log("autoScroll",t),gsap.to(window,{duration:t.duration,scrollTo:{y:t.y,offsetY:e+t.offsetY,autoKill:t.autoKill},ease:t.ease,onComplete:function(){t.$el.focus()}})},this.getNavbarHeight=function(){var e=$("#navbar").outerHeight();return navigationConfig.debug&&(e+=$(".debug .debug-container").outerHeight()),e},this.checkForScroll=function(){utils.getDocHeight(),parseInt($(".pageContainer").css("padding-bottom"));var e=contentController.checkFirstIncompleteComponentInView();"below"==e||"partbelow"==e?$(".fixedNavigation .scroll-arrow").fadeIn():$(".fixedNavigation .scroll-arrow").fadeOut()},this.getModulePageIndex=function(e,a){for(var t=0;t<p.pageArray.length;t++)if(p.pageArray[t].module==e&&p.pageArray[t].page==a)return t;return!1},this.updateCourseTitle=function(e){var a=courseData.getCourseTitle();a=(a=a.replace(/<br\s*\/?>/g," ")).replace(/<[^>]*>/g,""),document.title=e?e+" | "+a:a},e()};
var NavigationEvents=function(t){this.init=function(){$(navigationButton.DEBUG_NEXT_BUTTON).on("click",i),$(navigationButton.DEBUG_BACK_BUTTON).on("click",a),$(navigationButton.NEXT_BUTTON).on("click",e),$(navigationButton.REPLAY_BUTTON).on("click",u),$(navigationButton.BACK_BUTTON).on("click",r),$(navigationButton.EXIT_BUTTON).on("click",s),$(navigationButton.AUDIO_BUTTON).on("click",l),$(document).keydown(function(t){if(n[t.keyCode]=!0,courseConfig.lmsLogEnabled&&n[17]&&n[16]&&n[67]&&!o)loadCommunicationWin()}),$(document).keyup(function(t){n[t.keyCode]=!1}),$(window).on("blur",function(){n=n.map(t=>!0!==t&&!1!==t&&t)})};var n=[],o=!1;function i(){if($(this).hasClass(navigationButton.DISABLED))return!1;navigationController.debugNextPage()}function a(){if($(this).hasClass(navigationButton.DISABLED))return!1;navigationController.debugPreviousPage()}function e(){if($(this).hasClass(navigationButton.DISABLED))return!1;navigationController.nextPage()}function u(){if($(this).hasClass(navigationButton.DISABLED))return!1;navigationController.replayPage()}function r(){if($(this).hasClass(navigationButton.DISABLED))return!1;navigationController.previousPage()}function l(){if($(this).hasClass(navigationButton.DISABLED))return!1;audioController.muteAudio();var t,n=$(navigationButton.AUDIO_BUTTON).closest('[data-toggle="tooltip"]');audioController.isMuted?($(this).addClass("muted"),uiController.audioIconSVGTimeline.play(),t=courseData.getBtnText("AudioOff"),$(document).trigger(courseEvent.AUDIO_OFF)):($(this).removeClass("muted"),uiController.audioIconSVGTimeline.reverse(),t=courseData.getBtnText("AudioOn"),$(document).trigger(courseEvent.AUDIO_ON)),$(navigationButton.AUDIO_BUTTON+" .btn_text").html(t),n.attr("title",t),n.attr("data-original-title",t),n.tooltip("show")}function s(){if($(this).hasClass(navigationButton.DISABLED))return!1;navigationController.confirmExitCourse()}};
function Slide(){var d=this,t=$(".pageContainer");function n(){"CUSTOM"==d.template?(d.$slide.find(".template .content-wrap").html('<div class="content-wrap-inner"></div>'),d.templateObject.init(d)):d.$slide.find(".template .content-wrap").load(utils.getURL("content/templates/html/"+d.template+".html"),function(e,t,n){"success"==t&&d.templateObject.init(d)})}function o(e){e=utils.getImagePath(e),-1==d.preloadImagesArray.indexOf(e)&&d.preloadImagesArray.push(e)}function a(){d.loaded=!0,$(document).trigger(courseEvent.SLIDE_LOAD_COMPLETE,[d])}function e(){var e;!d.complete&&(e=!1,"false"!=d.navXMLData.reentryComplete&&(storageController.isSlideComplete(d.currentPage,d.slideNum)||"true"==d.navXMLData.complete||d.viewed&&"view"==d.navXMLData.complete)&&(d.slideCompletionDelayPassed=e=!0),e||d.templateComplete&&d.componentsComplete)&&(d.slideCompletionDelayPassed?(d.complete=!0,d.$slide.addClass("complete"),courseConfig.googleAnalytics.enabled&&gtag("event","Complete",{event_category:"Slide",event_label:d.slideID}),storageController.setSlideComplete(d.currentPage,d.slideNum),d.componentController&&d.componentController.changeInstruction(99,!1),navigationController.currentSlide=d.slideNum,$(document).trigger(courseEvent.SLIDE_COMPLETE)):setTimeout(function(){d.slideCompletionDelayPassed=!0,d.checkComplete()},d.slideCompletionDelay))}this.currentPage,this.slideNum,this.slideID,this.navXMLData,this.langXMLData,this.data,this.$slide,this.templateObject,this.xmlFilename,this.saveData,this.preloadImagesArray=[],this.componentController,this.loaded=!1,this.complete=!1,this.viewed=!1,this.templateComplete=!1,this.componentsComplete=!1,this.slideCompletionDelay=1e3*navigationConfig.slideCompletionDelay,this.slideCompletionDelayPassed=!(0<this.slideCompletionDelay),this.fullheight=!1,this.hidden=!0,this.mandatory=!1,this.shownByComponent=!1,this.hiddenForCurrentRole=!0,this.hiddenForCurrentLanguage=!0,this.init=function(e){d.slideNum=e,d.slideID="m"+navigationController.moduleIndex+"p"+navigationController.pageIndex+"s"+d.slideNum,d.currentPage=navigationController.currentPage,d.pageData=navigationController.pageArray[d.currentPage],d.slideData=navigationController.pageArray[d.currentPage].slides[d.slideNum],d.id=navigationController.pageArray[d.currentPage].slides[d.slideNum].id,d.navXMLData=courseData.getSlideData(navigationController.moduleIndex,navigationController.pageIndex,d.slideNum),d.langXMLData=courseData.getSlideLangData(navigationController.moduleIndex,navigationController.pageIndex,d.slideNum),d.template=navigationController.pageArray[d.currentPage].slides[d.slideNum].template,d.title="",d.langXMLData.title&&(d.title=d.langXMLData.title[0].Text||d.title);navigationConfig.debug&&debugController.update();navigationConfig.pageLock?d.mandatory="false"!=d.navXMLData.mandatory:d.mandatory="true"==d.navXMLData.mandatory;d.shownByComponent="true"==d.navXMLData.shownByComponent,navigationConfig.pageLock||(d.shownByComponent=!1);d.templateObject=new AvailableClasses.templates[d.template];d.langXMLData.class&&d.langXMLData.class;d.langXMLData.nodeName="slide";e='<div id="slide'+d.slideNum+'" class="slide scrollStop '+htmlUtils.getClasses(d.langXMLData)+'" data-slide="'+d.slideNum+'" '+htmlUtils.getAttributes(d.langXMLData)+' role="region" tabindex="-1" aria-label="">';e=(e=(e=e+'<div class="template '+d.template+'"><div class="content-bkg"></div>')+'<div class="content-wrap"></div>')+"</div></div>",d.$slide=$(e),t.append(d.$slide),$(document).trigger(courseEvent.SLIDE_LOAD_START,[d]),utils.testConnection(),d.data=courseData.getSlideLangData(navigationController.moduleIndex,navigationController.pageIndex,d.slideNum),n()},this.preloadImage=o,this.slideReady=function(){d.$slide.find(".template .content-bkg").addClass("no-bkg"),d.data.contentBackground&&d.setSlideBackground(d.data.contentBackground[0]);d.componentController&&d.componentController.setupComponents();d.$slide.find("*").each(function(){var e=$(this).css("background-image").replace("url(","").replace(")","").replace(/\"/gi,""),t="IMG"==this.nodeName?$(this).attr("src"):void 0;"none"!=e?-1==e.indexOf("gradient(")&&o(e):t&&o(t)});var e=d.title;{var t;""==e&&(t=d.$slide.find(":header").first(),e=t.text())}e=""!=e?courseData.getAccessibleLabel("articleTitleContent").split("{title}").join(e):courseData.getAccessibleLabel("articleContent");d.$slide.attr("aria-label",e),d.$slide.append('<span class="slideMetaID">SLIDE ID: '+d.slideID+"</span>"),0<d.preloadImagesArray.length?(0==courseConfig.imagePreload&&a(),$.imgpreload(d.preloadImagesArray,{each:function(){},all:function(){courseConfig.imagePreload&&a()}})):a()},this.slideLoaded=a,this.slideComponentsComplete=function(){d.componentsComplete=!0,d.checkComplete()},this.slideContentComplete=function(){d.templateComplete=!0,d.checkComplete()},this.checkComplete=e,this.showContent=function(){d.hidden=!1,d.$slide.fadeIn(),d.componentController&&d.componentController.displayComponents();d.data.instructionText&&instructionController.change(d.data.instructionText[0].text[0].Text);storageController.setSlideVisited(d.currentPage,d.slideNum),d.viewed=!0,e(),d.templateObject.slideDisplayed(),$(document).trigger(courseEvent.SLIDE_SHOW_CONTENT)},this.hideContent=function(){d.$slide.slideUp(function(){d.hidden=!0,$(document).trigger(courseEvent.SLIDE_HIDE_CONTENT)})},this.showElementContents=function(e){d.componentController&&d.componentController.revealComponents(e.find(".component:visible"))},this.hideElementContents=function(e){d.componentController},this.generateComponents=function(e){d.componentController||(d.componentController=new ComponentController,d.componentController.init(d));return d.componentController.generateComponents(e.components[0])},this.getSaveData=function(){return storageController.getSlideData(d.currentPage,d.slideNum)},this.setSaveData=function(e){storageController.setSlideData(d.currentPage,d.slideNum,e),storageController.saveData()},this.unloadContent=function(){d.componentController&&d.componentController.unloadContent();d.templateObject.unloadContent&&d.templateObject.unloadContent()},this.resizeContent=function(){d.$slide.find(".templateBackgroundFixed").height(d.$slide.find(".template").height()),d.componentController&&d.componentController.resizeContent();d.templateObject.updateLayout&&d.templateObject.updateLayout()},this.breakpointChanged=function(){d.componentController&&d.componentController.breakpointChanged();d.templateObject.breakpointChanged&&d.templateObject.breakpointChanged()},this.resumeContent=function(){d.componentController&&d.componentController.resumeContent()},this.isHiddenForUser=function(){return this.hiddenForCurrentRole||this.hiddenForCurrentLanguage},this.isLastSlide=function(){return contentController.lastSlideNum==d.slideNum},this.setSlideBackground=function(e){var t=Object.keys(responsiveUtils.getBreakpoints());if(e.img&&e.img.length)for(var n=0;n<e.img.length;n++){var o=e.img[n].breakpoints?e.img[n].breakpoints.toLowerCase().split(","):Object.keys(responsiveUtils.getBreakpoints());d.addSlideDeviceBackground(e.img[n],o),t=_.difference(t,o)}for(var a=d.$slide.find(".template .content-bkg"),n=0;n<t.length;n++)a.addClass("no-bkg-"+t[n])},this.addSlideDeviceBackground=function(e,t){for(var n=d.$slide.find(".template .content-bkg"),o=[],a=0;a<t.length;a++)o.push("visible-"+t[a]);var i,l,r=$('<div class="'+o.join(" ")+'"></div>'),s=(n.append(r),e.path);s&&(s={backgroundImage:"url("+utils.getImagePath(s)+")"},i=e.position,l=e.size,e=e.fixed,i&&(s.backgroundPosition=i),l&&(s.backgroundSize=l),"true"==e&&r.addClass("backgroundFixed"),r.css(s),n.removeClass("no-bkg"))}}
var StorageController=function(e){var s,p=this,f=(this.getScormTime=O,this.storageAPI,!1),t=!1,n=!1,i=!1,C=2,h=3,S=5,a=(this.SESSION_TIME="cmi.core.session_time",this.LESSON_LOCATION="cmi.core.lesson_location",this.LESSON_STATUS="cmi.core.lesson_status",this.SUCCESS_STATUS="",this.SUSPEND_DATA="cmi.suspend_data",this.STUDENT_ID="cmi.core.student_id",this.STUDENT_NAME="cmi.core.student_name",this.STUDENT_LANG="cmi.student_preference.language",this.STUDENT_AUDIO="cmi.student_preference.audio",this.SCORE="cmi.core.score.raw",this.SCORE_MAX="cmi.core.score.max",this.SCORE_MIN="cmi.core.score.min",this.SCORE_SCALED="cmi.score.scaled",null),o=null,r=(this.dataObj={completion:"",version:"",language:"",audio:1,captions:null,roles:[],bookmark:[],position:{},history:[],slideProgress:[],slideData:[],menu:{active:[],mandatory:[],locked:[]},assessment:{},cmi:{i:{},o:{}},custom:{},system:{},exit:[]},{});function v(e){var t="";switch(courseConfig.storage.complianceType){case C:case h:u()&&(t=p.storageAPI.get(e),r[e]=t);break;case S:t=function(e){e=l()+e.split(".").join("_"),e=window.localStorage.getItem(e);return e=null==e?"":e}(e)}return t}function T(e,t){var a=!1;r[e]!=t&&(r[e]=t,a=!0),a&&(addTrackDataTrace("StorageController::setToStorageAPI : "+a+" - "+e),courseConfig.storage.complianceType==S?(a=t,window.localStorage.setItem(l()+e.split(".").join("_"),a)):u()&&(n||e!=p.SUSPEND_DATA?c(e):null==o&&(o=setTimeout(function(){clearTimeout(o),o=null,c(e)},1e4))))}function c(e){p.storageAPI.set(e,r[e]);t=!0}function l(){return LaunchConfig.course?LaunchConfig.course.uid||LaunchConfig.course.code:courseConfig.uid||courseConfig.code}function u(){if(f){if(p.storageAPI.connection.isActive)return 1;$.Alert({title:utils.lmsConnectionError.title,message:utils.lmsConnectionError.message,confirm:utils.lmsConnectionError.confirm,onConfirm:function(){navigationController.exitCourse()}})}}function g(e){if(addTrackDataTrace("StorageController::unloadHandler called",i),!i){var t,a=$(document.activeElement),o=a&&a.is('[href^="mailto:"]')||a&&a.data("link-mailto"),a=a&&a.is('[href^="tel:"]');if((o||a)&&console.warn("StorageController::unloadHandler caught link unload ["+(o?"mailto":"tel")+"]"),o||a)addTrackDataTrace("StorageController::unloadHandler blocked unloadHandler due to a[mailto] or a[tel]");else switch(n=!0,p.dataObj.exit.push({t:(new Date).toISOString(),l:navigationController?navigationController.pageIndex:0,e:userInitiatedWindowClose?"course":"browser/other"}),5<p.dataObj.exit.length&&p.dataObj.exit.shift(),courseConfig.storage.complianceType){case C:case h:u()&&(p.saveData(),t=O((new Date).getTime()-s.getTime()),T(p.SESSION_TIME,t),p.storageAPI.save(),p.storageAPI.quit(),i=!0)}}}function O(e){var t,a,o,s,n,i,r,c;return courseConfig.storage.complianceType==h?(t=e,s="",r=26298e4,t=Math.floor(t/10),n=Math.floor(t/315576e4),t-=315576e4*n,i=Math.floor(t/r),t-=i*r,r=Math.floor(t/864e4),t-=864e4*r,c=Math.floor(t/36e4),t-=36e4*c,o=Math.floor(t/6e3),t-=6e3*o,a=Math.floor(t/100),0<n&&(s+=n+"Y"),0<i&&(s+=i+"M"),0<r&&(s+=r+"D"),0<(t-=100*a)+a+o+c&&(s+="T",0<c&&(s+=c+"H"),0<o&&(s+=o+"M"),0<t+a)&&(s+=a,0<t&&(s+="."+t),s+="S"),s="P"+(s=""==s?"0S":s)):(n=e,i="000"+Math.floor(n/36e5),n-=60*i*60*1e3,r="0"+Math.floor(n/6e4),n-=1e3*(c=n-60*r*1e3),n="0"+Math.floor(n/1e3),c="0"+Math.floor(c/1e3),i.substr(i.length-4)+":"+r.substr(r.length-2)+":"+c.substr(c.length-2)+"."+n.substr(n.length-2))}function b(e,t){var a,o=new String(e),e=o.length;if(t<e)o=o.substr(0,t);else for(a=e;a<t;a++)o="0"+o;return o}switch(this.studentID="",this.studentName="",this.score=0,this.isLastSlideComplete=!1,this.setLanguage=function(e){switch(p.dataObj.language=e,courseConfig.storage.complianceType){case C:case h:case S:T(p.STUDENT_LANG,String(e))}},this.getLanguage=function(){var e="";switch(courseConfig.storage.complianceType){case C:case h:case S:e=v(p.STUDENT_LANG)}return e},this.setAudio=function(e){switch(p.dataObj.audio=e,courseConfig.storage.complianceType){case C:case h:case S:T(p.STUDENT_AUDIO,String(e))}},this.getAudio=function(){var e=1;switch(courseConfig.storage.complianceType){case C:case h:case S:e=""===(e=v(p.STUDENT_AUDIO))?1:e}return e},this.setCaptions=function(e){p.dataObj.captions=e,p.setData()},this.getCaptions=function(){return p.dataObj.captions},this.setRoles=function(e){p.dataObj.roles=e,p.setData()},this.getRoles=function(){return p.dataObj.roles},this.setLocation=function(e){switch(courseConfig.storage.bookmark||(e=0),courseConfig.storage.complianceType){case C:case h:case S:T(p.LESSON_LOCATION,String(e))}p.dataObj.bookmark[navigationController.moduleIndex]=navigationController.pageIndex,p.setData()},this.getLocation=function(){var e="";switch(courseConfig.storage.complianceType){case C:case h:case S:e=""===(e=v(p.LESSON_LOCATION))?0:e}return e},this.setSlideData=function(e,t,a){p.dataObj.slideData[e][t]=a,p.setData()},this.getSlideData=function(e,t){return p.dataObj.slideData[e][t]},this.setSlideVisited=function(e,t){2!=p.dataObj.slideProgress[e][t]&&(p.dataObj.slideProgress[e][t]=1,p.setData())},this.isSlideVisited=function(e,t){return 0<p.dataObj.slideProgress[e][t]},this.setSlideComplete=function(e,t){p.dataObj.slideProgress[e][t]=2,courseData.updateSubmenus(),p.setData()},this.isSlideComplete=function(e,t){return 2==p.dataObj.slideProgress[e][t]},this.setSubmenuPageComplete=function(e){for(var t=0;t<navigationController.pageArray[e].slides.length;t++)1==p.dataObj.slideProgress[e][t]&&navigationController.isValidRole(navigationController.pageArray[e].slides[t].roles)&&p.setSlideComplete(e,t)},this.initModuleMenu=function(e,t){null==p.dataObj.menu.active[e]&&(p.dataObj.menu.active[e]=utils.booleanToInt(t),p.setData())},this.setModuleActive=function(e,t){p.dataObj.menu.active[e]=utils.booleanToInt(t),p.setData()},this.isModuleActive=function(e){return 1==p.dataObj.menu.active[e]},this.initModuleMandatory=function(e,t){null==p.dataObj.menu.mandatory[e]&&(p.dataObj.menu.mandatory[e]=utils.booleanToInt(t),p.setData())},this.setModuleMandatory=function(e,t){p.dataObj.menu.mandatory[e]=utils.booleanToInt(t),p.setData()},this.isModuleMandatory=function(e){return 1==p.dataObj.menu.mandatory[e]},this.initModuleLocked=function(e,t){null==p.dataObj.menu.locked[e]&&(p.dataObj.menu.locked[e]=utils.booleanToInt(t),p.setData())},this.setModuleLocked=function(e,t){p.dataObj.menu.locked[e]=utils.booleanToInt(t),p.setData()},this.isModuleLocked=function(e){return 1==p.dataObj.menu.locked[e]},this.getMenuData=function(){return p.dataObj.menu},this.isPageComplete=function(e){for(var t=!0,a=0;a<navigationController.pageArray[e].slides.length;a++)if(2!=p.dataObj.slideProgress[e][a]&&navigationController.isValidRole(navigationController.pageArray[e].slides[a].roles)){t=!1;break}return t},this.isModuleComplete=function(e){for(var t=!0,a=!1,o=0;o<navigationController.pageArray.length;o++)if(navigationController.isValidRole(navigationController.pageArray[o].roles)&&navigationController.pageArray[o].module==e&&navigationController.pageArray[o].completeModuleOnCompletion&&p.isPageComplete(o)){a=!0;break}if(!a)for(o=0;o<navigationController.pageArray.length;o++)if(navigationController.pageArray[o].module==e&&(multiLanguage||"true"!=courseData.getPageData(e,navigationController.pageArray[o].page).multiLanguageOnly)&&courseData.checkMandatory(navigationController.pageArray[o])&&!p.isPageComplete(o)){t=!1;break}return t},this.checkCourseComplete=function(){var e=!1;if(0==courseConfig.storage.courseCompletion||2==courseConfig.storage.courseCompletion)for(var e=!0,t=0;t<p.dataObj.slideProgress.length;t++)if(navigationController.isValidRole(navigationController.pageArray[t].roles)&&(multiLanguage||"true"!=courseData.getPageData(navigationController.pageArray[t].module,navigationController.pageArray[t].page).multiLanguageOnly)&&!p.isPageComplete(t)){e=!1;break}var a=!1,o=(1==courseConfig.storage.courseCompletion&&(""!=assessmentConfig.scormScoreAssessmentID?assessmentConfig.assessments[assessmentConfig.scormScoreAssessmentID].enable&&(a=p.dataObj.assessment[assessmentConfig.scormScoreAssessmentID].perc>=assessmentConfig.assessments[assessmentConfig.scormScoreAssessmentID].passingPerc):a=100==p.score),!1);switch(courseConfig.storage.courseCompletion){case 0:o=e;break;case 1:o=a;break;case 2:o=e&&a;break;case 3:for(var s={page:0,slide:0},t=0;t<navigationController.pageArray.length;t++)for(var n=0;n<navigationController.pageArray[t].slides.length&&(!navigationController.isValidRole(navigationController.pageArray[t].slides[n].roles)||(s={page:t,slide:n},"true"!=navigationController.pageArray[t].slides[n].navData.setsCourseComplete));n++);o=p.isSlideComplete(s.page,s.slide),p.isLastSlideComplete=o}o&&this.setComplete()},this.isCourseComplete=function(){for(var e=!0,t=0;t<navigationController.pageArray.length;t++)if(navigationController.isValidRole(navigationController.pageArray[t].roles)&&(multiLanguage||"true"!=courseData.getPageData(navigationController.pageArray[t].module,navigationController.pageArray[t].page).multiLanguageOnly)&&!p.isPageComplete(t)){e=!1;break}return e},this.setAssessmentData=function(){for(var e in assessmentConfig.assessments)assessmentConfig.assessments[e].enable&&(p.dataObj.assessment[e]=window[e+"Assessment"].getData());p.setData()},this.setData=function(){p.dataObj.version=LaunchConfig.course.version,p.dataObj.history=navigationController?navigationController.historyArray:p.dataObj.history,p.dataObj.custom=customDataController.data,p.dataObj.system=getSystemInfoObject();var e=JSON.stringify(p.dataObj);switch(courseConfig.storage.complianceType){case C:case h:case S:T(p.SUSPEND_DATA,e)}},this.getData=function(){if(0==p.dataObj.slideProgress.length){var e=null;switch(courseConfig.storage.complianceType){case C:case h:case S:e=v(p.SUSPEND_DATA)}if(null!=e&&""!=e){var t=JSON.parse(e);for(o in p.dataObj=t,assessmentConfig.assessments)assessmentConfig.assessments[o].enable&&window[o+"Assessment"].updateFromLMSData(p.dataObj.assessment[o])}else{for(var a=0;a<courseData.getNumModules();a++)p.dataObj.bookmark[a]=0;for(var o,a=0;a<navigationController.pageArray.length;a++){p.dataObj.slideProgress[a]=[],p.dataObj.slideData[a]=[];for(var s=0;s<navigationController.pageArray[a].slides.length;s++){var n=navigationController.pageArray[a].slides[s].navData;p.dataObj.slideProgress[a][s]="true"==n.complete?2:0,p.dataObj.slideData[a][s]=0}}for(o in assessmentConfig.assessments)assessmentConfig.assessments[o].enable&&(p.dataObj.assessment[o]={})}}},this.getCustomData=function(){return p.dataObj.custom},this.setCustomData=function(e){p.dataObj.custom=e,p.setData()},this.getCompletionDate=function(){return p.dataObj.completion},this.isPassed=function(){return""!=p.dataObj.completion},this.getHistory=function(){return p.dataObj.history},this.setHistory=function(e){p.dataObj.history=e,p.setData()},this.getScore=function(){var e=null;switch(courseConfig.storage.complianceType){case C:case h:case S:e=v(p.SCORE)}return e},this.setScore=function(e,t,a){switch(t=t||0,a=a||100,p.score=e,p.setData(),courseConfig.storage.complianceType){case C:case h:case S:T(p.SCORE_MIN,t),T(p.SCORE_MAX,a),T(p.SCORE,e)}switch(courseConfig.storage.complianceType){case h:case S:T(p.SCORE_SCALED,(e/a).toFixed(2))}},this.getProgressData=function(){for(var e={num:0,complete:0,perc:0},t=0;t<p.dataObj.slideProgress.length;t++)navigationController.isValidRole(navigationController.pageArray[t].roles)&&(multiLanguage||"true"!=courseData.getPageData(navigationController.pageArray[t].module,navigationController.pageArray[t].page).multiLanguageOnly)&&(e.num++,p.isPageComplete(t))&&e.complete++;return e.perc=e.complete/e.num,e},this.setProgressMeasure=function(e){switch(courseConfig.storage.complianceType){case C:case h:T(p.PROGRESS_MEASURE,(e/100).toFixed(2))}},this.getComplete=function(){var e;switch(courseConfig.storage.complianceType){case C:case h:case S:e=v(p.LESSON_STATUS)}return e},this.setComplete=function(){var e,t,a;if(addTrackDataTrace("StorageController::setComplete called"),""==this.dataObj.completion)switch(this.dataObj.completion=utils.getTodayDate(),3==courseConfig.storage.courseCompletion&&p.isLastSlideComplete&&(e="string"==typeof(e=courseConfig.storage.scoring.min||0)?utils.evaluateVariable(e):e,t="string"==typeof(t=courseConfig.storage.scoring.max||100)?utils.evaluateVariable(t):t,a="string"==typeof(a=courseConfig.storage.scoring.score||100)?utils.evaluateVariable(a):a,console.log(a,e,t),this.setScore(a,e,t)),courseConfig.storage.complianceType){case C:case h:case S:p.setSuccess("passed"),T(p.LESSON_STATUS,"completed"),p.saveDataToStorageAPI()}},this.getSuccess=function(){var e;switch(courseConfig.storage.complianceType){case h:case S:e=v(p.SUCCESS_STATUS)}return e},this.setSuccess=function(e){switch(courseConfig.storage.complianceType){case h:case S:T(p.SUCCESS_STATUS,e)}},this.saveData=function(){p.dataObj.position={loc:navigationController.currentPage,m:navigationController.moduleIndex,p:navigationController.pageIndex,s:navigationController.currentSlide},p.setData(),p.saveDataToStorage()},this.saveDataToStorage=function(){t&&(n?p.saveDataToStorageAPI():null==a&&(a=setTimeout(function(){clearTimeout(a),a=null,p.saveDataToStorageAPI()},2e3)))},this.saveDataToStorageAPI=function(){switch(courseConfig.storage.complianceType){case C:case h:case S:u()&&p.storageAPI.save()&&(t=!1)}},this.getStudentID=function(){var e="Student ID";switch(courseConfig.storage.complianceType){case C:case h:case S:e=v(p.STUDENT_ID)}return e},this.setStudentName=function(e){p.studentName=e},this.getStudentName=function(){var e,t="[Your_Name]";switch(courseConfig.storage.complianceType){case C:case h:case S:t=v(p.STUDENT_NAME)||t}return t=-1!=t.indexOf(",")?(e=t.split(","))[1].trim()+" "+e[0].trim():t},this.getStudentFirstName=function(){var e=this.getStudentName();return-1!=e.indexOf(" ")?e.substring(0,e.indexOf(" ")):e},this.setInteraction=function(e){var t,a,o,s,n,i,r="",c=e.id.split(" ").join("");if(f&&courseConfig.storage.cmi.interactions.enabled){var l=p.dataObj.cmi.i[c],u=(null!=l&&!courseConfig.storage.cmi.interactions.unique||(l=v("cmi.interactions._count"),p.dataObj.cmi.i[c]=parseInt(l)),r="string"==typeof e.correct?e.correct:e.correct?"correct":courseConfig.storage.complianceType==C?"wrong":"incorrect",e.question),g=(255<=u.length&&(u=u.slice(0,250),u+="..."),p.getCorrectInteractionPatterns(e.type,e.answers)),m=p.adjustInteractionPattern(e.type,e.response);switch(courseConfig.storage.complianceType){case C:case h:case S:T("cmi.interactions."+l+".id","Question-"+c),T("cmi.interactions."+l+".type",e.type),courseConfig.storage.complianceType==C?T("cmi.interactions."+l+".objectives.0.id",u):courseConfig.storage.complianceType==h&&T("cmi.interactions."+l+".description",u),T("cmi.interactions."+l+".timestamp",(t=e.timestamp,a=(t=new Date(t)).getFullYear(),o=t.getMonth()+1,s=t.getDate(),n=t.getHours(),i=t.getMinutes(),t=t.getSeconds(),o=b(o,2),s=b(s,2),n=b(n,2),i=b(i,2),t=b(t,2),a+"-"+o+"-"+s+"T"+n+":"+i+":"+t)),T("cmi.interactions."+l+".latency",O(utils.getCurrentTime()-e.timestamp));for(var d=0;d<g.length;d++)T("cmi.interactions."+l+".correct_responses."+d+".pattern",g[d]);courseConfig.storage.complianceType==C?T("cmi.interactions."+l+".student_response",m):courseConfig.storage.complianceType==h&&T("cmi.interactions."+l+".learner_response",m),T("cmi.interactions."+l+".result",r)}}},this.getCorrectInteractionPatterns=function(e,t){var a=[],o=[];Array.isArray(t[0])?o=utils.get2dCombinations(t):Array.isArray(t)?o.push(t.slice()):o.push(t);for(var s=0;s<o.length;s++)a.push(p.adjustInteractionPattern(e,o[s]));return a},this.adjustInteractionPattern=function(e,t){var a=t.toString();if(courseConfig.storage.complianceType==h)switch(e){case"choice":if(Array.isArray(t)){for(var o=[],s=0;s<t.length;s++)1==t[s]&&o.push(s);a=o.join("[,]")}break;case"matching":if(Array.isArray(t))for(o=[],s=0;s<t.length;s++)o[s]=s+"[.]"+t[s];a=o.join("[,]")}return a},this.getInteractionData=function(e,t){e=e.split(" ").join("");var a="";return a=f?v("cmi.interactions."+p.dataObj.cmi.i[e]+"."+t):a},this.setObjective=function(e,t,a){if(f&&courseConfig.storage.cmi.objectives.enabled){var o=p.dataObj.cmi.o[s],s=e.split(" ").join(""),e=(console.log("StorageController::setObjective",s,o),"incomplete");if(null==o?(o=v("cmi.objectives._count"),p.dataObj.cmi.o[s]=parseInt(o),T("cmi.objectives."+o+".id",s)):e=v("cmi.objectives."+o+".completion_status"),console.log("StorageController::setObjective",s,o,e),"completed"!=e)switch(t="complete"==t.toLowerCase()?"completed":t.toLowerCase(),courseConfig.storage.complianceType){case C:T("cmi.objectives."+o+".status",t);break;case h:case S:T("cmi.objectives."+o+".completion_status",t),T("cmi.objectives."+o+".description",a)}}},console.log("StorageController::init",courseConfig.storage.complianceType),s=new Date,courseConfig.storage.complianceType){case C:case h:try{courseConfig.storage.complianceType==C?pipwerks.SCORM.version="1.2":pipwerks.SCORM.version="2004"}catch(e){}p.storageAPI=pipwerks.SCORM}courseConfig.storage.complianceType!=h&&courseConfig.storage.complianceType!=S||(p.SESSION_TIME="cmi.session_time",p.LESSON_LOCATION="cmi.location",p.LESSON_STATUS="cmi.completion_status",p.SUCCESS_STATUS="cmi.success_status",p.SUSPEND_DATA="cmi.suspend_data",p.STUDENT_ID="cmi.learner_id",p.STUDENT_NAME="cmi.learner_name",p.STUDENT_LANG="cmi.learner_preference.language",p.STUDENT_AUDIO="cmi.learner_preference.audio_level",p.SCORE="cmi.score.raw",p.SCORE_MAX="cmi.score.max",p.SCORE_MIN="cmi.score.min",p.PROGRESS_MEASURE="cmi.progress_measure"),1==courseConfig.storage.complianceType?f=!1:(courseConfig.storage.complianceType!=S&&(f=p.storageAPI.init()),p.studentID=p.getStudentID(),p.studentName=p.getStudentName(),p.score=p.getScore(),p.completionStatus=p.getComplete(),p.successStatus=p.getSuccess(),"complete"!=p.completionStatus&&courseConfig.storage.complianceType,window.onbeforeunload=g,window.onunload=g),console.log("StorageController::init lmsConnected",f)};
function StorageComms(){var c=this,i='<h1 class="titleText">'+LaunchConfig.course.author+" Test Report - "+LaunchConfig.course.id+" ["+LaunchConfig.course.version+"] - Start</h1>",o={trace:[],func:[]};this.addTrace=function(a){var s=(new Date).toISOString();o.trace.push({date:s,msg:a});var n=(n="")+'<div class="data-item data-trace-item"><p><span class="valLable" >#'+o.trace.length+'</span> <span class="valLable" >Time:</span>'+s+"</p>";i+=n=(n+='<p><span class="valLable" >Trace: </span>'+a+"</p>")+'<p class="botBorder"></p>'+"</div>",null!=communicationWin&&islogPop&&communicationWin.updateLog(c.getLogString())},this.addFunc=function(a,s,n,t,e){commCount++;var l=(new Date).toISOString(),p=(o.func.push({date:l,func:a,param:s,value:n,result:t}),""),p=(p+='<div class="data-item data-function-item">')+('<p><span class="valLable" >#'+o.func.length+'</span> <span class="valLable" >Time:</span>'+l+"</p>")+('<p><span class="valLable" >Function: </span>'+a+"</p>");null!=s&&""!=s&&(p+='<p><span class="valLable" >Parameter: </span>'+s+"</p>"),null!=n&&""!=n&&(p+='<p><span class="valLable" >Parameter Value: </span>'+n+"</p>"),i+=p=(p=p+('<p><span class="valLable" >Return: </span>'+t+"</p>")+(e?'<p><span class="valLable" >Result: </span><span class="passResult" >Success</span></p>':'<p><span class="valLable" >Result: </span><span class="failResult" >Fail</span></p>'))+'<p class="botBorder"></p>'+"</div>",null!=communicationWin&&islogPop&&communicationWin.updateLog(c.getLogString())},this.getLogString=function(){return i+getSystemInfoStr()},this.getLogObj=function(){return o}}
function SearchController(){var p="",g=[],m=[],v=!1;function w(e){return e.replace(/[\\[*+.()?^{|$]/g,"\\$&")}function _(){r();for(var e=0;e<g.length;e++){var t=new RegExp(g[e],"gi"),a=$(".slide *").contents().filter(function(){return 3===this.nodeType&&$(this).parent().html().match(t)}).parent();a.length&&a.each(function(){$(this).html($(this).html().replace(t,'<span class="searchmarker">$&</span>'))})}}function r(){$(".searchmarker").parent().each(function(){$(this).html($(this).html().replace(/<span class=("searchmarker")>(.*?)<\/span>/gm,"$2"))})}this.init=function(){$("#search-dropdown .search_form input").focus(function(){console.log("focus"),setTimeout(function(){$("#search-dropdown").addClass("open")},50)}),$("#search-dropdown .search_form").on("click",function(){"xs"!=responsiveUtils.getCurrentViewport()&&($(this).hasClass("active")?$("#search-dropdown .search_form input").focus():($("#search-dropdown .search_form input").blur(),setTimeout(function(){$("#search-dropdown").removeClass("open")},1)))}),$("#search-dropdown .btn_Search").on("click",function(){$(this).closest(".search_form").toggleClass("active")}),$(".search_form").on("submit",function(e){return e.preventDefault(),searchController.handleSearch($(this).find(".content_search").val()),!1}),$("#search-dropdown").on("show.bs.dropdown",function(){})},this.handleSearch=function(e){var t=languageConfig.languages[currentLanguage].minsearch||3;e.length>=t?searchController.search(courseData.data,e):(r(),$(".search-results").html(courseData.data.settings[0].search[0].min[0].Text).slideDown()),setTimeout(function(){$("#search-dropdown").addClass("open")},50)},this.updateSearch=function(){v?(_(),v=!1):this.clearSearch()},this.clearSearch=function(){p="",g=[],m=[],$(".search_form .content_search").text(""),$(".search-results").html("").hide()},this.search=function(e,t){if(p=t,$(".content_search").val(p),g=t.split(new RegExp("\\s+","g")),m=[],this.searchObj(e,g),courseConfig.googleAnalytics.enabled&&gtag("event","Search",{event_category:"Search",event_label:t}),0<m.length){for(var a="",r=-1,s=-1,n=-1,o=0;o<m.length;o++){var c=m[o].module,i=m[o].module,h=m[o].page,l=m[o].slide;if(i!=courseData.getMenuModuleNum()){a+='<div class="search-result">',i!=r&&(a+=' <div class="search-result-module">'+courseData.getModuleLangData(i).title[0].Text+"</div>"),i==r&&h==s&&l==n||(a+=' <div class="search-result-slide">',courseData.getSlideLangData(i,h,l).title,a=a+(courseData.data.settings[0].search[0].slide[0].Text+" ")+(l+1)+"</div>"),r=i,s=h,n=l;var u="",d=function(e,t){for(var e=e.replace(/<.*?>/g,""),t="("+t.map(w).reduce(function(e,t){return e+"|"+t})+")",a=new RegExp(t,"gi"),c=e.split(" "),r=[],s=0;s<c.length;s++)c[s].match(a)&&r.push(s);var n,o=[];{if(0==r.length)return null;if(1==r.length)o=[[r[0]]];else for(var i=0,s=0;s<r.length;s++)r[(n=s)+1]?0<s&&5<r[s]-r[s-1]&&(o.push(r.slice(i,n)),i=s):5<r[s]-r[s-1]?(o.push(r.slice(i,n)),o.push([r[s]])):o.push(r.slice(i,n+1))}return o.map(function(e){var t=[];if(t.push(c[e[0]]),1<e.length)for(var a=e[0]+1;a<=e[e.length-1];a++)t.push(c[a]);for(var r=!1,s=!1,n=5,a=1;a<=n;a++){var o=e[0]-a;if(void 0===c[o]||c[o].match(/\S/)||n++,void 0===c[o])break;if(c[o].match(/\.\s*$/))break;t.unshift(c[o]),5==a&&c[o-1]&&!c[o-1].match(/\.\s*$/)&&(r=!0)}if(n=5,!t[t.length-1].match(/\.\s*$/))for(a=1;a<=n;a++){o=e[e.length-1]+a;if(void 0===c[o]||c[o].match(/\S/)||n++,void 0===c[o])break;if(c[o].match(/\.\s*$/))break;t.push(c[o]),5==a&&!c[o].match(/\.\s*$/)&&c[o+1]&&(s=!0)}return t=t.join(" "),r&&(t="..."+t),s&&(t+="..."),t})}(m[o].text,m[o].terms);if(d){for(var u=d.join("/"),f=0;f<m[o].terms.length;f++)u=function(e,t){t=w(t),t=new RegExp(t,"gi");return e.replace(t,'<span class="term">$&</span>')}(u,m[o].terms[f]);a+='<div class="search-result-text"><a href="javascript:void(0)" data-module="'+i+'" data-page="'+h+'" data-slide="'+l+'" data-path="'+c+'">'+u+"</a></div>"}else console.log("search error",m[o]);a+="</div>"}}$(".search-results").html(a).slideDown(),$(".search-results a").on("click",function(e){v=!0,navigationController.changePageToData($(this).data("module"),$(this).data("page"),$(this).data("slide"))})}else $(".search-results").html(courseData.data.settings[0].search[0].noresults[0].Text).slideDown();_()},this.searchObj=function(e,t,a){if(a=a||{path:[],terms:[]},e._childorder)for(var r=0;r<e._childorder.length;r++){var s=$.extend(!0,{},a),n=e._childorder[r].node,o=e[n][e._childorder[r].pos];if(s.path.push(n+e._childorder[r].pos),"module"!=n&&"page"!=n&&"slide"!=n||(s[n]=e._childorder[r].pos),o.Text){for(var c=!1,i=0;i<t.length;i++)-1!=o.Text.toLowerCase().indexOf(t[i].toLowerCase())&&(s.terms.push(t[i]),c=!0);c&&null!=s.module&&null!=s.page&&null!=s.slide&&(s.text=o.Text,m.push(s))}else this.searchObj(o,t,s)}},this.init()}
var TitleController=function(t){var e,i;function n(){e=$(".pageTitle"),i=$(".pageTitleText")}this.init=n,this.change=function(t){i.stop().fadeTo(300,0,function(){e.removeClass("notitle"),0==t.length&&e.addClass("notitle"),i.html(t),i.css("opacity",0).fadeTo(300,1)})},n()};
var Utility=function(){function i(e){return e=0<e.indexOf("liIcon")?e:(e=e.replaceAll("<li>",'<li><span class="liIcon" ></span><span class="liText">')).replaceAll("</li>","</span></li>")}this.loadXMLData=function t(n,r){$.ajax({type:"GET",url:utils.getURL(n),dataType:"xml",success:function(e){e=$.xmlToJSON(e);"html"===e.RootName?$.Alert({title:utils.loadingError.title,message:utils.loadingError.message+n,confirm:utils.loadingError.confirm,cancel:utils.loadingError.cancel,onConfirm:function(){t(n,r)},onCancel:function(){courseConfig.launchInNewWindow||window.close(),window.top.close()}}):r(e)},error:function(e){$.Alert({title:utils.loadingError.title,message:utils.loadingError.message+n,confirm:utils.loadingError.confirm,cancel:utils.loadingError.cancel,onConfirm:function(){t(n,r)},onCancel:function(){courseConfig.launchInNewWindow||window.close(),window.top.close()}})}})},this.updateXMLText=function e(t){var n;if(t.hasChildNodes()){var r=t.childNodes.length-1,o=0;do{switch((n=t.childNodes[o]).nodeType){case 1:n.hasChildNodes()&&e(n);break;case 3:n.nodeValue=i(n.nodeValue);break;case 4:n.text?n.text=i(n.text):n.nodeValue=i(n.nodeValue)}}while(o++<r)}},this.filterText=i,this.getURLParameter=function(e){return decodeURI((RegExp(e+"=(.+?)(&|$)").exec(location.search)||[,null])[1])},this.capitalizeFirstLetter=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},this.testConnection=function(){0==$("#netConn").length&&$("body").prepend('<div id="netConn"></div>');var e='<img id="testImage" style="display: none;" src="'+coursePath+"framework/images/netConnCheck.png?"+Math.random()+'" onerror="testConnectionCallback(false);" onload="testConnectionCallback(true);">';$("#netConn").html(e),testConnectionCallback=function(e){e||$.Alert({title:utils.connectionError.title,message:utils.connectionError.message,confirm:utils.connectionError.confirm,cancel:utils.connectionError.cancel,onConfirm:function(){navigationController.exitCourse()}}),$("#netConn").html("")}},this.getURL=function(e){0!=e.indexOf("http")&&(e=updateManager.getURL(0==e.indexOf("course/")?e:coursePath+e));return e},this.getFullPath=function(e,t){e=0==(t=void 0!==t?t:"").indexOf("http")?utils.getURL(t):(e=-1==t.indexOf("content/")?e:"",utils.getURL(e+t));return e},this.getImagePath=function(e){var t="";e&&(t=utils.getFullPath("content/images/",e));return t},this.getLangPath=function(e){var t=e;e&&(t=utils.getFullPath("content/lang/"+languageConfig.languages[currentLanguage].code,e));return t},this.getMediaPath=function(e){var t="";e&&(t=utils.getFullPath("content/media/",e));return t},this.getDocHeight=function(){var e=document;return Math.max(e.body.scrollHeight,e.documentElement.scrollHeight,e.body.offsetHeight,e.documentElement.offsetHeight,e.body.clientHeight,e.documentElement.clientHeight)},this.handleClickAndPress=function(t){return function(e){"keypress"==e.type&&13!=e.keyCode||t(e)}},this.evaluateVariable=function(e){var t="";try{var n,r,o=e.match(/[^{}$]+/i)[0];t=-1!=o.indexOf("(")?(n=o.split(/[\(\)]+/),(r=[]).push(window),r.push(n[0]),r=r.concat(n[1].split(",")),_.invoke.apply(this,r)):_.get(window,o)}catch(e){}return t},this.checkConditionStr=function(e){var t=!1;if(-1!=e.indexOf("()"))return utils.evaluateVariable(e);var n=utils.extractFromConditionStr(e);"object"!=typeof n&&(n=utils.extractFromLodashConditionStr(e));if(n.operator)switch(n.leftOperand=_.get(window,n.leftOperand),n.operator.toLowerCase()){case"==":case"===":case"eq":case"equal":t=_.eq(n.leftOperand,n.rightOperand);break;case"!=":case"!==":case"!eq":case"noteq":case"equal":case"!equal":case"notequal":t=!_.eq(n.leftOperand,n.rightOperand);break;case"<":case"lt":case"lessthan":t=_.lt(n.leftOperand,n.rightOperand);break;case"<=":case"lte":case"lessthanorequalto":t=_.lte(n.leftOperand,n.rightOperand);break;case">":case"gt":case"greaterthan":t=_.gt(n.leftOperand,n.rightOperand);break;case">=":case"gte":case"greaterthanorequalto":t=_.gte(n.leftOperand,n.rightOperand)}return t},this.extractFromConditionStr=function(e){var t=e.match(/(\w+(?:\.\w+)*(?:\[\d+\])?)\s*([!<>=]=|[<>])+\s*("([^"]*)"|'([^']*)'|\w+)/);return t?((t={leftOperand:t[1],operator:t[2],rightOperand:void 0!==t[3]?t[3].replace(/["']/g,""):t[4]}).rightOperand=isNaN(t.rightOperand)?t.rightOperand:Number(t.rightOperand),t):e},this.extractFromLodashConditionStr=function(e){var t={operator:e.replace(/ *\([^)]*\) */g,"")};var n="";-1!=e.indexOf("(")&&(n=e.substring(e.indexOf("(")+1,e.length-1).split(","),t.leftOperand=n[0],t.rightOperand=isNaN(n[1])?n[1]:Number(n[1]));return t},this.updateErrorMessages=function(){this.connectionError={title:courseData.getErrorText("connection","title"),message:courseData.getErrorText("connection","message"),confirm:courseData.getErrorText("connection","confirm"),cancel:!!courseData.getErrorText("connection","cancel")&&courseData.getErrorText("connection","cancel")},this.lmsConnectionError={title:courseData.getErrorText("lms","title"),message:courseData.getErrorText("lms","message"),confirm:courseData.getErrorText("lms","confirm"),cancel:!!courseData.getErrorText("lms","cancel")&&courseData.getErrorText("connection","cancel")},this.loadingError={title:courseData.getErrorText("file","title"),message:courseData.getErrorText("file","message"),confirm:courseData.getErrorText("file","confirm"),cancel:courseData.getErrorText("file","cancel")}},this.sanitize_escape_map={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"},this.chromeSecurityError={message:"Due the security restrictions inherent to Google Chrome the course will need to be run in one of the following supported browsers if you wish to run this locally:",browserSupport:["Internet Explorer","Firefox","Safari"]},this.connectionError={title:"Connection Error",message:"Connection lost, please log in again. If the problem persists please contact IT Support.",confirm:"Close course"},this.lmsConnectionError={title:"LMS Connection Error",message:"LMS connection lost, please log in again. If the problem persists please contact IT Support.",confirm:"Close course"},this.loadingError={title:"Loading Error",message:"File not found: ",confirm:"Retry",cancel:"Close course"},this.css_time_to_milliseconds=function(e){var t,n=parseFloat(e,10),e=e.match(/m?s/);switch(e=e&&e[0]){case"s":t=1e3*n;break;case"ms":t=n;break;default:t=0}return t},this.getWordsByFragment=function(e,t){t=new RegExp("\\b"+t+"\\w*\\b","gi");return e.match(t)||[]},this.removeWordsByFragment=function(e,t){t=new RegExp("\\b"+t+"\\w*\\b","gi");return e.replace(t,"").trim()||[]},this.getLongestWord=function(e){return e.split(" ").reduce(function(e,t){return t.length>e.length?t:e},"")},this.closestNumber=function(e,t){var n,r=0,o=1e3;for(r in e){var i=Math.abs(t-e[r]);i<o&&(o=i,n=e[r])}return n},this.getCurrentTime=function(){return(new Date).getTime()},this.getTodayDate=function(){var e=new Date;return e.getDate()+"_"+(e.getMonth()+1)+"_"+e.getFullYear()},this.getViewportTop=function(){return 1<window.pageYOffset?window.pageYOffset:(1<document.documentElement.scrollTop?document.documentElement:document.body).scrollTop},this.findElementTotalOffset=function(e){var t=otop=0;if(e.offsetParent)for(;t+=e.offsetLeft,otop+=e.offsetTop,e=e.offsetParent;);return{left:t,top:otop}},Array.prototype.shuffle=function(){for(var e,t,n=this.length;n;e=parseInt(Math.random()*n),t=this[--n],this[n]=this[e],this[e]=t);return this},Array.prototype.toNumberArray=function(){return this.map(Number)},this.checkArraysEqual=function(e,t){if(e!==t){if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(e[n]!==t[n])return!1}return!0},$.fn.shuffle=function(e){return(e?this.find(e):this).parent().each(function(){$(this).children(e).sort(function(){return Math.random()-.5}).detach().appendTo(this)}),this},this.get2dCombinations=function(e){var t=e[0];if(1===e.length)return t.map(function(e){return[e]});for(var n=[],r=0;r<t.length;r++)for(var o=utils.get2dCombinations(e.slice(1)),i=0;i<o.length;i++)n.push([t[r]].concat(o[i].slice()));return n},this.setHeightToRemainingViewport=function(e,t){-1==(t=t||["sm","md","lg"]).indexOf(responsiveUtils.getCurrentViewport())?e.css("min-height",$(".content-wrap-inner").cssNumber("min-height")-$(".content-wrap-inner").cssNumber("padding-bottom")-e.offset().top+20):e.css("min-height","auto")},this.stringToBoolean=function(e){switch(e.toString().toLowerCase()){case"true":case"yes":case"1":return!0;case"false":case"no":case"0":case null:return!1;default:return Boolean(e)}},this.booleanToInt=function(e){return e?1:0},this.intToBoolean=function(e){return!!e},this.sanitize=function(e){return e.replace(/[&<>]/g,function(e){return utils.sanitize_escape_map[e]})},this.raphaelGetTextDetail=function(e,t,n,r,o,i){for(var a=t.replace("<br>","\n").split(" "),s="",c="",l=0;l<a.length;l++){var u,h=c+a[l]+" ";(u=e.text(n,r,h)).attr("font-size",o),c=u.getBBox().width>i&&0<l?(s+=c+"\n",a[l]+" "):h,u.remove()}return{textStr:s+=c,x:n,y:r}},this.raphaelAddText=function(e,n,r,o,i,a){n=utils.raphaelGetTextDetail(e,n,r,o,i,a);return(t=e.text(n.x,n.y,n.textStr)).attr("font-size",i),t},this.loadFile=function(e){var t,n=document.createElement(e.type);n.onload=n.onreadystatechange=function(){this.readyState&&"complete"!=this.readyState&&"loaded"!=this.readyState||e.success()},n.onerror=function(){console.log("ERROR"),e.error()},("link"==e.type?(t=window.document.head||window.document.getElementsByTagName("head")[0],n.href=e.url,n.rel="stylesheet",t):(n.src=e.url,document.documentElement)).appendChild(n)},this.matchElementWidths=function(e,t){t=null==t?[]:Array.isArray(t)?t:[t];var n=0;e.css({width:"auto"}),-1==t.indexOf(responsiveUtils.getCurrentViewport())&&(e.filter(":visible").each(function(){n=Math.max(n,$(this).outerWidth())}),e.css({width:n}))},this.matchElementHeights=function(e,t,n){n=n||!1,t=null==t?[]:Array.isArray(t)?t:[t];var r=0;e.css({height:"auto"}),-1==t.indexOf(responsiveUtils.getCurrentViewport())&&(e.filter(":visible").each(function(){r=Math.max(r,$(this).outerHeight(n))}),e.css({height:r}))},this.getOuterHeightAsFloat=function(e,t){var n;return console.log(e),null==(e=e instanceof jQuery?e[0]:e)?0:(e=window.getComputedStyle(e),n=parseFloat(e.height),t&&(n+=parseFloat(e.marginTop)+parseFloat(e.marginBottom)),n)},this.onClickOpenLink=function(e){utils.openLink($(e.target).closest("[href]").attr("href")),e.preventDefault()},this.openLink=function(e){if(0==e.toLowerCase().indexOf("mailto:"))window.open(e,"_self");else if(courseConfig.externalLinks.window){for(var t="linkWindow",n=(courseConfig.externalLinks.unique&&(t="link-"+e.replace(/^.*[\\\/]/,"").replace(/[^\w]/g,"").toLowerCase()+"Window"),console.log("Utility:openLink "+e+" - "+t),screen.availWidth),r=screen.availHeight,o=courseConfig.externalLinks.properties.split(","),i=0;i<o.length;i++){var a=o[i].split("="),s=a[1];if(-1!=s.indexOf("%")){var c=parseInt(s.split("%").join(""));switch(a[0]){case"width":case"left":case"screenX":s=Math.round(n*(c/100));break;case"height":case"top":case"screenY":s=Math.round(r*(c/100))}a[1]=s,o[i]=a.join("=")}}var l=o.join(",");console.log("windowProperties",l),window[t]=window.open(e,t,l).focus()}else window.open(e)},this.fitTextToElements=function(e,o){var o=o||12,i=1e3,a=!1;e.each(function(){var e=$(this);if(0<e[0].scrollWidth){for(var t=e.css(["transitionDuration","transitionDelay"]),n=(e.css({transitionDuration:"0s",transitionDelay:"0s"}),e.attr("style",e.attr("style").replace(/font-size:[^;]+/g,"")),parseInt(e.css("font-size"))),r=e.contents().add().filter(function(){return""!=$(this).text()});0==r[0].scrollWidth||"SPAN"==r.prop("tagName");)r=r.parent();for(;r[0].scrollWidth>e.width()&&o<n;)a=!0,e.css("font-size",--n+"px");e.attr("style",e.attr("style").replace(/transition-duration:[^;]+/g,"").replace(/transition-delay:[^;]+/g,"")),e.css(t)}i=Math.min(parseInt(e.css("font-size")),i)}),a&&e.css("font-size",i+"px")},this.calculateReadTime=function(e){var t=e.trim().split(/\s+/).length,n=Math.ceil(t/(200/60));return console.log("calculateReadTime",t,n),languageConfig.languages[currentLanguage].readspeed&&"char"==languageConfig.languages[currentLanguage].readspeed&&(t=e.trim().length,n=Math.ceil(t/(200/60))),n},this.xmlAttributeToJSON=function(t){try{return JSON.parse(t)}catch(e){return-1!=t.indexOf("'")?(t=t.replace(/'/g,'"'),this.xmlAttributeToJSON(t)):{}}},this.getUrlExtension=function(e){var t=e.lastIndexOf(".");return-1!==t?e.substring(t+1).toLowerCase():""}};
var HTMLUtility=function(){var s=this;function c(t,e,i){var s="",a=(i&&(s=i.term),"");if(t._childorder)if(t._childorder.length)for(var r=0;r<t._childorder.length;r++){var n=t._childorder[r].node,o=t[n][t._childorder[r].pos];switch(n){case"transcript":case"contentBackground":case"instructionText":break;case"section":case"container":case"row":a+="<div"+htmlUtils.getID(o)+' class="'+n+htmlUtils.getClasses(o,e)+'" '+htmlUtils.getAttributes(o,e)+">","section"!=n&&"container"!=n||(a+='<div class="'+("true"==o.fullwidth?"container-fluid":"container")+'">'),a=a+htmlUtils.recurseXML(o,e,i)+"</div>","section"!=n&&"container"!=n||(a+="</div>");break;case"column":case"col":var l=responsiveUtils.getBootstrapColumnsStrForNode(t[n][t._childorder[r].pos]),a=(a+="<div"+htmlUtils.getID(o)+' class="'+l+htmlUtils.getClasses(o,e)+'" '+htmlUtils.getAttributes(o,e)+">")+htmlUtils.recurseXML(o,e,i)+"</div>";break;case s:a+=i.callback(o.type,o);break;case"text":a+=htmlUtils.recurseXML(o,e,i);break;default:a+=htmlUtils.generateHTML(n,o,e,i)}}else a+=htmlUtils.getHTMLText(t,e);return a}function d(t,e){var i="";return t.Text?(i='<span data-dbid="'+t.dbid+'"',t.xmlPath&&liveEditConfig.enabled&&(i+=' data-xmlref="'+t.xmlPath+'"'),i+=">"+t.Text.replace(/\[svg="[^"]+"\]/gi,function(t){return'<span class="inline-svg">'+svgUtils.createSVG(t.replace('[svg="',"").replace('"]',""),"span")+"</span>"}).replace(/\$\{[^]+?\}/gi,function(t){return'<span class="textVariable" data-var="'+t+'">'+utils.evaluateVariable(t)+"</span>"}).replace(/href="(.*?)"/g,function(t,e){return 0!=e.indexOf("#")&&0!=e.indexOf("javascript")?'href="'+courseData.getLink(e)+'" onclick="utils.onClickOpenLink(event)"':'href="'+e+'"'})+"</span>"):i=htmlUtils.extractHTML(t,e),i}function e(t){var e,i="";for(e in t.style&&(i+=t.style),s.stylesObject)null!=t[e]&&(i+="backgroundImage"==e||"bkgImage"==e?s.stylesObject[e]+": url("+utils.getImagePath(t[e])+"); ":s.stylesObject[e]+":"+t[e]+"; ");return i}this.alphabetArray="abcdefghijklmnopqrstuvwxyz".split(""),this.recurseData=function(t,e){var i="";e&&(i=e.term);var s,a="";for(s in t)switch(s){case"sections":case"rows":for(var r="",n=0;n<t[s].length;n++)"rows"==s?r="row":"sections"==s&&(r="true"==t[s][n].fullwidth?"container-fluid":"container"),"sections"==s&&(a+='<div class="section'+htmlUtils.getClasses(t[s][n])+'" '+htmlUtils.getAttributes(t[s][n])+">"),a=(a+='<div class="'+r+'">')+htmlUtils.recurseData(t[s][n])+"</div>","sections"==s&&(a+="</div>");break;case"columns":for(n=0;n<t[s].length;n++){var o=responsiveUtils.getBootstrapColumnsStrForNode(t[s]);a=(a+='<div class="'+o+htmlUtils.getClasses(t[s])+'" '+htmlUtils.getAttributes(t[s])+">")+htmlUtils.recurseData(t[s][n])+"</div>"}break;case i:for(n=0;n<t[s].length;n++)a+=e.callback(t[s][n].type,t[s][n])}return a},this.recurseXML=c,this.getStyles=e,this.getCSSString=function(t){t=e(t);""!=t&&(t=' style="'+t+'"');return t},this.getHTMLText=d,this.extractHTML=function(t,e){var i="";if(!t._childorder)return htmlUtils.generateHTML("",t,e);for(var s=0;s<t._childorder.length;s++){var a=t._childorder[s].node,r=t[a][t._childorder[s].pos];i+=htmlUtils.generateHTML(a,r,e)}return i},this.generateHTML=function(t,e,i,s){var a="",r=htmlUtils.getID(e),n=htmlUtils.getClasses(e,i);""!=n&&(""==t&&(t="span"),n=' class="'+n+'"');t&&(a+="<"+t+r+n+" "+htmlUtils.getAttributes(e,i));switch(t){case"br":case"hr":t&&(a+=" />");break;default:t&&(a+=">");var o=!1;if(e.useModuleTitle){var l=courseData.data.module[navigationController.moduleIndex];l.title&&(a+=d(l.title[0],i),o=!0)}else if(e.usePageTitle){l=courseData.data.module[navigationController.moduleIndex].page[navigationController.pageIndex];l.title&&(a+=d(l.title[0],i),o=!0)}else if(e.useSlideTitle){l=contentController.getFirstUnloadedSlide();l.data.title&&(a+=d(l.data.title[0],i),o=!0)}else if(e.inject)try{-1==e.inject.indexOf("courseData")?a+=c(_.get(courseData.data.shared[0],e.inject),i,s):a+=c(_.get(window,e.inject),i,s),o=!0}catch(t){console.error("generateHTML injection failed",e.inject,t)}e._childorder&&!o&&(e._childorder.length?"xml"==courseConfig.dataFormat?a+=htmlUtils.recurseXML(e,i,s):a+=htmlUtils.extractHTML(e,i):a+=d(e,i)),t&&(a+="</"+t+">")}return a},this.updateTextVariables=function(){$(".textVariable").each(function(){$(this).text(utils.evaluateVariable($(this).data("var")))})},this.stylesObject={position:"position",right:"right",left:"left",bottom:"bottom",top:"top",width:"width",minWidth:"min-width",maxWidth:"max-width",height:"height",minHeight:"min-height",maxHeight:"max-height",color:"color",padding:"padding",paddingTop:"padding-top",paddingBottom:"padding-bottom",paddingLeft:"padding-left",paddingRight:"padding-right",margin:"margin",marginTop:"margin-top",marginBottom:"margin-bottom",marginLeft:"margin-left",marginRight:"margin-right",fontSize:"font-size",fontWeight:"font-weight",lineHeight:"line-height",textAlign:"text-align",border:"border",borderTop:"border-top",borderBottom:"border-bottom",borderLeft:"border-left",borderRight:"border-right",zIndex:"z-index",display:"display",float:"float",backgroundColor:"background-color",backgroundImage:"background-image",backgroundRepeat:"background-repeat",backgroundPosition:"background-position",backgroundSize:"background-size",backgroundAttachment:"background-attachment",bkgColor:"background-color",bkgImage:"background-image",bkgRepeat:"background-repeat",bkgPosition:"background-position",bkgSize:"background-size",bkgAttachment:"background-attachment"},this.getStyle=function(){},this.getID=function(t){var e="";return e=t.id?' id="'+t.id+'"':e},this.getClasses=function(t,e){e=e||{};var i,s="",a=t.anim;if(t.roles)for(var r=t.roles.split(","),n=0;n<r.length;n++)s+=" role"+parseInt(r[n]);if(t.class){var o=t.class;if("none"!=a){var l=utils.getWordsByFragment(o,"pulse");if(null!=l){for(n=0;n<l.length;n++)l[n]="suppress-"+l[n];o=utils.removeWordsByFragment(o,"pulse")+" "+l.join(" ")}}s+=" "+o}for(i in!t.showIf||utils.checkConditionStr(t.showIf)||(s+=" hidden conditional-hidden"),t.hideIf&&(console.log("hideIf",t.hideIf,utils.checkConditionStr(t.hideIf)),utils.checkConditionStr(t.hideIf))&&(s+=" hidden conditional-hidden"),responsiveUtils.getBreakpoints()){if(t["class_"+i]||t["class_not_"+i]){s+=" device-specific-class";break}if(t["style_"+i]||t["style_not_"+i]){s+=" device-specific-style";break}}return a?"none"!=a&&(s+=" anim "+a):t.nodeName&&0!=e.anim&&(o=animConfig.presets[t.nodeName])&&(s+=" anim "+o),s},this.getDeviceSpecificAttributes=function(t){var e="",i={};for(r in responsiveUtils.getBreakpoints())i[r]=[],r,0;var s=!1;for(r in responsiveUtils.getBreakpoints())if(t["class_"+r]&&(s=!0,i[r]=i[r].concat(t["class_"+r].split(" "))),t["class_not_"+r])for(var a in s=!0,responsiveUtils.getBreakpoints())r!=a&&(i[a]=i[a].concat(t["class_not_"+r].split(" ")));if(s)for(var r in responsiveUtils.getBreakpoints())i[r].length&&(e+="data-class-"+r+'="'+i[r].join(" ")+'" ');for(r in s=!1,responsiveUtils.getBreakpoints())if(t["style_"+r]&&(s=!0,i[r]=i[r].concat(t["style_"+r].split(" "))),t["style_not_"+r])for(var a in s=!0,responsiveUtils.getBreakpoints())r!=a&&(i[a]=i[a].concat(t["style_not_"+r].split(" ")));if(s)for(var r in responsiveUtils.getBreakpoints())i[r].length&&(e+="data-style-"+r+'="'+i[r].join(" ")+'" ');return e},this.updateDeviceSpecificClasses=function(){$(".device-specific-class").each(function(){var t,e,i=$(this),s="";for(t in responsiveUtils.getBreakpoints())(e=i.data("class-"+t))&&(s+=e+" ");""!=s&&i.removeClass(s),(e=i.data("class-"+responsiveUtils.getCurrentViewport()))&&i.addClass(e)})},this.updateDeviceSpecificStyles=function(){$(".device-specific-style").each(function(){var t,e=$(this),i=s.stylesToObject(e.attr("style"));for(t in console.log("stylesObj",i),responsiveUtils.getBreakpoints())s.stylesToObject(e.data("style-"+t));e.data("style-"+responsiveUtils.getCurrentViewport())})},this.stylesToObject=function(t){for(var e,i=/([\w-]*)\s*:\s*([^;]*)/g,s={};e=i.exec(t);)s[e[1]]=e[2].trim();return s},this.getAttributes=function(t,e){var i=htmlUtils.getCSSString(t);return t.animDelay&&(i+=' data-anim-delay="'+t.animDelay+'"'),t.ariaHidden&&(i+=' aria-hidden="'+("true"==t.ariaHidden?"true":"false")+'"'),i+=" "+this.getDeviceSpecificAttributes(t)},this.removeClasses=function(t,e){t.removeClass(utils.getWordsByFragment(t[0].className,e).join(" "))},this.addAnimationDelayCSS=function(t,e){e=e/1e3+"s";t.css({"-webkit-animation-delay":e,"-moz-animation-delay":e,"-o-animation-delay":e,"animation-delay":e})},this.replaceClassesBasedOnTextDirection=function(t,n){n=n||{left:"right",right:"left","top-left":"top-right","top-right":"top-left","bottom-left":"bottom-right","bottom-right":"bottom-left","left-top":"right-top","right-top":"left-top"},t.each(function(){var t=$(this),e=[];for(cl in n){var i=cl,s=n[cl];if(-1==e.indexOf(i)){for(var a in responsiveUtils.getBreakpoints()){var r=!1;t.data("class-"+a)==i&&(r=!0,t.data("class-"+a,s),-1==e.indexOf(s))&&e.push(s)}!r&&t.hasClass(i)&&(t.removeClass(i),t.addClass(s),-1==e.indexOf(s))&&e.push(s)}}})},this.findAnims=function(t,e){e=e||"";var i=[];return i=t?t.find(".anim"+e).not(".rolehidden").filter(function(){return 0===$(this).closest(".not-animated").length&&0===$(this).parents(".children-not-animated").length}):i}};
var ResponsiveUtility=function(){var l=this;this.BOOTSTRAP_VERSION=3,this.BOOTSTRAP_EXACT_VERSION=3;var t,n="",s="";this.hiddenClassesToCheck=[],this.init=function(s){t=s,4==this.BOOTSTRAP_VERSION&&(s={xs:$('<div class="device-xs visible-xs visible-xs-block"></div>'),sm:$('<div class="device-sm visible-sm visible-sm-block"></div>'),md:$('<div class="device-md visible-md visible-md-block"></div>'),lg:$('<div class="device-lg visible-lg visible-lg-block"></div>'),xlg:$('<div class="device-xlg visible-xlg visible-xlg-block"></div>')},t.use("bootstrap4",s)),l.breakpoints=l.getBreakpoints(),l.update(),$(window).resize(t.changed(function(){t.current()!=n&&(l.update(),$(document).trigger(courseEvent.DEVICE_BREAKPOINT_CHANGED))})),$(window).resize(function(){l.resizeOverspillColumns()}),$(document).on(courseEvent.SLIDE_SHOW_CONTENT,function(){l.resizeOverspillColumns()})},this.update=function(){s=n,n=t.current(),$("body").removeClass("device-"+s),$("body").addClass("device-"+n),l.getHiddenClasses()},this.getBootstrapColumnsStrForNode=function(s){var e={offset:{xs:[],sm:[],md:[],lg:[],xlg:[]},cols:{xs:[],sm:[],md:[],lg:[],xlg:[]},classes:[]};for(x in e.cols)s[x]&&(e.cols[x][0]=s[x]),s["col_"+x]&&(e.cols[x][0]=s["col_"+x]),s[x+"_offset"]&&(e.offset[x][0]=s[x+"_offset"]),s["col_"+x+"_offset"]&&(e.offset[x][0]=s["col_"+x+"_offset"]),s[x+"_push"]&&e.classes.push("col-"+x+"-push-"+s[x+"_push"]),s["col_"+x+"_push"]&&e.classes.push("col-"+x+"-push-"+s["col_"+x+"_push"]),s[x+"_pull"]&&e.classes.push("col-"+x+"-pull-"+s[x+"_pull"]),s["col_"+x+"_pull"]&&e.classes.push("col-"+x+"-pull-"+s["col_"+x+"_pull"]);return this.getBootstrapColumnsClassStr(e,0)},this.getBootstrapColumnsClassStr=function(s,e){var i="";for(x in s.cols)0<s.cols[x].length?s.classes.push("col-"+x+"-"+s.cols[x][e]):3!=this.BOOTSTRAP_VERSION&&4==this.BOOTSTRAP_VERSION&&s.classes.push("col"),s.offset[x]&&0<s.offset[x].length&&s.classes.push("col-"+x+"-offset-"+s.offset[x][e]);return s.classes&&(i+=s.classes.join(" ")),i},this.calculateChildBootstrapColumns=function(s){s.columns&&(s.columns_sm=s.columns);var e,i=[];for(e in t.breakpoints)s["columns_"+e]&&i.push("col-"+e+"-"+Math.ceil(12/s["columns_"+e]));return i.join(" ")},this.getBreakpoints=function(){return t.breakpoints},this.isBreakpoint=function(s){return!!t.breakpoints[s]},this.getCurrentViewport=function(){return n},this.isCurrentViewport=function(s){return t.is(s)},this.getPreviousViewport=function(){return s},this.getHiddenClasses=function(){for(var s in l.hiddenClassesToCheck=["hidden","hidden-"+l.getCurrentViewport(),"invisible","invisible-"+l.getCurrentViewport(),"visibility-hidden"],l.getBreakpoints())s!=l.getCurrentViewport()&&(l.hiddenClassesToCheck.push("visible-"+s),l.hiddenClassesToCheck.push("visible-"+s+"-block"),l.hiddenClassesToCheck.push("visible-"+s+"-inline"),l.hiddenClassesToCheck.push("visible-"+s+"-inline-block"),l.hiddenClassesToCheck.push("visible-"+s+"-print"))},this.isElementHidden=function(s){return 0<l.getClosestHiddenElement(s).length},this.getClosestHiddenElement=function(s){var i=[];return s.parentsUntil(".slide").addBack().each(function(){var s=$(this);if("none"==s.css("display"))return i=s,!1;for(var e=0;e<l.hiddenClassesToCheck.length;e++)if(s.hasClass(l.hiddenClassesToCheck[e]))return i=s,!1}),i},this.resizeOverspillColumns=function(){$(".overspill-image").each(function(){var s=$(this),e=$(this).closest('[class^="col"]'),i=$(this).closest(".row");s.css("width","auto"),s.css("max-height","none"),e.removeClass("overspill-first-child overspill-last-child"),e.addClass("overspill-inactive"),e.outerWidth()!=i.width()&&(e.removeClass("overspill-inactive"),(i=e.is(":first-child"))&&e.is('[class*="col-'+n+'-push-"]')?i=!1:!i&&e.is('[class*="col-'+n+'-pull-"]')&&(i=!0),e.addClass(i?"overspill-first-child":"overspill-last-child"),i&&"ltr"==languageConfig.languages[currentLanguage].direction||!i&&"rtl"==languageConfig.languages[currentLanguage].direction?s.width(e.position().left+e.outerWidth()):(i&&"rtl"==languageConfig.languages[currentLanguage].direction||!i&&"ltr"==languageConfig.languages[currentLanguage].direction)&&s.width($(window).width()-e.position().left),s.hasClass("overspill-image-fill")||s.css("max-height",s.find("img").height()))})},this.getHiddenClassesUpToBreakpoint=function(s){var e,i=[];for(e in l.getBreakpoints())if(i.push("hidden-"+e),e==s)break;return i.join(" ")},this.getVisibleClassesUpToBreakpoint=function(s){var e,i=[];for(e in l.getBreakpoints())if(i.push("visible-"+e),e==s)break;return i.join(" ")}};
var ActionUtility=function(){var b=this;this.setupActions=function(e,o){var n,t=e.$component,r=parseInt(t.data("componentindex"));for(n in o)switch(n.toLowerCase()){case"reveal":case"show":case"fadein":case"slidedown":var a=e.componentController.getComponentIndexes(r,o[n]);1==a.length&&(a=e.componentController.componentObjectsArray[a[0]].$component,t.attr("aria-controls",a.attr("id")),t.attr("aria-expanded","false"))}},this.fireActions=function(e,o){for(var n in o){var t=o[n];b.applyAction(e,n,t)}this.removePulses(e.$component)},this.applyAction=function(e,o,n){Array.isArray(n)||(n=[n]);var t,r,a=e.$component,s=parseInt(a.data("componentindex"));switch(o.toLowerCase()){case"disable":a.disable();break;case"enable":a.enable();break;case"next":a.disable(),navigationController.nextPage();break;case"back":a.disable(),navigationController.previousPage();break;case"showmenu":navigationController.showMenu();break;case"goto":a.disable();var l=b.getModifiedInt(navigationController.moduleIndex,n[0]),i=b.getModifiedInt(navigationController.pageIndex,n[1]),c=b.getModifiedInt(navigationController.slideIndex,n[2]);navigationController.changePageToData(l,i,c);break;case"gotopage":a.disable();var p=b.getModifiedInt(navigationController.pageIndex,n[0]);isNaN(p)||navigationController.changePageToData(navigationController.moduleIndex,p,navigationController.slideIndex);break;case"submenunext":a.disable(),(p=courseData.getSubmenuNextPage())?(l=navigationController.pageArray[courseData.getSubmenuNextPage()],console.log("submenunext",l),navigationController.changePageToData(l.module,l.page,0)):navigationController.showMenu();break;case"submitanswers":var d=[];if(""==n[0])for(var m=0;m<e.componentController.componentObjectsArray.length;m++)e.componentController.componentObjectsArray[m].submitAnswers&&d.push(m);else"closest"==n[0]?a.parent().find(".component").not(a).each(function(){e.componentController.componentObjectsArray[s].submitAnswers&&d.push(s)}):d=n;for(m=0;m<d.length;m++)e.componentController.componentObjectsArray[parseInt(d[m])].submitAnswers&&e.componentController.componentObjectsArray[parseInt(d[m])].submitAnswers();break;case"checkanswers":e.componentController.checkAnswers();break;case"reveal":case"show":case"fadein":case"slidedown":-1!=n[0].indexOf("#")?((r=$(n[0])).removeClass("hidden").hide()["reveal"==o?"slideDown":o](function(){}),e.componentController.showHiddenComponents(r)):(C=e.componentController.getComponentIndexes(s,n),(t={}).effect=o,e.componentController.revealComponents(C,t)),a.attr("aria-expanded","true");break;case"hide":case"fadeout":case"slideup":-1!=n[0].indexOf("#")?$(n[0])[o]():(C=e.componentController.getComponentIndexes(s,n),(t={}).effect=o,console.log("ActionUtility",o,t),e.componentController.hideComponents(C,t));break;case"hideandreveal":var C=e.componentController.getComponentIndexes(s,n);e.componentController.hideAndRevealComponents(C,{effect:"slideUp"},{effect:"slideDown"});break;case"hidethenreveal":var c=e.componentController.getComponentIndexes(s,n[0]),g=e.componentController.getComponentIndexes(s,n[1]);e.componentController.hideComponents(c,{effect:"fadeOut"}),setTimeout(function(){e.componentController.revealComponents(g,{effect:"fadeIn"})},500);break;case"addclass":for(C=e.componentController.getComponentIndexes(s,n[0]),m=0;m<C.length;m++)e.componentController.componentObjectsArray[C[m]].$component.addClass(n[1]);break;case"slidetoggle":(r=$(n[0])).hasClass("hidden")&&r.removeClass("hidden").hide(),r.slideToggle();break;case"setcomplete":for(C=e.componentController.getComponentIndexes(s,n),m=0;m<C.length;m++)e.componentController.setComponentComplete(e.componentController.componentObjectsArray[C[m]]);break;case"setslidecomplete":for(m=0;m<e.componentController.componentObjectsArray.length;m++)e.componentController.componentObjectsArray[m].isComplete||e.componentController.setComponentComplete(e.componentController.componentObjectsArray[m]);break;case"setpagecomplete":i=parseInt(n[0]);if(!isNaN(i)){i=navigationController.getModulePageIndex(navigationController.moduleIndex,i);for(m=0;m<navigationController.pageArray[i].slides.length;m++)storageController.setSlideComplete(i,m)}break;case"hideslide":p=isNaN(parseInt(n[0].split("+").join("")))?0:parseInt(n[0].split("+").join(""));contentController.hideSlide(e.componentController.slideObj.slideNum+p);break;case"resumeslide":contentController.slideArray[e.componentController.slideObj.slideNum+parseInt(n[0].split("+").join(""))].resumeContent();break;case"role":navigationController.setRoles(n);break;case"restart":navigationController.changePageToData(0,0,0);break;case"download":case"link":l="link"==o?courseData.getLink(n[0]):utils.getURL(langPath+n[0]);0==l.toLowerCase().indexOf("mailto")&&e.$component.data("link-mailto",!0),utils.openLink(l);break;case"retry":e.componentController.retry();break;case"modal":break;case"certificate":loadCertificateWin();break;case"exit":navigationController.confirmExitCourse();break;case"instruction":e.componentController.changeInstruction(n[0]);break;case"help":uiController.showHelp();break;case"resources":uiController.showResources()}},this.getActions=function(e){b.createActionsArray(e,"actions"),b.createActionsArray(e,"completeActions")},this.createActionsArray=function(e,o){if(e[o]&&"string"==typeof e[o]){for(var n={},t=e[o].split("|"),r=0;r<t.length;r++){var a=t[r].toLowerCase().replace(/ *\([^)]*\) */g,""),s="";-1!=t[r].indexOf("(")&&(s=t[r].substring(t[r].indexOf("(")+1,t[r].length-1)),n[a]=s.split(",")}e[o]=n}},this.getModifiedInt=function(e,o){e=-1!=o.indexOf("+")?e+parseInt(o.split("+").join("")):-1!=o.indexOf("-")?e-parseInt(o.split("-").join("")):parseInt(o);return e},this.removePulses=function(e){htmlUtils.removeClasses(e,"pulse")}};
var SVGUtility=function(){this.svgs=["plus","minus","plusminus","plustick","tick","cross","tickcross","circle"],InlineSVG&&(this.svgs=this.svgs.concat(Object.keys(InlineSVG))),this.createSVG=function(s,e){e=e||"div";var a="",r=(s="rtl"==languageConfig.languages[currentLanguage].direction&&"chevron-right"==s?"chevron-left":s).toLowerCase(),a=(a+="<"+e+' class="svg-'+r+'">')+("<"+e+' class="svgWrap">')+("<"+e+' class="no-svg"></'+e+">");if(InlineSVG[r])a+=InlineSVG[r];else switch(s.toLowerCase()){case"plus":a=(a=a+'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 100 100" style="enable-background:new 0 0 100 100;" xml:space="preserve">'+'<path class="path" d="M50,5 L50,95"/>')+'<path class="path" d="M5,50 L95,50" />'+"</svg>";break;case"minus":a=(a+='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 100 100" style="enable-background:new 0 0 100 100;" xml:space="preserve">')+'<path class="path" d="M5,50 L95,50" />'+"</svg>";break;case"plusminus":a=(a=a+'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 100 100" style="enable-background:new 0 0 100 100;" xml:space="preserve">'+'<path class="plus path" d="M50,5 L50,95"/>')+'<path class="minus path" d="M5,50 L95,50" />'+"</svg>";break;case"plustick":a=(a=(a+='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 100 100" style="enable-background:new 0 0 100 100;" xml:space="preserve">')+'<path class="plus path" d="M50,5 L50,95"/>'+'<path class="plus path" d="M5,50 L95,50" />')+'<path class="tick path" d="M5,60 L40,85 L95,15"/>'+"</svg>";break;case"tick":a=(a+='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 100 100" style="enable-background:new 0 0 100 100;" xml:space="preserve">')+'<path class="tick path" d="M5,60 L40,85 L95,15"/>'+"</svg>";break;case"cross":a=(a=a+'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 100 100" style="enable-background:new 0 0 100 100;" xml:space="preserve">'+'<path class="cross path path1" d="M5,5 L95,95" />')+'<path class="cross path path2" d="M5,95 L95,5" />'+"</svg>";break;case"tickcross":a=(a=(a+='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 100 100" style="enable-background:new 0 0 100 100;" xml:space="preserve">')+'<path class="tick path" d="M5,60 L40,90 L95,10"/>'+'<path class="cross path path1" d="M5,5 L95,95" />')+'<path class="cross path path2" d="M5,95 L95,5" />'+"</svg>";break;case"circle":a=(a+='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 100 100" style="enable-background:new 0 0 100 100;" xml:space="preserve">')+'<circle class="st2" cx="50" cy="50" r="45"/>'+"</svg>"}return a=a+("</"+e+">")+("</"+e+">")},this.animateSVG=function(s,e){var a=e.find(".svgWrap").parent(),r=new TimelineLite;switch(s.toLowerCase()){case"menu":r.staggerFrom(a.find(".menu-bullet"),.3,{drawSVG:"0%"},.2),r.staggerFrom(a.find(".menu-item"),.3,{drawSVG:"0%"},.2);break;case"resource":r.from(a.find("polygon"),2,{drawSVG:"0%"}),r.from(a.find("line"),.3,{drawSVG:"0%"},.2);break;case"help":r.from(a.find("path"),1,{drawSVG:"0%"}),r.from(a.find("line"),.1,{drawSVG:"0%"}),r.from(a.find("circle"),1,{drawSVG:"0%"});break;case"language":r.from(a.find("path"),.5,{drawSVG:"0%"}),r.staggerFrom(a.find("line"),.3,{drawSVG:"0%"},.2),r.from(a.find("circle"),.5,{drawSVG:"0%"});break;case"audio":r.to(a.find("#wave1"),.1,{opacity:0}),r.to(a.find("#wave2")[0],.3,{morphSVG:a.find("#crossLeft")[0],ease:Sine.easeInOut}),r.to(a.find("#wave3")[0],.3,{morphSVG:a.find("#crossRight")[0],ease:Sine.easeInOut},"-=0.3");break;case"exit":r.from(a.find("line"),.5,{drawSVG:"0%"},.2);break;case"plusminus":r.to(a.find(".plus"),.5,{rotation:90,transformOrigin:"50% 50%"}),r.to(a.find(".minus"),.5,{rotation:180,transformOrigin:"50% 50%"},0);break;case"plusminus-reverse":r.to(a.find(".plus"),.5,{rotation:0,transformOrigin:"50% 50%"}),r.to(a.find(".minus"),.5,{rotation:0,transformOrigin:"50% 50%"},0);break;case"plustick":r.from(a.find("path.plus"),1,{drawSVG:"0%"});break;case"tick":case"tickcross":r.from(a.find("path"),1,{drawSVG:"0%"});break;case"bulb":r.from(a.find("#bulb"),1,{drawSVG:"0%"}),r.from(a.find("#screw1"),.3,{drawSVG:"0%"},.8),r.from(a.find("#screw2"),.3,{drawSVG:"0%"}),r.from(a.find("#screw3"),.3,{drawSVG:"0%"});break;case"magnify":r.from(a.find("#stem"),.2,{drawSVG:"0%"}),r.from(a.find("#handle"),1,{drawSVG:"0%"}),r.from(a.find("#glass"),1,{drawSVG:"0%"});break;case"callout":break;case"casestudy":r.staggerFrom(a.find(".page-line"),.3,{drawSVG:"0%"},.1),r.from(a.find(".outline"),1,{drawSVG:"0%"},"-=.8"),r.from(a.find(".spine"),.3,{drawSVG:"0%"},"-=.2");break;case"warning":r.from(a.find("#exclamation"),.8,{drawSVG:"0%"}),r.from(a.find("circle"),.3,{drawSVG:"0%"},.2),r.from(a.find("#triangle"),1.5,{drawSVG:"0%"});break;case"padlock":r.from(a.find("rect"),.8,{drawSVG:"0%"}),r.from(a.find(".keyhole"),.8,{drawSVG:"0%"},.2),r.from(a.find(".lock"),.5,{drawSVG:"0%"});break;case"rewind":r.staggerFrom(a.find(".arrow"),1,{drawSVG:"0%"},.5);break;case"thumbsup":r.from(a.find("path"),2,{drawSVG:"0%"});break;case"ldquo":case"rdquo":r.staggerFrom(a.find("path"),1,{drawSVG:"0%"},.3),r.staggerFrom(a.find("path"),.5,{fill:"transparent"},.3);break;case"pencil":r.staggerFrom(a.find("path"),1,{drawSVG:"0%"},.3),r.staggerFrom(a.find("line"),.5,{drawSVG:"0%"},.3);break;case"tickdisc":r.from(a.find("circle"),.3,{drawSVG:"0%"}),r.from(a.find("path"),1,{drawSVG:"0%"},.2);break;case"chevron-down":r.to(e.find("path"),.3,{rotation:0,transformOrigin:"50% 50%"});break;case"chevron-down-reverse":r.to(e.find(".path"),.3,{rotation:180,transformOrigin:"50% 50%"})}return r},this.preview=function(){for(var s="div",e='<div class="svgPreview">',a=0;a<this.svgs.length;a++)e=(e=(e=e+('<div class="svgPreviewItem'+(InlineSVG[this.svgs[a]]?" svgPreviewExternal":" svgPreviewInternal"))+'"><div class="svgPreviewItemSVG">')+this.createSVG(this.svgs[a])+"</div>")+'<div class="svgPreviewItemLabel">'+this.svgs[a]+"</"+s+"></div>";e+="</div>",$("body").append(e)}};
var CanvasController=function(){var s=this;function t(e){s.assets.push(e)}s.id,s.isLoaded=!1,s.loader=[],s.assets=[],s.elements=[],s.soundInstance,this.createCanvas=function(e,n,t){var a="";return(a+='<div class="canvas-wrap">')+('<canvas id="'+(s.id=e)+'" width="'+(s.minWidth=n)+'" height="'+(s.minHeight=t)+'"></canvas>')+"</div>"},this.setupCanvas=function(e){s.$el=e,s.$canvas=e.find("#"+s.id),s.stage=new createjs.Stage(s.id),s.w=s.stage.canvas.width,s.h=s.stage.canvas.height,s.aspectRatio=s.w/s.h,s.container=new createjs.Container,s.stage.addChild(s.container),createjs.Ticker.framerate=60,createjs.Ticker.on("tick",function(e){s.stage.update(e)}),$(window).on("resize",function(){s.resize()})},this.loadSounds=function(e){s.sounds={path:"course/content/media/",manifest:[]},s.sounds.manifest=s.sounds.manifest.concat(e),console.log(s.sounds.manifest),createjs.Sound.isReady()&&createjs.Sound.addEventListener("fileload",function(e){console.log("soundsLoaded")}),createjs.Sound.registerSounds(s.sounds),createjs.Sound.isReady()},this.loadManifest=function(e,n){s.loader=new createjs.LoadQueue(!1),s.loader.addEventListener("fileload",t),s.loader.addEventListener("complete",function(){var e;e=n,s.isLoaded=!0,e.call()}),s.loader.loadManifest(e,!0,"course/content/images/")},this.getBitmap=function(e){return new createjs.Bitmap(s.loader.getResult(e))},this.addElement=function(e,n,t){var a,i={el:n,properties:t};for(a in t)n[a]=t[a];return e.addChild(n),s.elements.push(i),i},this.updateElement=function(e,n){for(var t in n)e[t]=n[t];s.stage.update()},this.resize=function(){console.log("resize");var e=s.$el.width(),n=e/s.aspectRatio;s.$canvas.css({width:e,height:n}),s.stage.canvas.width=e*window.devicePixelRatio,s.stage.canvas.height=n*window.devicePixelRatio,s.container.getTransformedBounds();e<s.minWidth&&n<s.minHeight?e/s.minWidth<n/s.minHeight?s.container.scale=e/s.minWidth:s.container.scale=n/s.minHeight:e<s.minWidth?s.container.scale=e/s.minWidth:n<s.minHeight&&(s.container.scale=n/s.minHeight),s.container.x=(e-s.minWidth*s.container.scale)/2,s.container.y=(n-s.minHeight*s.container.scale)/2,s.stage.scale=window.devicePixelRatio,s.stage.update()},this.unload=function(){s.soundInstance.stop(),s.stage.removeAllChildren(),s.stage.removeAllEventListeners(),s.stage.enableDOMEvents(!1)}};
function CourseData(){var t,n,l=this;function a(){$(document).off(courseEvent.XMLDATA_LOAD_COMPLETE,a),$(document).on(courseEvent.XMLDATA_LANG_LOAD_COMPLETE,e),l.navData=n.navXML,n.loadLanguageXML(t)}function e(){$(document).off(courseEvent.XMLDATA_LANG_LOAD_COMPLETE,e),l.data=n.langXML,$(document).trigger(courseEvent.COURSE_DATA_LOAD_COMPLETE)}this.xmlData,this.navData,this.submenus={},this.init=function(e){t=e,$(document).on(courseEvent.XMLDATA_LOAD_COMPLETE,a);e=parseInt(utils.getURLParameter("compressXML"));loadCompressedXML=1!=e&&courseConfig.xmlConvertedToJSON,n=new XMLData,(this.xmlData=n).init()},this.saveDataToFile=function(){var e,t="content_"+LaunchConfig.course.code+"_"+languageConfig.languages[currentLanguage].code+".js",n=new Blob(["var contentData = "+JSON.stringify(l.data)],{type:"text/javascript;charset=utf-8;"});navigator.msSaveBlob?navigator.msSaveBlob(n,t):void 0!==(e=document.createElement("a")).download&&(n=URL.createObjectURL(n),e.setAttribute("href",n),e.setAttribute("download",t),e.style.visibility="hidden",document.body.appendChild(e),e.click(),document.body.removeChild(e))},this.loadCourseContent=function(){n.loadContentXML()},this.contentLoaded=function(){l.createMenu(),1==parseInt(utils.getURLParameter("compressXML"))&&l.saveDataToFile()},this.getIntroModuleNum=function(){return parseInt(l.navData.introModule[0].Text)},this.getMenuModuleNum=function(){return parseInt(l.navData.menuModule[0].Text)},this.getContactModuleNum=function(){return parseInt(l.navData.contactModule[0].Text)},this.getAllData=function(){return l.data},this.getNumModules=function(){return l.navData.module.length},this.getNumPages=function(e){return l.navData.module[e].page.length},this.getNumSlides=function(e,t){return l.navData.module[e].page[t].slide.length},this.getTemplateName=function(e,t,n){e=l.navData.module[e].page[t].slide[n].template;return e||"CUSTOM"},this.getXMLPath=function(e,t,n){return l.navData.module[e].page[t].slide[n].xmlPath},this.getModuleData=function(e){return l.navData.module[e]},this.getModuleLangData=function(e){return l.data.module[e]},this.getPageData=function(e,t){return l.navData.module[e].page[t]},this.getPageLangData=function(e,t){return l.data.module[e].page[t]},this.getSlideData=function(e,t,n){return l.navData.module[e].page[t].slide[n]},this.getSlideLangData=function(e,t,n){return l.data.module[e].page[t].slide[n]},this.createMenu=function(){l.data.settings[0].menu&&0!=l.data.settings[0].menu.length||(l.data.settings[0].menu=[]);for(var e=0;e<l.navData.module.length;e++){var t=!0;if("false"==l.navData.module[e].inMenu&&(t=!1),l.data.settings[0].menu[e]=0,storageController.initModuleMenu(e,t),storageController.initModuleMandatory(e,1),storageController.initModuleLocked(e,navigationConfig.pageLock),t){null!=l.navData.module[e].mandatory&&(console.log("Module mandatory?",l.navData.module[e].mandatory),t="false"!=l.navData.module[e].mandatory,storageController.setModuleMandatory(e,t));for(var n={module:e,active:!l.navData.module[e].active||utils.xmlAttributeToJSON(l.navData.module[e].active),mandatory:!l.navData.module[e].mandatory||utils.xmlAttributeToJSON(l.navData.module[e].mandatory),optional:!1,submenu:[],title:l.data.module[e].title?l.data.module[e].title[0].Text:"NEEDS MODULE TITLE ADDING"},a=(n.optional=0==n.mandatory,void 0),o=0;o<l.navData.module[e].page.length;o++){var s,u=!1;"true"==l.navData.module[e].page[o].inMenu&&(u=!0,i={page:o,slide:0,title:l.data.module[e].page[o].slide[0].title?l.data.module[e].page[o].slide[0].title[0].Text:"NEEDS PAGE TITLE ADDING"},n.submenu.push(i)),l.navData.module[e].page[o].submenu?(a="true"==l.navData.module[e].page[o].submenu?e:l.navData.module[e].page[o].submenu,l.initSubmenu(a,navigationController.getModulePageIndex(e,o))):l.navData.module[e].page[o].submenuindex?(s=parseInt(l.navData.module[e].page[o].submenuindex),l.addToSubmenu(a,s,navigationController.getModulePageIndex(e,o))):a&&(l.addSubmenuNextPage(a,navigationController.getModulePageIndex(e,o)),a=void 0);for(var i,r=u?1:0;r<l.navData.module[e].page[o].slide.length;r++)"true"==l.navData.module[e].page[o].slide[r].inMenu&&(i={page:o,slide:r,title:l.data.module[e].page[o].slide[r].title?l.data.module[e].page[o].slide[r].title[0].Text:"NEEDS SLIDE TITLE ADDING"},n.submenu.push(i))}l.data.settings[0].menu[e]=n}}this.updateMenu(),this.updateSubmenus()},this.updateMenu=function(){var e=1e3,t=1e3;if(l.data.settings[0].menu){for(var n=0;n<l.data.settings[0].menu.length;n++)navigationConfig.developerUnlock||!navigationConfig.moduleLock?storageController.setModuleLocked(n,!1):(l.checkActive(l.data.settings[0].menu[n]),storageController.isModuleActive(n)&&(l.checkMandatory(l.data.settings[0].menu[n]),storageController.isModuleMandatory(n))&&!storageController.isModuleComplete(n)&&(e=Math.min(e,n),"false"!=courseData.getModuleData(n).linear)&&(t=Math.min(t,n)));for(n=0;n<l.data.settings[0].menu.length;n++)(t<n||t<=n&&e<n||(storageController.setModuleLocked(n,!1),storageController.isModuleComplete(n)&&"false"==courseData.navData.module[n].return))&&storageController.setModuleLocked(n,!0)}},this.checkMandatory=function(e){var t,n=!0;return!e.optional&&(null==e.page&&(n=storageController.isModuleMandatory(e.module)),"object"==typeof e.mandatory&&e.mandatory.assessment&&(t=window[e.mandatory.assessment.toLowerCase()+"Assessment"])&&(null==e.page?n&&(n=!t.checkAssessmentAgainstObject(e.mandatory),e.optional=!n,storageController.setModuleMandatory(e.module,n)):(n=!t.checkAssessmentAgainstObject(e.mandatory),e.optional=!n)),n)},this.moduleIsOptional=function(e){return l.data.settings[0].menu[e].optional},this.moduleHasOptionalContent=function(e){for(var t=0;t<navigationController.pageArray.length;t++)if(navigationController.pageArray[t].module==e&&navigationController.pageArray[t].optional)return!0;return!1},this.checkActive=function(e){var t=!0;if(null==e.page&&(t=storageController.isModuleActive(e.module)),"object"==typeof e.active&&e.active.assessment){var n=window[e.active.assessment.toLowerCase()+"Assessment"];if(n){if(null!=e.page)return!n.checkAssessmentAgainstObject(e.active);t&&storageController.setModuleActive(e.module,!n.checkAssessmentAgainstObject(e.active))}}return t},this.initSubmenu=function(e,t){l.submenus||(l.submenus={}),l.submenus[e]||(l.submenus[e]={complete:!1,page:t,items:[],next:!1,done:0,total:0})},this.addToSubmenu=function(e,t,n){l.submenus[e].items[t-=1]||(l.submenus[e].items[t]={pages:[],complete:!1}),l.submenus[e].items[t].pages.push(n)},this.addSubmenuNextPage=function(e,t){l.submenus[e].next=t},this.updateSubmenus=function(){for(var e in l.submenus){l.submenus[e].complete=!0,l.submenus[e].done=0;for(var t=l.submenus[e].total=0;t<l.submenus[e].items.length;t++)for(var n=0;n<l.submenus[e].items[t].pages.length;n++)l.submenus[e].total++,l.submenus[e].items[t].complete=!0,storageController.isPageComplete(l.submenus[e].items[t].pages[n])?l.submenus[e].done++:(l.submenus[e].items[t].complete=!1,l.submenus[e].complete=!1);l.submenus[e].complete&&storageController.setSubmenuPageComplete(l.submenus[e].page)}},this.getSubmenu=function(e){e=l.submenus[e]||l.getSubmenuForPage(navigationController.currentPage);return e||!1},this.getSubmenuForPage=function(e){for(var t in l.submenus){if(l.submenus[t].page==e)return l.submenus[t];for(var n=0;n<l.submenus[t].items.length;n++)for(var a=0;a<l.submenus[t].items[n].pages.length;a++)if(l.submenus[t].items[n].pages[a]==e)return l.submenus[t]}return!1},this.getSubmenuNextPage=function(e){e=l.getSubmenu(e);if(e){if(storageController.isPageComplete(e.page)){if(e.complete)return e.next;if(e.page==navigationController.currentPage)return e.next}return e.page}return pageIndex+1},this.isSubmenuComplete=function(e){e=l.getSubmenu(e);return!!e&&e.complete},this.isSubmenuItemComplete=function(e,t){t=l.getSubmenu(t);return!(!t||!t.items[e])&&t.items[e].complete},this.getLogo=function(){return utils.getURL(l.data.settings[0].client[0].logo[0].small[0].src)},this.getLogoAlt=function(){return l.data.settings[0].client[0].logo[0].small[0].alt[0].Text},this.getCourseTitle=function(){return l.data.name[0].Text},this.getMenu=function(){return l.data.settings[0].menu||(l.data.settings[0].menu=[]),l.data.settings[0].menu},this.getRoles=function(){return l.data.settings[0].roles[0].name},this.getBtnText=function(e){return l.data.settings[0].navigation[0]["btn_"+e][0].Text},this.getMessageText=function(e,t){return htmlUtils.getHTMLText(l.data.settings[0].messages[0][e][0][t][0],{anim:!1})},this.getErrorText=function(e,t){return l.data.settings[0].errors[0][e][0][t]?l.data.settings[0].errors[0][e][0][t][0].Text:void 0},this.getSettings=function(){return l.data.settings[0]},this.getSharedData=function(){return l.data.shared[0]},this.getLink=function(e){var t=e;if(l.data.settings[0].links[0].link)for(var n=0;n<l.data.settings[0].links[0].link.length;n++)if(e.toLowerCase()==l.data.settings[0].links[0].link[n].id.toLowerCase()){t=l.data.settings[0].links[0].link[n].url;break}try{linkConfig[e]&&(t=linkConfig[e].url)}catch(e){}return t},this.pathToData=function(e,t){e=e.split("[").join(".").split("]").join("").split(".");return l.pathArrayToData(e,t)},this.pathArrayToData=function(e,t){t=t||l.data;for(var n=0;n<e.length;n++){var a=isNaN(e[n])?e[n]:parseInt(e[n]);t=(null==t[a]?t[0]:t)[a]}return t=t[0]?t[0].Text:t},this.getTextPaths=function(){return n.textPathArray},this.getAccessibleLabel=function(e){return l.data.settings[0].accessibility[0][e]?l.data.settings[0].accessibility[0][e][0].Text:void 0},this.getAriaProperty=function(e,t){return(e=e.aria?e.aria:e)[0]&&e[0][t]?e[0][t][0].Text:""}}
function XMLData(){var d=this;function e(){this.navPath="content/xml/",utils.loadXMLData(this.navPath+"navigation.xml",function(e){d.navXML=e,$(document).trigger(courseEvent.XMLDATA_LOAD_COMPLETE)})}function l(){componentConfig.help?utils.loadXMLData(langPath+"xml/help.xml",function(e){d.langXML.help=e,n()}):n()}function n(){componentConfig.resource?utils.loadXMLData(langPath+"xml/resources.xml",function(e){d.langXML.resource=e,a()}):a()}function a(){componentConfig.glossary?utils.loadXMLData(langPath+"xml/glossary.xml",function(e){d.langXML.glossary=e,o()}):o()}function o(){assessmentConfig.assessments.length?utils.loadXMLData(langPath+"xml/assessment.xml",function(e){d.langXML.assessment=e,t()}):t()}function t(){$(document).trigger(courseEvent.XMLDATA_LANG_LOAD_COMPLETE)}function r(e,n){var a,l,o,t;n<navigationController.pageArray[e].slides.length-1?d.loadContentSlideXML(e,++n):e<navigationController.pageArray.length-1?(e++,n=0,a=navigationController.pageArray[e].module,l=navigationController.pageArray[e].page,o=navigationController.pageArray[navigationController.currentPage].module,t=navigationController.pageArray[navigationController.currentPage].page,courseConfig.xmlPreload||o!=a||t!=l||$(document).trigger(courseEvent.CURRENT_CONTENT_DATA_LOAD_COMPLETE),d.loadContentSlideXML(e,n)):i()}function i(){d.textPathArray=[];var e=parseInt(utils.getURLParameter("debrand"));isNaN(e)||(courseConfig.debrand=1===e),function e(n,a,l){for(var o in n)if(-1==u.indexOf(o))if("Text"==o)""!=n[o]&&(d.textPathArray.push(a),n.xmlPath=a,n.dbid=l,courseConfig.debrand)&&(n[o]=d.debrand(n[o]));else if(n[o].length)for(var t=0;t<n[o].length;t++)"object"==typeof n[o][t]&&(n[o][t].nodeName=o,i=""==a?o:a+"."+o,r=n[o][t].dbid||l,e(n[o][t],i+"["+t+"]",r));else{n[o].nodeName=o;var i=""==a?o:a+"."+o,r=n[o].dbid||l;e(n[o],i,r)}}(d.langXML,"",""),$(document).trigger(courseEvent.CONTENT_DATA_LOAD_COMPLETE)}this.init=function(){e()},this.navXML,this.langXML,this.defaultLangXML,this.navPath="",this.lang="",this.textPathArray=[],this.loadNavigationXML=e,this.loadLanguageXML=function e(n){langPath="content/lang/"+n+"/";{var a;loadCompressedXML?(contentData=void 0,a={type:"script",url:utils.getURL(langPath+"content_"+LaunchConfig.course.code+"_"+languageConfig.languages[currentLanguage].code+".js"),success:function(){contentData?(d.langXML=contentData,t()):(console.warn("No content.js - loading XML"),loadCompressedXML=!1,e(n))},error:function(){console.log(" > error"),loadCompressedXML=!1,e(n)}},utils.loadFile(a)):(console.log("XMLData::loadLanguageXML loadXML"),loadCompressedXML=!1,utils.loadXMLData(langPath+"xml/i18n.xml",function(e){console.log("XMLData::loadLanguageXML loadXML loaded"),d.langXML=e,l()}))}},this.contentXMLLoaded=[],this.loadContentXML=function(){loadCompressedXML?i():(d.langXML.content={},d.loadContentSlideXML(0,0))},this.loadContentSlideXML=function(a,l){var o=navigationController.pageArray[a].slides[l];if(0==o.langs.length||-1!=o.langs.indexOf(languageConfig.languages[currentLanguage].code)){var t=navigationController.pageArray[a].module,i=navigationController.pageArray[a].page;if(console.log("loadContentSlideXML",a,t,i,l,o.xmlPath),d.langXML.module=d.langXML.module||[],d.langXML.module[t]=d.langXML.module[t]||{},d.langXML.module[t].page=d.langXML.module[t].page||[],d.langXML.module[t].page[i]=d.langXML.module[t].page[i]||{},d.langXML.module[t]._children||(d.langXML.module[t]._children=[]),d.langXML.module[t]._childorder||(d.langXML.module[t]._childorder=[],d.langXML.module[t]._children.push("page")),0<i||0==d.langXML.module[t]._childorder.length){for(var e=!1,n=0;n<d.langXML.module[t]._childorder.length;n++)if("page"==d.langXML.module[t]._childorder[n].node&&d.langXML.module[t]._childorder[n].pos==i){e=!0;break}e||d.langXML.module[t]._childorder.push({node:"page",pos:i})}if(d.langXML.module[t].page[i].slide=d.langXML.module[t].page[i].slide||[],d.langXML.module[t].page[i]._children||(d.langXML.module[t].page[i]._children=[]),d.langXML.module[t].page[i]._childorder||(d.langXML.module[t].page[i]._childorder=[],d.langXML.module[t].page[i]._children.push("slide")),0<l||0==d.langXML.module[t].page[i]._childorder.length){for(e=!1,n=0;n<d.langXML.module[t].page[i]._childorder.length;n++)if("slide"==d.langXML.module[t].page[i]._childorder[n].node&&d.langXML.module[t].page[i]._childorder[n].pos==l){e=!0;break}e||d.langXML.module[t].page[i]._childorder.push({node:"slide",pos:l})}utils.loadXMLData(langPath+"xml/"+o.xmlPath,function(e){var n;o.xmlLoaded=!0,d.langXML.module[t].page[i].slide[l]&&(n=$.extend(!0,{},d.langXML.module[t].page[i].slide[l].title)),d.langXML.module[t].page[i].slide[l]=e,n&&(d.langXML.module[t].page[i].slide[l].title=n),r(a,l)})}else console.log("loadContentSlideXML - lang NOT valid"),r(a,l)};var u=["typeOf","RootName","_children","_childorder"];this.insertIntoXML=function(e,n,a){var l=!0;(l=e._childorder[a]&&e._childorder[a].node==n.nodeName&&1==e._childorder[a].insert?!1:l)&&(l=0,e[n.nodeName]?(e[n.nodeName].push(n),l=e[n.nodeName].length-1):(e[n.nodeName]=n,e._children.push(n.nodeName)),e._childorder.splice(a,0,{node:n.nodeName,pos:l,insert:!0})),$(document).one(courseEvent.PAGE_CHANGE,function(){d.deleteFromXML(e,n.nodeName,a)})},this.deleteFromXML=function(e,n,a){e[n].splice(e._childorder[a].pos,1),e._childorder.splice(a,1)},this.findInXML=function(e,n,a,l){return this.recurseFindInXML(e,n,a,l,[])},this.recurseFindInXML=function(e,n,a,l,o){if(e._childorder&&e._childorder.length)for(var t=0;t<e._childorder.length;t++){var i=e._childorder[t].node,r=e[i][e._childorder[t].pos];i==n&&r[a]&&r[a]==l&&o.push({parent:e,element:r,pos:t}),o.concat(this.recurseFindInXML(r,n,a,l,o))}return o},this.debrand=function(e){for(var n=["Lorem ipsum dolor sit amet, consectetur adipiscing elit.","Nam in fringilla mi. Nullam iaculis ex risus, ut sodales tortor fringilla non.","Nunc nec mi tincidunt magna dapibus tristique. Aenean in bibendum lectus.","Nam a pretium orci, a imperdiet urna.","Suspendisse aliquet dui non quam semper pharetra.","Praesent porttitor commodo erat, eu consequat purus tincidunt sed.","Etiam suscipit vehicula cursus. Mauris quis suscipit lectus.","Nulla ut mauris quis risus porta ornare ac sit amet lectus.","Nullam aliquam in urna quis dignissim.","Etiam non viverra leo.","Aliquam erat volutpat.","Curabitur scelerisque, tellus non aliquam hendrerit, justo tellus malesuada metus, ut hendrerit mauris odio et nunc.","Nam vel augue volutpat metus rhoncus elementum sed a dui.","Mauris tincidunt ac enim a tincidunt.","Curabitur eleifend tellus ante, nec pellentesque massa consequat in.","Curabitur elementum urna non odio feugiat rutrum. Proin id rutrum arcu."],a="";a.length<e.length;)a+=n[Math.floor(Math.random()*n.length)]+" ";return a=a.substring(0,e.length),"."==e.charAt(e.length-1)&&"."!=a.charAt(a.length-1)&&(a+="."),a}}
var utils,htmlUtils,svgUtils,responsiveUtils,actionUtils,debugController,courseData,courseConfig,templateController,storageController,storageComms,uiController,navigationController,navigationEvents,navigationButton,contentController,instructionController,feedbackController,titleController,searchController,customDataController,audioController,systemInfo,languageChangedPage,courseEvent=new CourseEvent,isBelowIE9=!1,isBelowIE10=!1,isIE11=!1,isIE=!1,coursePath="course/",langPath="",usingPageURLParameter=!1,currentLanguage=0,multiLanguage=!1,activeLanguages=[],loadCompressedXML=!1,gtagID="",userInitiatedWindowClose=!1,islogPop=!1,communicationWin=null,commCount=0,infoText="";function initFramework(){utils=new Utility,htmlUtils=new HTMLUtility,svgUtils=new SVGUtility,actionUtils=new ActionUtility,storageComms=new StorageComms,initUI()}function initUI(){courseConfig.responsive?$("body").addClass("responsive"):($("body").addClass("not-responsive"),$("#content-wrapper").css({width:courseConfig.width,height:courseConfig.height})),courseConfig.animate.enable?$("body").addClass("content-animated"):$("body").addClass("not-animated"),$("#content-wrapper").load(coursePath+"content/UI/UI.html",function(e,o,n){"success"==o&&($("#content-wrapper").find("img").each(function(){var e=$(this).attr("src");""!=e&&$(this).attr("src",utils.getURL(e))}),onUILoadComplete())})}function onUILoadComplete(){storageController=new StorageController,loadCourseData()}function loadCourseData(){var e=0;activeLanguages=[];for(var o=0;o<languageConfig.languages.length;o++)languageConfig.languages[o].active&&(e++,activeLanguages.push(languageConfig.languages[o].code));multiLanguage=1<e;var n,t=storageController.getLanguage();""==t&&(n=parseInt(utils.getURLParameter("lang")),t=isNaN(n)?languageConfig.defaultLanguage:n),loadLanguage(t=isNaN(t)?t:languageConfig.languages[t].code)}function loadLanguage(e){$(".preloader").show(),navigationController&&(languageChangedPage=navigationController.currentPage),contentController&&contentController.unloadContent();for(var o,n=0;n<languageConfig.languages.length;n++)if(languageConfig.languages[n].active&&languageConfig.languages[n].code==e){currentLanguage=n;break}gtagID=languageConfig.languages[currentLanguage].analytics,courseConfig.googleAnalytics.enabled&&((o=document.createElement("script")).type="text/javascript",o.setAttribute("async","true"),o.setAttribute("src","https://www.googletagmanager.com/gtag/js?id="+gtagID),document.documentElement.firstChild.appendChild(o)),$(document).on(courseEvent.COURSE_DATA_LOAD_COMPLETE,onCourseDataLoadComplete),(courseData=new CourseData).init(e)}function onCourseDataLoadComplete(){$(document).off(courseEvent.COURSE_DATA_LOAD_COMPLETE,onCourseDataLoadComplete),loadFramework()}function loadFramework(){for(var e in uiController=new UIController,contentController=new ContentController,navigationController=new NavigationController,assessmentConfig.assessments)assessmentConfig.assessments[e].enable&&(window[e+"Assessment"]=new AssessmentController(e,assessmentConfig.assessments[e]));gameAPIController=new GameAPIController,storageController.getData(),storageController.setLanguage(languageConfig.languages[currentLanguage].code),customDataController=new CustomDataController,storageController.setAssessmentData();var o=parseInt(utils.getURLParameter("debug")),o=(isNaN(o)||(navigationConfig.debug=1===o),parseInt(utils.getURLParameter("dev"))),o=(isNaN(o)||(navigationConfig.developerUnlock=1===o),parseInt(utils.getURLParameter("pagelock"))),o=(isNaN(o)||(navigationConfig.pageLock=1===o),parseInt(utils.getURLParameter("modulelock")));isNaN(o)||(navigationConfig.moduleLock=1===o),1===parseInt(utils.getURLParameter("mapping"))&&$("body").addClass("slidemapping"),(debugController=new DebugController).init(),navigationConfig.debug&&debugController.showDebug(!0),navigationButton=new NavigationButton,navigationEvents=new NavigationEvents,instructionController=new InstructionController,feedbackController=new FeedbackController,titleController=new TitleController,courseConfig.audio&&(audioController=new AudioController),courseConfig.disableMouseRightClick&&$("body").attr("oncontextmenu","return false;"),navigationController.initRoles(),languageChangedPage?navigationController.currentPage=languageChangedPage:(lessonLocation=storageController.getLocation(),usingPageURLParameter=!1,""==lessonLocation?(o=parseInt(utils.getURLParameter("page")),isNaN(o)?lessonLocation=0:(usingPageURLParameter=!0,lessonLocation=o,location.hash&&(console.log("Main::hash",location.hash),navigationController.locationHash=location.hash))):lessonLocation=parseInt(lessonLocation),navigationController.currentPage=lessonLocation),utils.updateErrorMessages(),navigationButton.updateNavButtons(),$(document).on(courseEvent.CONTENT_DATA_LOAD_COMPLETE,onContentDataLoadComplete),courseData.loadCourseContent()}function onCurrentPageContentDataLoadComplete(){$(document).off(courseEvent.CURRENT_CONTENT_DATA_LOAD_COMPLETE,onCurrentPageContentDataLoadComplete),frameworkLoaded()}function onContentDataLoadComplete(){$(document).off(courseEvent.CONTENT_DATA_LOAD_COMPLETE,onContentDataLoadComplete),courseData.contentLoaded(),frameworkLoaded()}function frameworkLoaded(){console.log("Main::frameworkLoaded"),$("body").removeClass("ltr rtl");for(var e,o=0;o<languageConfig.languages.length;o++)languageConfig.languages[o].active&&$("body").removeClass("lang-"+languageConfig.languages[o].code);for(e in $("body").addClass("lang-"+languageConfig.languages[currentLanguage].code+" "+languageConfig.languages[currentLanguage].direction),navigationController.updateCourseTitle(),assessmentConfig.assessments)assessmentConfig.assessments[e].enable&&window[e+"Assessment"].setupAssessment();componentConfig.search&&(searchController=new SearchController),uiController.setupUI(),navigationEvents.init(),1<navigationController.currentPage?usingPageURLParameter||languageChangedPage?(languageChangedPage=void 0,navigationController.historyArray=storageController.getHistory(),navigationController.changePage(navigationController.currentPage,"replace")):$.Alert({title:courseData.getMessageText("bookmark","title"),message:courseData.getMessageText("bookmark","message"),confirm:courseData.getMessageText("bookmark","confirm"),cancel:courseData.getMessageText("bookmark","cancel"),onConfirm:function(){navigationController.historyArray=storageController.getHistory(),navigationController.changePage(navigationController.currentPage,"replace")},onCancel:function(){storageController.setHistory([]),navigationController.historyArray=storageController.getHistory(),navigationController.changePage(0,"replace")}}):(storageController.setHistory([]),navigationController.historyArray=storageController.getHistory(),navigationController.changePage(0,"replace"))}function loadCertificateWin(){return storageController.isPassed()&&window.open("course/framework/html/certificate.html","cerWin","width=652,height=474,scrollbars=0,screenX=0,screenY=0,resizable=yes,status=no,top=10,left=10").focus(),!1}function getCertificateData(){var e,o,n="";return storageController.isPassed&&(e=storageController.getCompletionDate().split("_"),o=courseData.data.date[0].months[0].month[parseInt(e[1])-1].Text,n=courseData.data.date[0].format[0].Text.split("{D}").join(e[0]).split("{M}").join(o).split("{Y}").join(e[2])),{language:languageConfig.languages[currentLanguage],completionDate:n,studentName:storageController.studentName,courseName:courseData.data.name[0].Text,courseID:courseData.data.id[0].Text,text:courseData.data.settings[0].certificate[0]}}function loadCommunicationWin(){islogPop=!0;return!((communicationWin=window.open("course/framework/html/communication_log.html","logWin","width=800,height=300,scrollbars=0,screenX=0,screenY=0,resizable=yes,status=no,top=10,left=10")).onbeforeunload=function(){islogPop=!1,communicationWin=null})}function closeCommunicationWin(){islogPop=!1,communicationWin=null}function addTrackDataTrace(e){storageComms.addTrace(e)}function setTrackData(e,o,n,t,a){storageComms.addFunc(e,o,n,t,a)}window.rootPath&&(coursePath=window.rootPath+coursePath),function(e,o){e(document).ready(function(){(responsiveUtils=new ResponsiveUtility).init(o),initFramework()})}((window,jQuery),ResponsiveBootstrapToolkit);
var loadComplete,liveEditAllowed,url,liveEditReq={contentDataLoadComplete:!1,liveEditAllowed:!1};function setupLiveEdit(){liveEditReq.contentDataLoadComplete&&liveEditReq.liveEditAllowed&&!liveEditController.initialized&&liveEditController.init()}function getLiveEditScript(){$.ajax({type:"GET",url:liveEditConfig.rootURL+"api/liveEditScript?courseId="+encodeURIComponent(LaunchConfig.course.id)+"&version="+LaunchConfig.course.version,dataType:"script",success:function(e,i){liveEditReq.liveEditAllowed=!0,liveEditReq.contentDataLoadComplete&&setupLiveEdit()}})}$(document).on("contentDataLoadComplete",function(){liveEditReq.contentDataLoadComplete=!0,liveEditReq.liveEditAllowed||setupLiveEdit()}),liveEditConfig.enabled&&(url=liveEditConfig.rootURL+"api/liveEditEnabled?courseId="+LaunchConfig.course.id+"&version="+LaunchConfig.course.version,window.location.search.match(/liveedit=true/i)&&(url+="&LIVEEDITENABLED=true"),$.ajax({type:"GET",url:url,dataType:"json",success:function(e){e.enabled?getLiveEditScript():liveEditConfig.enabled=!1},error:function(e,i){liveEditConfig.enabled=!1}}));
var CourseUtility=function(){};courseUtils=new CourseUtility;
//# sourceMappingURL=framework.min.js.map
