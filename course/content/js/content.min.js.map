{"version":3,"sources":["CUSTOM.js","Component.js","ComponentAccordion.js","ComponentButton.js","ComponentCarousel.js","ComponentFlipcard.js","ComponentGroup.js","ComponentImage.js","ComponentInstruction.js","ComponentMcqtawa.js","ComponentMedia.js","ComponentMenu.js","ComponentSeparator.js","ComponentText.js","ComponentCallout.js","ComponentHeaderimage.js","ComponentPanel.js","ComponentTab.js","ComponentGSFMenu.js","ComponentHeader.js","ComponentBuildupCarousel.js","ComponentStoryCarousel.js","ComponentPlusButton.js","ComponentHighchart_Bar.js","ComponentHighchart_Pie.js","ComponentDropdownsequence.js","ComponentParallaxImage.js","ComponentParallaxHeader.js"],"names":["TemplateCUSTOM","$contentWrap","self","this","slideObj","init","_slideObj","$slide","find","htmlStr","generateComponents","data","append","slideReady","slideDisplayed","slideContentComplete","Component","id","dataNode","componentController","prototype","_componentController","node","_id","_num","num","slideIndex","Slide","slideNum","slideID","componentID","$component","roles","draggable","isSetup","managesCompletion","isComplete","complete","animsComplete","actions","xsCloneRevealAlongside","showOnComplete","hideOnComplete","visibleOnComplete","invisibleOnComplete","enableOnComplete","showOnComponentsComplete","visibleOnComponentsComplete","revealOnComponentsCompleteArray","completeOnChildrenComplete","parentComponent","childComponents","timeDisplayed","showMarking","stringToBoolean","showAnswers","isAssessmentQuestion","assessmentID","assessmentController","assessment","assessmentArr","split","window","toLowerCase","questionNum","parseInt","isNaN","questionData","getQuestionXMLData","showMarkingEnabled","showAnswersEnabled","interactionID","saveData","getSaveData","customData","customDataObj","customDataController","getCustomData","getHTML","courseConfig","dataFormat","htmlUtils","recurseData","setupComponent","$","setupComplete","componentDisplayed","utils","getCurrentTime","unload","resize","breakpointChanged","resume","ComponentAccordion","Object","create","call","multiple","toggle","i","item","length","svgUtils","createSVG","title","headingTag","Text","reveal","expanded","$accordion","allowMultiple","allowToggle","triggers","console","log","Array","slice","querySelectorAll","on","event","isExpanded","active","target","closest","addClass","classList","contains","getAttribute","querySelector","setAttribute","slideUp","removeAttribute","slideDown","removeClass","showElementContents","preventDefault","each","attr","animateSVG","setComponentComplete","key","which","toString","ctrlModifier","ctrlKey","match","index","indexOf","direction","focus","forEach","trigger","addEventListener","add","remove","ComponentButton","src","getImagePath","alt","svg","svgComplete","submenu","text","getHTMLText","subtext","hasClass","displayText","navigationConfig","linearProgression","navigationController","previousPage","moduleIndex","courseData","getMenuModuleNum","gotoPage","currentPage","pageIndex","showMenu","getAccessibleLabel","x","storageController","isPageComplete","join","$submenuBtns","maxHeight","first","height","Math","max","ComponentCarousel","slidesCompleteArray","getAriaProperty","slide","options","infiniteLoop","mode","speed","adaptiveHeight","controls","pager","touchEnabled","hideControlOnEnd","nextText","getBtnText","prevText","onSliderLoad","setTimeout","disable","eq","html","onSlideAfter","$slideElement","oldIndex","newIndex","enable","$slider","getSlideCount","bxSlider","redrawSlider","ComponentFlipcard","isTitleSROnly","hasFrontComponents","front","components","_children","hasBackComponents","styleStr","getStyles","srOnly","getClasses","back","handleClickAndPress","e","$this","currentTarget","toggleClass","stopPropagation","$flipcards","$flipComponents","last","outerHeight","css","ComponentGroup","ComponentImage","mob_path","altText","path","mob_src","label","hotspots","timeline","pause","restart","play","ComponentInstruction","manual","hasSubmenuCompleteInstruction","instruction","submenucomplete","changeInstruction","$texts","not","getSubmenu","min","currentInstruction","ComponentMcqtawa","answerArray","userSelectionArray","isCorrectArray","dataLabelArray","totalAttempts","attempts","numAttempts","compare","compareAssessment","compareQuestion","getQuestionDataForNum","getQuestionData","q","submit","secondary","question","option","colClasses","responsiveUtils","calculateChildBootstrapColumns","numCorrect","correct","numCorrectAnswers","_","without","exclusive","labels","undefined","numToSelect","initQuestion","$feedback","feedbackController","initFeedback","$options","checkDone","filter","hide","numCorrectSelected","numIncorrectSelected","optionIndex","show","feedback","dataArray","compareAttemptsArray","$optionsThisAttempt","isDone","googleAnalytics","enabled","gtag","event_category","event_label","isCorrect","showFeedback","storeAnswers","updateTextVariables","setInteraction","type","response","answers","timestamp","push","booleanToInt","setCustomData","dataStr","correctLabel","delay","prepend","retry","hideFeedback","matchElementHeights","ComponentMedia","srcExt","nextOnComplete","nextSlideOnComplete","fullscreen","autoplay","transcript","getUrlExtension","isVideo","mediaTypeString","showTranscriptState","isVideoInitialised","controlTranscript","showTranscript","hideTranscript","handleShowTranscriptToggle","getCaptions","subtitles","getMediaPath","poster","getFullPath","fallback","vtt","keyCode","button","transcriptButton","displaySubtitles","mediaplayer","getURL","langPath","eventID","videojs","fluid","fill","language","languageConfig","languages","currentLanguage","iana_code","muted","audioController","isMuted","textTrackSettings","getComponent","extend","constructor","apply","arguments","controlText","handleClick","playerElement","player","el","contentController","getComponentControllerForElement","component","getComponentObject","registerComponent","getChild","addChild","endOfSentenceChars","isReady","textTracks","setCaptions","get","cueTexts","entry","continueSentence","vttStr","trim","replace","charAt","addRemoteTextTrack","srclang","setObjective","courseEvent","VIDEO_COMPLETE","videoComplete","warn","error","document","AUDIO_OFF","AUDIO_ON","dispose","stop","scrollSlideIntoView","next","nextPage","ComponentMenu","menuArray","settings","menu","firstMandatoryModule","moduleCount","incompleteCount","firstLockedModule","assessmentModuleCount","assessmentMandatoryModuleCount","navData","module","disabled","isModuleActive","isModuleValidForRole","getModuleData","assessmentBank","isModuleMandatory","isModuleComplete","linear","developerUnlock","menuNum","moduleClassStr","ariaDisabled","return","moduleLock","getFirstPageValidForRole","img","info","time","j","getModulePageIndex","page","$submodules","isCurrentViewport","slideToggle","$module","changePageToData","splitText","revert","SplitText","tag","linesClass","ComponentSeparator","ComponentText","textanim","textanimTimeline","content","$anims","findAnims","$typeEl","mySplitText","gsap","onComplete","children","nodeName","toUpperCase","from","opacity","y","staggerFrom","chars","words","ComponentCallout","classStr","class","ldquoTimeline","replaceClassesBasedOnTextDirection","left","right","top-left","top-right","bottom-left","bottom-right","left-top","right-top","$svgIcon","animate","rdquoTimeline","ComponentHeaderimage","backgroundImage","ComponentPanel","hasIcon","ComponentTab","headerHtmlStr","items","tabImage","collapsedClass","tabOptions","toArray","nrOptions","activeIdx","activeElement","$collapse","showChildComponents","checkForScroll","$tabHeadings","ComponentGSFMenu","imgGrey","ComponentHeader","scrollIntoView","ComponentBuildupCarousel","getCSSString","anim","getCurrentViewport","sliderOptions","ComponentStoryCarousel","ComponentPlusButton","displayHeader","$plusButtonComponents","$plusButtonTexts","ComponentHighchart_Bar","colors","Highcharts","setOptions","lang","numericSymbols","thousandsSep","chartOptions","accessibility","keyboardNavigation","focusBorder","margin","style","borderWidth","borderRadius","color","xAxis","crosshair","yAxis","tickInterval","formatter","numberFormat","value","plotOptions","column","chartType","chart","description","seriesData","name","marker","symbol","lineWidth","lineColor","fillColor","tooltip","valuePrefix","valueSuffix","val","series","xAxisCategories","category","categories","destroy","reflow","ComponentHighchart_Pie","pieColors","pieData","align","pie","cursor","size","caption","useHTML","showPercentage","tooltipFormat","dataLabelsFormat","accessibilityPointSuffix","pointFormat","dataLabels","format","point","ComponentDropdownsequence","selectOptionsArray","let","o","shuffle","selectblank","k","cancelBtnText","dropIndex","selectmenu","userAnsweredCorrectly","correctArray","setLabelledBy","$select","labelledby","ui","change","labelIdx","selectedValue","prop","optionValAtThisSelect","ComponentParallaxImage","bkgPosition","layer","backgroundPosition","$layers","gsapObj","xPercent","yPercent","duration","ease","$layer","scrollTriggers","ScrollTrigger","getAll","kill","ComponentParallaxHeader","columnsStr","getBootstrapColumnsStrForNode","to","parseFloat","maxScroll","scrollTrigger","start","end","invalidateOnRefresh","scrub","scale","rotation","SLIDE_SHOW_CONTENT","refresh","fitTextToElements"],"mappings":"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","file":"content.min.js","sourcesContent":["function TemplateCUSTOM(){\r\n    var self = this;\r\n    var $slide;\r\n    var $contentWrap;\r\n    this.slideObj;\r\n    \r\n    this.init = init;\r\n    this.slideDisplayed = slideDisplayed;\r\n    \r\n    /**\r\n     * @function init\r\n     * @description  This function initialise the template.\r\n     */\r\n\tfunction init(_slideObj) {\r\n        self.slideObj = _slideObj;\r\n        $slide = self.slideObj.$slide;\r\n        // reference all items on the page using $slide.find(....)\r\n        $contentWrap = self.slideObj.$slide.find('.content-wrap .content-wrap-inner');\r\n        \r\n        addXMLData();\r\n        addFunctionality();\r\n        \r\n        slideReady();\r\n    }\r\n    \r\n    /**\r\n     * @function addXMLData\r\n     * @description  This function adds the copy and info from the XML\r\n     */\r\n    function addXMLData(){        \r\n        var htmlStr = '';\r\n//        htmlStr += self.slideObj.generateComponents(self.slideObj.data.components[0]);\r\n        htmlStr += self.slideObj.generateComponents(self.slideObj.data);//.components[0]);\r\n        $contentWrap.append(htmlStr);\r\n    }\r\n    \r\n    \r\n    /**\r\n     * @function addEvents\r\n     * @description  This function adds the page functionality\r\n     */\r\n    function addFunctionality(){\r\n        \r\n    }\r\n    \r\n    /**\r\n     * @function slideReady\r\n     * @description  This function is called when the slide is ready\r\n     */\r\n    function slideReady(){\r\n        self.slideObj.slideReady();\r\n    }\r\n    \r\n    /**\r\n     * @function slideDisplayed\r\n     * @description  This function is called when the slide is displayed\r\n     */\r\n    function slideDisplayed(){\r\n        slideComplete();\r\n    }\r\n    \r\n    /**\r\n     * @function slideComplete\r\n     * @description  This function is called when the slide is completed\r\n     */\r\n    function slideComplete(){\r\n        self.slideObj.slideContentComplete();\r\n    }\r\n    \r\n    /**\r\n     * @function updateLayout\r\n     * @description  This function is called on a browser resize\r\n     */\r\n    function updateLayout(){\r\n        \r\n    }\r\n}","/**\r\n * @fileoverview This is used to create a component.\r\n * @class\r\n * @author LIVELOGIC\r\n * @version 1.0\r\n */\r\nfunction Component(){\r\n    var self = this;\r\n    this.id = '';\r\n    this.dataNode;\r\n    this.componentController;\r\n    \r\n//    this.$component;\r\n//    \r\n//    this.isComplete = false;\r\n//    this.draggable = false;\r\n////    \r\n////    \r\n//    this.actions = [];\r\n//    \r\n//    this.showOnAllComplete = false;\r\n}\r\n\r\nComponent.prototype = {\r\n\r\n    /**\r\n    * @function\r\n    * @description This function initialiases the component\r\n    */\r\n    init: function(_componentController, node, _id, _num){\r\n        // console.log('COMP SETUP', _id, _num);\r\n        this.id = _id;\r\n        this.num = _num;\r\n        \r\n        this.componentController = _componentController;\r\n        \r\n        this.slideIndex = (this.componentController.slideObj instanceof Slide) ? this.componentController.slideObj.slideNum : 'NOSLIDE';\r\n        this.slideID = (this.componentController.slideObj instanceof Slide) ? this.componentController.slideObj.slideID : 'NOSLIDE';\r\n        //console.log('Component.slideID', this.slideID);\r\n        this.componentID = this.slideID+'-'+this.id;\r\n        \r\n        this.$component;\r\n        \r\n        this.dataNode = node;\r\n\r\n        this.roles = [];\r\n        \r\n        this.draggable = false;\r\n\r\n        this.isSetup = false;\r\n        \r\n        this.managesCompletion = false;\r\n        this.isComplete = (this.dataNode.complete == \"true\") ? true : false;\r\n        this.animsComplete = this.isComplete;\r\n        \r\n        this.actions = [];\r\n        \r\n        this.xsCloneRevealAlongside = (this.dataNode.xsCloneRevealAlongside == true) ? true : false;\r\n        \r\n        this.showOnComplete = false;\r\n        this.hideOnComplete = false;\r\n        this.visibleOnComplete = false;\r\n        this.invisibleOnComplete = false;\r\n        this.enableOnComplete = false;\r\n        \r\n        this.showOnComponentsComplete = false;\r\n        this.visibleOnComponentsComplete = false;\r\n        this.revealOnComponentsCompleteArray = [];\r\n\r\n        this.completeOnChildrenComplete = false;\r\n        this.parentComponent = false;\r\n        this.childComponents = [];\r\n\r\n        // timing for SCORM\r\n        this.timeDisplayed = '';\r\n        \r\n        // question info\r\n        this.showMarking = this.dataNode.showMarking ? stringToBoolean(this.dataNode.showMarking) : true;\r\n        this.showAnswers = this.dataNode.showAnswers ? stringToBoolean(this.dataNode.showAnswers) : true;\r\n\r\n        // ASSESSMENT INFO\r\n        this.isAssessmentQuestion = false;\r\n        this.assessmentID = '';\r\n\r\n        this.assessmentController;\r\n        if (node.assessment){\r\n            // is an assessment question\r\n            this.isAssessmentQuestion = true;\r\n\r\n            this.assessmentID = node.assessment;\r\n            var assessmentArr = this.assessmentID.split('-');\r\n            //console.log('ComponentMcqtawa::', assessmentArr[0].toLowerCase());\r\n            this.assessmentController = window[assessmentArr[0].toLowerCase()+'Assessment'];\r\n            this.questionNum = parseInt(assessmentArr[1])-1; // -1 for 0 indexing\r\n            if (!isNaN(this.questionNum)){\r\n                this.questionData = this.assessmentController.getQuestionXMLData(this.questionNum);\r\n            }\r\n\r\n            this.showMarking = this.assessmentController.showMarkingEnabled();\r\n            this.showAnswers = this.assessmentController.showAnswersEnabled();\r\n        }\r\n\r\n        this.interactionID = (this.isAssessmentQuestion) ? this.assessmentID : this.slideID+'c'+this.num;\r\n\r\n        // save data\r\n        this.saveData = this.componentController.getSaveData(this.num);\r\n        //console.log('Component', JSON.stringify(this.saveData));\r\n\r\n        this.customData = (this.dataNode.customData) ? this.dataNode.customData : 'questions.'+this.slideID;\r\n        this.customDataObj = customDataController.getCustomData(this.customData);\r\n    },\r\n    \r\n    /**\r\n     * @function\r\n     * @description  This function adds the component HTML\r\n     */\r\n    getHTML: function(){\r\n        //console.log('dataNode', dataNode)\r\n        if (courseConfig.dataFormat == 'xml'){\r\n            // send to recurseXML for XML\r\n            return this.componentController.generateComponents(this.dataNode);//htmlUtils.recurseXML(this.dataNode);\r\n        } else {\r\n            return htmlUtils.recurseData(this.dataNode);\r\n        }\r\n    },\r\n\r\n    /**\r\n     * @function\r\n     * @description  This function sets up the component\r\n     */\r\n    setupComponent: function(){\r\n        //console.log('Component.prototype.setupComponent', this.id);\r\n        this.$component = $('#'+this.id);\r\n    },\r\n    \r\n    /**\r\n     * @function\r\n     * @description  This function fires when sets up complete\r\n     */\r\n    setupComplete: function(){\r\n        \r\n        this.isSetup = true;\r\n    },\r\n    \r\n    /**\r\n     * @public\r\n     * @function \r\n     * @description  This function fired when component is displayed\r\n     */\r\n    componentDisplayed: function(){\r\n        this.timeDisplayed = utils.getCurrentTime();\r\n    },\r\n    \r\n    /**\r\n     * @function unload\r\n     * @description  This function is called on unload\r\n     */\r\n    unload: function(){\r\n    },    \r\n    \r\n    /**\r\n     * @function resize\r\n     * @description  This function is called on browser resize\r\n     */\r\n    resize: function(){\r\n    },\r\n\r\n    /**\r\n     * @function breakpointChanged \r\n     * @description  This function is called on device breakpoint changed\r\n     */\r\n    breakpointChanged: function(){\r\n    },\r\n    \r\n    /**\r\n     * @function resume\r\n     * @description  This function is called on resume\r\n     */\r\n    resume: function(){\r\n    }\r\n}","/**\r\n * @fileoverview This is used to create a Accordion component.\r\n * @class\r\n * @augments Component\r\n * @author LIVELOGIC\r\n * @version 1.0\r\n */\r\nfunction ComponentAccordion(){\r\n}\r\n\r\nComponentAccordion.prototype = Object.create(Component.prototype);\r\n\r\n/**\r\n * @function\r\n * @description  This function initialiases the component\r\n */\r\nComponentAccordion.prototype.init = function(_componentController, node, _id, _num){\r\n    Component.prototype.init.call(this, _componentController, node, _id, _num);\r\n\r\n    var self = this;\r\n\r\n    self.managesCompletion = true;\r\n}\r\n\r\n/**\r\n * @function\r\n * @description  This function adds the component HTML\r\n */\r\nComponentAccordion.prototype.getHTML = function(){\r\n    var self = this;   \r\n    \r\n    var htmlStr = '';\r\n    \r\n    // var allowMultiple = $accordion.data('allow-multiple') == true;\r\n    // Allow for each toggle to both open and close individually\r\n    // var allowToggle = (allowMultiple) ? allowMultiple : $accordion.data('allow-toggle') == 'true';\r\n\r\n    htmlStr += '<div id=\"'+self.id+'-accordion\" class=\"accordion-group\" data-allow-multiple=\"'+(self.dataNode.multiple=='true' ? 'true' : 'false')+'\" data-allow-toggle=\"'+(self.dataNode.toggle=='false' ? 'false' : 'true')+'\">';\r\n    for (var i = 0; i < self.dataNode.item.length; i++){\r\n\r\n        htmlStr += '<div id=\"'+self.id+'-item'+i+'\" class=\"accordion-item\">';\r\n            htmlStr += '<button class=\"accordion-button category-title\" role=\"button\" aria-controls=\"'+self.id+'-collapse'+i+'\" aria-expanded=\"false\">';\r\n                htmlStr += '<div class=\"accordion-icon\">'+svgUtils.createSVG('chevron-down')+'</div>';\r\n                htmlStr += '<div class=\"accordion-heading\">'\r\n                    htmlStr += `<${self.dataNode.item[i].title[0].headingTag ? self.dataNode.item[i].title[0].headingTag : 'h3' } id=\"`+self.id+'-heading'+i+'\">'+self.dataNode.item[i].title[0].Text+`</${self.dataNode.item[i].title[0].headingTag ? self.dataNode.item[i].title[0].headingTag : 'h3' }>`;\r\n                htmlStr += '</div>';\r\n            htmlStr += '</button>';\r\n            htmlStr += '<div id=\"'+self.id+'-collapse'+i+'\" class=\"accordion-reveal collapsed\" role=\"region\" aria-labelledby=\"'+self.id+'-heading'+i+'\">';\r\n                htmlStr += self.componentController.generateComponents(self.dataNode.item[i].reveal[0]);\r\n            htmlStr += '</div>';\r\n        htmlStr += '</div>';\r\n    }\r\n    htmlStr += '</div>';\r\n    \r\n    return htmlStr;\r\n}\r\n\r\n/**\r\n * @function\r\n * @description  This function sets up the component\r\n */\r\nComponentAccordion.prototype.setupComponent = function(){\r\n    Component.prototype.setupComponent.call(this);\r\n    \r\n    var self = this;   \r\n}\r\n\r\n/**\r\n * @function\r\n * @description  This function fires when sets up complete\r\n */\r\nComponentAccordion.prototype.setupComplete = function(){\r\n    Component.prototype.setupComplete.call(this);\r\n    \r\n    var self = this;   \r\n\r\n    // from https://www.w3.org/TR/wai-aria-practices/examples/accordion/accordion.html\r\n    var $accordion = self.$component.find('.accordion-group');\r\n    var $accordionItems = $accordion.find('.accordion-item');\r\n\r\n    // Allow for multiple accordion sections to be expanded at the same time\r\n    var allowMultiple = $accordion.data('allow-multiple') == true;\r\n    // Allow for each toggle to both open and close individually\r\n    var allowToggle = (allowMultiple) ? allowMultiple : $accordion.data('allow-toggle') == true;\r\n    // var allowToggle = $accordion.data('allow-toggle') == true;\r\n    console.log('allowToggle', $accordion.data('allow-toggle'), allowToggle)\r\n    console.log('allowMultiple', allowMultiple)\r\n    console.log(allowMultiple, $accordion.data('allow-toggle') == true)\r\n\r\n    // Create the array of toggle elements for the accordion group\r\n    var triggers = Array.prototype.slice.call($accordion[0].querySelectorAll('.accordion-button'));\r\n    var panels = Array.prototype.slice.call($accordion[0].querySelectorAll('.accordion-reveal'));\r\n\r\n\r\n    //  accordion.addEventListener('click', function (event) {\r\n    self.$component.find('.accordion-button').on('click', function (event) {\r\n        var target = $(this)[0]; //event.target;\r\n        //console.log('click', target)\r\n\r\n        $(target).closest('.accordion-item').addClass('done');\r\n\r\n        if (target.classList.contains('accordion-button')) {\r\n            // Check if the current toggle is expanded.\r\n            var isExpanded = target.getAttribute('aria-expanded') == 'true';\r\n            var active = $accordion[0].querySelector('[aria-expanded=\"true\"]');\r\n\r\n            // without allowMultiple, close the open accordion\r\n            if (!allowMultiple && active && active !== target) {\r\n                // Set the expanded state on the triggering element\r\n                active.setAttribute('aria-expanded', 'false');\r\n                // Hide the accordion sections, using aria-controls to specify the desired section\r\n                //document.getElementById(active.getAttribute('aria-controls')).setAttribute('hidden', '');\r\n                $('#' + active.getAttribute('aria-controls')).slideUp(function () {\r\n                    $(this).addClass('collapsed');\r\n                });\r\n\r\n                // When toggling is not allowed, clean up disabled state\r\n                if (!allowToggle) {\r\n                    active.removeAttribute('aria-disabled');\r\n                }\r\n            }\r\n\r\n            if (!isExpanded) {\r\n                // Set the expanded state on the triggering element\r\n                target.setAttribute('aria-expanded', 'true');\r\n                // Hide the accordion sections, using aria-controls to specify the desired section\r\n                //document.getElementById(target.getAttribute('aria-controls')).removeAttribute('hidden');\r\n                $('#' + target.getAttribute('aria-controls')).slideDown(function () {\r\n                    $(this).removeClass('collapsed');\r\n                    // let's tell any components they are now displayed\r\n                    self.componentController.slideObj.showElementContents($(this));\r\n                });\r\n\r\n                // If toggling is not allowed, set disabled state on trigger\r\n                if (!allowToggle) {\r\n                    target.setAttribute('aria-disabled', 'true');\r\n                }\r\n            } else if (allowToggle && isExpanded) {\r\n                console.log('close')\r\n                // Set the expanded state on the triggering element\r\n                target.setAttribute('aria-expanded', 'false');\r\n                // Hide the accordion sections, using aria-controls to specify the desired section\r\n                //document.getElementById(target.getAttribute('aria-controls')).setAttribute('hidden', '');\r\n                $('#' + target.getAttribute('aria-controls')).slideUp(function () {\r\n                    $(this).addClass('collapsed');\r\n                });\r\n            }\r\n\r\n            event.preventDefault();\r\n\r\n            self.$component.find('.accordion-button').each(function(){\r\n                // console.log($(this).attr('aria-expanded'))\r\n                if ($(this).attr('aria-expanded') == 'false'){\r\n                    svgUtils.animateSVG('chevron-down', $(this));\r\n                } else {\r\n                    svgUtils.animateSVG('chevron-down-reverse', $(this));\r\n                }\r\n            });\r\n\r\n            console.log('setComponentComplete', self.id)\r\n            self.componentController.setComponentComplete(self);\r\n        }\r\n    });\r\n\r\n    // Bind keyboard behaviors on the main accordion container\r\n    //accordion.addEventListener('keydown', function (event) {\r\n    self.$component.find('.accordion-button').on('keydown', function (event) {\r\n        console.log('on key down');\r\n\r\n        var target = event.target;\r\n        var key = event.which.toString();\r\n\r\n        // var isExpanded = target.getAttribute('aria-expanded') == 'true';\r\n        // var allowToggle = (allowMultiple) ? allowMultiple : $accordion.data('allow-toggle') == 'true';\r\n\r\n        // 33 = Page Up, 34 = Page Down\r\n        var ctrlModifier = (event.ctrlKey && key.match(/33|34/));\r\n\r\n        // Is this coming from an accordion header?\r\n        if (target.classList.contains('accordion-button')) {\r\n            // Up/ Down arrow and Control + Page Up/ Page Down keyboard operations\r\n            // 38 = Up, 40 = Down\r\n            if (key.match(/38|40/) || ctrlModifier) {\r\n                var index = triggers.indexOf(target);\r\n                var direction = (key.match(/34|40/)) ? 1 : -1;\r\n                var length = triggers.length;\r\n                var newIndex = (index + length + direction) % length;\r\n\r\n                triggers[newIndex].focus();\r\n\r\n                event.preventDefault();\r\n            } else if (key.match(/35|36/)) {\r\n                // 35 = End, 36 = Home keyboard operations\r\n                switch (key) {\r\n                    // Go to first accordion\r\n                    case '36':\r\n                        triggers[0].focus();\r\n                        break;\r\n                        // Go to last accordion\r\n                    case '35':\r\n                        triggers[triggers.length - 1].focus();\r\n                        break;\r\n                }\r\n                event.preventDefault();\r\n\r\n            }\r\n\r\n        }\r\n    });\r\n\r\n    // These are used to style the accordion when one of the buttons has focus\r\n    $accordion[0].querySelectorAll('.accordion-button').forEach(function (trigger) {\r\n\r\n        trigger.addEventListener('focus', function (event) {\r\n            $accordion[0].classList.add('focus');\r\n        });\r\n\r\n        trigger.addEventListener('blur', function (event) {\r\n            $accordion[0].classList.remove('focus');\r\n        });\r\n\r\n    });\r\n\r\n    // Minor setup: will set disabled state, via aria-disabled, to an\r\n    // expanded/ active accordion which is not allowed to be toggled close\r\n    if (!allowToggle) {\r\n        // Get the first expanded/ active accordion\r\n        var expanded = $accordion[0].querySelector('[aria-expanded=\"true\"]');\r\n\r\n        // If an expanded/ active accordion is found, disable\r\n        if (expanded) {\r\n            expanded.setAttribute('aria-disabled', 'true');\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * @public\r\n * @override \r\n * @description  This function is called on unload\r\n */\r\nComponentAccordion.prototype.unload = function(){\r\n    var self = this;    \r\n}\r\n\r\n/**\r\n * @public\r\n * @override \r\n * @description  This function fired when component is displayed\r\n */\r\nComponentAccordion.prototype.componentDisplayed = function(){\r\n    Component.prototype.componentDisplayed.call(this);\r\n\r\n    var self = this;    \r\n    \r\n    // set component complete\r\n    //self.componentController.setComponentComplete(self);\r\n}\r\n/**\r\n * @public\r\n * @override \r\n * @description  This function is called on browser resize\r\n */\r\nComponentAccordion.prototype.resize = function(){\r\n    var self = this;    \r\n}\r\n\r\n/**\r\n * @public\r\n * @override \r\n * @description  This function is called on device breakpoint changed\r\n */\r\n ComponentAccordion.prototype.breakpointChanged = function(){\r\n    var self = this;\r\n }\r\n","/**\r\n * @fileoverview This is used to create a Button component.\r\n * @class\r\n * @augments Component\r\n * @author LIVELOGIC\r\n * @version 1.0\r\n */\r\nfunction ComponentButton(){\r\n}\r\n\r\nComponentButton.prototype = Object.create(Component.prototype);\r\n\r\n/**\r\n * @function\r\n * @description  This function initialiases the component\r\n */\r\nComponentButton.prototype.init = function(_componentController, node, _id, _num){\r\n    Component.prototype.init.call(this, _componentController, node, _id, _num);\r\n\r\n    var self = this;\r\n\r\n    //self.managesCompletion = false;\r\n}\r\n\r\n/**\r\n * @function\r\n * @description  This function adds the component HTML\r\n */\r\nComponentButton.prototype.getHTML = function(){\r\n//    console.log('ComponentButton.prototype.getHTML', this.dataNode.text[0].Text);\r\n    var htmlStr = '';\r\n    if (this.dataNode.src){\r\n        var path = utils.getImagePath(this.dataNode.src);\r\n        var altText = (this.dataNode.alt) ? this.dataNode.alt[0].Text : '';\r\n        htmlStr += '<img aria-hidden=\"true\" src=\"'+path+'\" class=\"btnImage img-responsive\" alt=\"'+altText+'\"/>';\r\n    }\r\n    if (this.dataNode.svg){\r\n         htmlStr += '<div class=\"svgIcon svg-original\" aria-hidden=\"true\">'+svgUtils.createSVG(this.dataNode.svg)+'</div>';\r\n    }\r\n\r\n    if (this.dataNode.svgComplete){\r\n        htmlStr += '<div class=\"svgIcon svg-complete\" aria-hidden=\"true\">'+svgUtils.createSVG(this.dataNode.svgComplete)+'</div>';\r\n    }\r\n    \r\n    if (this.dataNode.submenu === \"true\"){\r\n        htmlStr += '<div class=\"status\">'+svgUtils.createSVG('tick')+'</div>';\r\n    }\r\n    \r\n    if (this.dataNode.text){\r\n    htmlStr += '<div class=\"btnText\">';\r\n        htmlStr += htmlUtils.getHTMLText(this.dataNode.text[0]);\r\n    htmlStr += '</div>';\r\n    }\r\n    if (this.dataNode.subtext){\r\n    htmlStr += '<div class=\"btnSubtext\">';\r\n        htmlStr += htmlUtils.getHTMLText(this.dataNode.subtext[0]);\r\n    htmlStr += '</div>';\r\n    }\r\n    return htmlStr;\r\n}\r\n\r\n/**\r\n * @function\r\n * @description  This function sets up the component\r\n */\r\nComponentButton.prototype.setupComponent = function(){\r\n    Component.prototype.setupComponent.call(this);\r\n    \r\n    var self = this;\r\n    \r\n    this.$component.addClass('btn');\r\n    if (this.dataNode.src){\r\n        this.$component.addClass('btn-image');\r\n    }\r\n    if (this.dataNode.svg){\r\n        this.$component.addClass('btn-svg');\r\n    }\r\n    if (this.dataNode.submenu === \"true\"){\r\n        this.$component.addClass('btn-submenu');\r\n    }\r\n    if (!this.dataNode.text){\r\n        this.$component.addClass('btn-nolabel');\r\n    }\r\n\r\n    // check if a hotspot and add sr-only class to button text\r\n    if (this.$component.hasClass('hotspot')){\r\n        if(this.dataNode.displayText){\r\n\r\n        }\r\n        else{\r\n             this.$component.find('.btnText').addClass('sr-only');\r\n        }\r\n    }\r\n\r\n    // add accessibility attributes\r\n    self.$component\r\n        .attr('role', 'button')\r\n        .attr('tabindex', '0');      \r\n}\r\n\r\n/**\r\n * @function\r\n * @description  This function sets up the component\r\n */\r\nComponentButton.prototype.setupComplete = function(){\r\n    Component.prototype.setupComplete.call(this);\r\n    \r\n    var self = this;\r\n\r\n    if (self.$component.hasClass('backBtn')){\r\n        self.$component.on('click', function(){\r\n            if (!navigationConfig.linearProgression){\r\n                if (navigationController.moduleIndex <= courseData.getMenuModuleNum()){\r\n                    // if (navigationController.pageIndex > 0){\r\n                    //     navigationController.changePageToData(navigationController.moduleIndex, navigationController.pageIndex-1, 0);\r\n                    // } else {\r\n                    //     navigationController.changePageToData(navigationController.moduleIndex-1, navigationController.pageIndex, 0);\r\n                    // }\r\n                    navigationController.gotoPage(navigationController.currentPage-1);\r\n                } else if (navigationController.pageIndex > 0){\r\n                    // goto previous page in history \r\n                    navigationController.previousPage();\r\n                } else {\r\n                    navigationController.showMenu();\r\n                }\r\n            } else {\r\n                // goto previous page in history \r\n                navigationController.previousPage();\r\n            }\r\n        });\r\n\t}\r\n    if(self.$component.hasClass('hotspot')){\r\n        self.$component.on('click', function(){\r\n            if(!self.$component.hasClass('done')){\r\n                self.$component.find('.btnText').append('<br><span class=\"sr-only\">'+courseData.getAccessibleLabel('complete')+'</span>');\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\n/**\r\n * @public\r\n * @override \r\n * @description  This function is called on unload\r\n */\r\nComponentButton.prototype.unload = function(){\r\n    var self = this;    \r\n}\r\n\r\n/**\r\n * @public\r\n * @override \r\n * @description  This function fired when component is displayed\r\n */\r\nComponentButton.prototype.componentDisplayed = function(){\r\n    Component.prototype.componentDisplayed.call(this);\r\n\r\n    var self = this;    \r\n    \r\n    if (self.$component.hasClass('continueBtn')){\r\n        \r\n    }\r\n    if (self.$component.hasClass('exitBtn') || \r\n        self.$component.hasClass('backBtn')){\r\n        // set component complete\r\n        self.componentController.setComponentComplete(self);\r\n    }\r\n    \r\n    if (this.dataNode.submenu === \"true\"){\r\n        console.log(this.dataNode.actions);\r\n        \r\n        for (x in this.dataNode.actions){\r\n            if (x == 'gotopage'){\r\n                // check if complete\r\n                if (storageController.isPageComplete(navigationController.currentPage+parseInt(this.dataNode.actions[x].split('+').join('')))){\r\n                    this.$component.addClass('done');\r\n                    self.componentController.setComponentComplete(self);\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * @public\r\n * @override \r\n * @description  This function is called on browser resize\r\n */\r\nComponentButton.prototype.resize = function(){\r\n    var self = this;   \r\n    \r\n    if (this.dataNode.submenu === \"true\"){\r\n        \r\n        var $submenuBtns = self.$component.closest('.slide').find('.btn-submenu');\r\n        \r\n        // is this the first component of this type\r\n        if (self.$component.attr('id') == $submenuBtns.first().attr('id')){\r\n            console.log ($submenuBtns.first().attr('id'));\r\n\r\n            var maxHeight = 0;\r\n            $submenuBtns.height('auto');\r\n            $submenuBtns.each(function(){\r\n                maxHeight = Math.max(maxHeight, $(this).height());\r\n            });\r\n            $submenuBtns.height(maxHeight);\r\n        }\r\n    }\r\n//    var $btns = self.$component.find('.drop');\r\n//    var $drags = self.$component.find('.drag');\r\n//    var maxHeight = 0;\r\n//    $drags.css({height: 'auto'});\r\n//    $drags.each(function(){\r\n//        maxHeight = Math.max(maxHeight, $(this).outerHeight(true));  \r\n//    });\r\n//    \r\n////    console.log(self.$component.find('.drop').width());\r\n//    $drops.css({height: maxHeight});\r\n//    $drags.css({width: $drops.width(), height: maxHeight});//width(self.$component.find('.drop').width());\r\n//    \r\n//    var $options = self.$component.find('.option');\r\n//    \r\n//    $options.each(function(){\r\n//        var $this = $(this);\r\n//        //console.log('SURVEY', $this.data('index'));\r\n//        var $drag = self.$component.find('.drag[data-num='+$this.data('drag')+']');\r\n//\r\n//        $drag.position( { \r\n//            of: $this.find('.drop'), \r\n//            my: 'center', \r\n//            at: 'middle',\r\n//            using: function( pos ) {\r\n//                $(this).css({top: pos.top, left: pos.left})\r\n//            }\r\n//        });\r\n    //});\r\n}\r\n\r\n/**\r\n * @public\r\n * @override \r\n * @description  This function is called on device breakpoint changed\r\n */\r\nComponentButton.prototype.breakpointChanged = function(){\r\n    var self = this;\r\n }\r\n","/**\r\n * @fileoverview This is used to create a StoryCarousel component.\r\n * @class\r\n * @augments Component\r\n * @author LIVELOGIC\r\n * @version 1.0\r\n */\r\nfunction ComponentCarousel(){  \r\n    \r\n}\r\n\r\nComponentCarousel.prototype = Object.create(Component.prototype);\r\n\r\n/**\r\n * @function\r\n * @description  This function initialiases the component\r\n */\r\nComponentCarousel.prototype.init = function(_componentController, node, _id, _num){\r\n    Component.prototype.init.call(this, _componentController, node, _id, _num);\r\n\r\n    this.managesCompletion = true;\r\n\r\n    this.slidesCompleteArray = [];\r\n}\r\n\r\n/**\r\n * @function\r\n * @description  This function sets up the component\r\n */\r\nComponentCarousel.prototype.setupComponent = function(){\r\n    Component.prototype.setupComponent.call(this);\r\n}\r\n\r\n/**\r\n * @function\r\n * @description  This function adds the component HTML\r\n */\r\nComponentCarousel.prototype.getHTML = function(){\r\n    var self = this;    \r\n    \r\n    var htmlStr = '';\r\n    htmlStr += '<div class=\"carousel-wrapper\" aria-roledescription=\"carousel\" aria-label=\"'+(courseData.getAriaProperty(self.dataNode, 'label') || courseData.getAccessibleLabel('carousel'))+'\">';\r\n        htmlStr += '<div class=\"bxslider\">';\r\n        //console.log(this.dataNode.slide.length);\r\n        for (var i = 0 ; i < this.dataNode.slide.length; i++){\r\n            self.slidesCompleteArray[i] = 0;\r\n            htmlStr += '<div>';\r\n                htmlStr += '<div class=\"carousel-slide\">';\r\n                    htmlStr += this.componentController.generateComponents(this.dataNode.slide[i]);\r\n                htmlStr += '</div>';\r\n            htmlStr += '</div>';\r\n        }\r\n        htmlStr += '</div>';\r\n    htmlStr += '</div>';\r\n    \r\n    return htmlStr;\r\n}\r\n\r\n/**\r\n * @function\r\n * @description  This function sets up the component\r\n */\r\nComponentCarousel.prototype.setupComplete = function(){\r\n    Component.prototype.setupComplete.call(this);\r\n    \r\n    var self = this;  \r\n\r\n    var options = {\r\n        infiniteLoop: self.dataNode.infiniteLoop ? self.dataNode.infiniteLoop : false,\r\n        mode: self.dataNode.mode ? self.dataNode.mode : 'horizontal',\r\n        speed: self.dataNode.speed ? self.dataNode.speed : 500,\r\n        adaptiveHeight: self.dataNode.adaptiveHeight ? (self.dataNode.adaptiveHeight == \"true\") : false,\r\n        controls: self.dataNode.controls ? (self.dataNode.controls == \"true\") : true,\r\n        pager: self.dataNode.pager ? (self.dataNode.pager == \"true\") : true,\r\n        touchEnabled: self.dataNode.touchEnabled ? (self.dataNode.touchEnabled == \"true\") : true,\r\n        hideControlOnEnd: self.dataNode.hideControlOnEnd ? (self.dataNode.hideControlOnEnd == \"true\") : true,\r\n        nextText: '<span>'+courseData.getBtnText('CarouselNext')+'</span><div class=\"svg-icon\">'+svgUtils.createSVG('chevron-right')+'</div>',\r\n        prevText: '<span>'+courseData.getBtnText('CarouselPrev')+'</span><div class=\"svg-icon\">'+svgUtils.createSVG('chevron-left')+'</div>',\r\n        onSliderLoad: function(){\r\n            // set first carousel slide as complete\r\n            self.slidesCompleteArray[0] = 1;\r\n            // disable pager dot buttons\r\n            setTimeout(function(){\r\n                self.$component.find('.bx-controls .bx-pager-item:gt(1) a').disable();\r\n                // add aria label to pager dot button\r\n                self.$component.find('.bx-controls .bx-prev').attr('tabindex', '0').attr('role', 'button');\r\n                self.$component.find('.bx-controls .bx-next').attr('tabindex', '0').attr('role', 'button');\r\n\r\n                // add aria current to pager dot buttons\r\n                self.$component.find('.bx-controls .bx-pager-item a').eq(0).attr('aria-current','true');\r\n                // add aria role to pager dot buttons and set href to javascript:void(0) to avoid page jump\r\n                self.$component.find('.bx-controls .bx-pager .bx-pager-link').attr('tabindex', '0').attr('href', 'javascript:void(0)').attr('role', 'button');\r\n                // adjust text of pager dot buttons\r\n                self.$component.find('.bx-controls .bx-pager .bx-pager-link').each(function(){\r\n                    $(this).html(courseData.getAccessibleLabel('carouselGoToSlide').split('{num}').join($(this).text()));\r\n                });\r\n\r\n            }, 500);\r\n            //self.$component.find('.bx-controls .bx-next').addClass('pulseScale');\r\n        },\r\n        onSlideAfter: function($slideElement, oldIndex, newIndex){\r\n            // set this carousel slide as complete\r\n            self.slidesCompleteArray[newIndex] = 1;\r\n            // enable pager dot buttons for next slide too\r\n            self.$component.find('.bx-controls .bx-pager-item a').slice(0, newIndex+1).enable();\r\n            // add aria current to pager dot button\r\n            self.$component.find('.bx-controls .bx-pager-item a').attr('aria-current','false').eq(newIndex).attr('aria-current','true');\r\n            \r\n//            if (self.slidesCompleteArray.indexOf(0) == -1){\r\n            if (newIndex == self.$slider.getSlideCount()-1){\r\n                // last slide lets set the focus as button disappears\r\n                self.$component.find('.bx-prev').focus();\r\n\r\n                //console.log('CAROUSEL', newIndex, self.$slider.getSlideCount()-1)\r\n                //self.$component.find('.bx-controls .bx-next').removeClass('pulseScale');\r\n                // set component complete\r\n                self.componentController.setComponentComplete(self);\r\n            } else if (newIndex == 0){\r\n                // first slide lets set the focus as button disappears\r\n                self.$component.find('.bx-next').focus();\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    self.$component.addClass(options.mode);\r\n\r\n    self.$slider = self.$component.find('.bxslider').bxSlider(options);\r\n}\r\n/**\r\n * @public\r\n * @override \r\n * @description  This function is called on unload\r\n */\r\nComponentCarousel.prototype.unload = function(){\r\n    var self = this;    \r\n}\r\n\r\n/**\r\n * @public\r\n * @override \r\n * @description  This function fired when component is displayed\r\n */\r\nComponentCarousel.prototype.componentDisplayed = function(){\r\n    Component.prototype.componentDisplayed.call(this);\r\n    console.log('ComponentCarousel::componentDisplayed');\r\n\r\n    var self = this;    \r\n    \r\n    self.$slider.redrawSlider();\r\n    \r\n}\r\n/**\r\n * @public\r\n * @override \r\n * @description  This function is called on browser resize\r\n */\r\nComponentCarousel.prototype.resize = function(){\r\n    var self = this;    \r\n}\r\n","/**\r\n * @fileoverview This is used to create a Flipcard component.\r\n * @class\r\n * @augments Component\r\n * @author LIVELOGIC\r\n * @version 1.0\r\n */\r\nfunction ComponentFlipcard(){\r\n}\r\n\r\nComponentFlipcard.prototype = Object.create(Component.prototype);\r\n\r\n/**\r\n * @function\r\n * @description  This function initialiases the component\r\n */\r\nComponentFlipcard.prototype.init = function(_componentController, node, _id, _num){\r\n    Component.prototype.init.call(this, _componentController, node, _id, _num);\r\n\r\n    this.managesCompletion = true;\r\n}\r\n\r\n\r\n/**\r\n * @function\r\n * @description  This function adds the component HTML\r\n */\r\nComponentFlipcard.prototype.getHTML = function(){\r\n    var self = this;   \r\n\r\n    var isTitleSROnly = false;\r\n\r\n    var hasFrontComponents = self.dataNode.front[0].components && self.dataNode.front[0].components[0]._children;\r\n    var hasBackComponents = self.dataNode.front[0].components && self.dataNode.front[0].components[0]._children;\r\n    \r\n    var htmlStr = '';\r\n    \r\n    htmlStr += '<div class=\"flip-card\" role=\"button\" tabindex=\"0\" aria-controls=\"'+self.id+'-back\" aria-expanded=\"false\">';\r\n        var styleStr = htmlUtils.getStyles(self.dataNode.front[0]);\r\n        if (styleStr.indexOf('background')){\r\n            \r\n        }\r\n        htmlStr += '<div class=\"flip-card-inner'+(styleStr.indexOf('background') != -1 ? ' bkgImage' : '')+'\">';\r\n            htmlStr += '<div class=\"flip-card-front\" style=\"'+styleStr+'\">';\r\n                htmlStr += '<div class=\"flip-card-content\">';\r\n                    //htmlStr += '<div class=\"optionLetter\">'+htmlUtils.alphabetArray[i].toUpperCase()+'</div>';\r\n                    \r\n                    if (self.dataNode.front[0].title){\r\n                        // lets check if the title has the sr-only class\r\n                        isTitleSROnly = htmlUtils.getClasses(self.dataNode.front[0].title[0]).split(' ').indexOf('sr-only') != -1;\r\n                    }\r\n                    \r\n                    if (hasFrontComponents){\r\n                        htmlStr += '<div class=\"flip-card-content-components\">';\r\n                            htmlStr += this.componentController.generateComponents(self.dataNode.front[0].components[0]); \r\n                        htmlStr += '</div>';\r\n                    }\r\n\r\n                    // add sr-only class (screen reader only) if there are components on the front of the card\r\n                    var srOnly = isTitleSROnly ? ' sr-only' : '';\r\n                    htmlStr += '<div class=\"flipcard-title'+srOnly+'\">'+htmlUtils.getHTMLText(self.dataNode.front[0].title[0])+'</div>';\r\n                    if (self.dataNode.front[0].text){\r\n                        htmlStr += '<div class=\"flipcard-text\">'+htmlUtils.getHTMLText(self.dataNode.front[0].text[0])+'</div>';\r\n                    }\r\n                    htmlStr += '<div class=\"flip-icon\">'+svgUtils.createSVG('plus')+'</div>';\r\n                htmlStr += '</div>';\r\n            htmlStr += '</div>';\r\n            htmlStr += '<div id=\"'+self.id+'-back\" class=\"flip-card-back\" aria-hidden=\"true\" aria-live=\"polite\">';\r\n                htmlStr += '<div class=\"flip-card-content\">';\r\n                    if (self.dataNode.back[0].title){\r\n                        // back title overrides front title\r\n                        htmlStr += '<h3 class=\"flipcard-title\">'+htmlUtils.getHTMLText(self.dataNode.back[0].title[0])+'</h3>';\r\n                    } else if (self.dataNode.front[0].title && !isTitleSROnly){\r\n                        \r\n                        htmlStr += '<h3 class=\"flipcard-title\">'+htmlUtils.getHTMLText(self.dataNode.front[0].title[0])+'</h3>';\r\n                    }\r\n                    if (hasBackComponents){\r\n                        htmlStr += this.componentController.generateComponents(self.dataNode.back[0].components[0]); \r\n                    }\r\n                    if (self.dataNode.back[0].text){\r\n                        htmlStr += '<div class=\"flipcard-text\">'+htmlUtils.getHTMLText(self.dataNode.back[0].text[0])+'</div>';\r\n                    }\r\n                    htmlStr += '<div class=\"flip-icon\">'+svgUtils.createSVG('minus')+'</div>';\r\n                htmlStr += '</div>';\r\n            htmlStr += '</div>';\r\n        htmlStr += '</div>';\r\n    htmlStr += '</div>';\r\n    \r\n    \r\n//    htmlStr = '<div class=\"test-flipcard h\">';\r\n//        htmlStr += '<div class=\"front\">';\r\n//            htmlStr += 'This is the front side';\r\n//        htmlStr += '</div>';\r\n//        htmlStr += '<div class=\"back\">';\r\n//            htmlStr += 'This is the back side';\r\n//        htmlStr += '</div>';\r\n//    htmlStr += '</div>';\r\n    \r\n    return htmlStr;\r\n}\r\n\r\n/**\r\n * @function\r\n * @description  This function sets up the component\r\n */\r\nComponentFlipcard.prototype.setupComponent = function(){\r\n    Component.prototype.setupComponent.call(this);\r\n\r\n    var self = this; \r\n}\r\n\r\n/**\r\n * @function\r\n * @description  This function sets up the component\r\n */\r\nComponentFlipcard.prototype.setupComplete = function(){\r\n    Component.prototype.setupComplete.call(this);\r\n    \r\n    var self = this;   \r\n    // self.$component.find('.flip-card').on('click',function(){\r\n    self.$component.find('.flip-card').on('click keypress', utils.handleClickAndPress(function (e) {\r\n        var $this = $(e.currentTarget);\r\n        if ($this.hasClass('disabled')){\r\n            return false;\r\n        }\r\n        $this.addClass('done');\r\n        $this.toggleClass('flip');\r\n        \r\n        $this.attr('aria-expanded', ($this.hasClass('flip') ? 'true' : 'false'));\r\n\r\n        self.$component.find('.flip-card-front').attr('aria-hidden', ($this.hasClass('flip') ? 'true' : 'false'));\r\n        self.$component.find('.flip-card-back').attr('aria-hidden', ($this.hasClass('flip') ? 'false' : 'true'));\r\n        // $this.blur();\r\n        setTimeout(function(){\r\n            $this.find('.flip-card-back').focus();\r\n        }, 1000);\r\n        \r\n        // set component complete\r\n        self.componentController.setComponentComplete(self);\r\n    }));\r\n\r\n    // if option contains any anchor tags for URLs, modals or popovers, prevent selection of option\r\n    self.$component.find('.flip-card-content a').on('click', function(e){\r\n        e.stopPropagation();\r\n        //alert('a click')\r\n    })\r\n//    self.$component.find('.test-flipcard').on('click',function(){\r\n//        $(this).addClass('done');\r\n//        $(this).toggleClass('flip');\r\n//        \r\n//        // set component complete\r\n//        //self.componentController.setComponentComplete(self);\r\n//    })\r\n}\r\n\r\n/**\r\n * @public\r\n * @override \r\n * @description  This function is called on unload\r\n */\r\nComponentFlipcard.prototype.unload = function(){\r\n    var self = this;    \r\n}\r\n\r\n/**\r\n * @public\r\n * @override \r\n * @description  This function fired when component is displayed\r\n */\r\nComponentFlipcard.prototype.componentDisplayed = function(){\r\n    Component.prototype.componentDisplayed.call(this);\r\n\r\n    var self = this;    \r\n    \r\n    // set component complete\r\n    //self.componentController.setComponentComplete(self);\r\n    \r\n    \r\n}\r\n/**\r\n * @public\r\n * @override \r\n * @description  This function is called on browser resize\r\n */\r\nComponentFlipcard.prototype.resize = function(){\r\n    var self = this;    \r\n    \r\n    var $flipComponents = self.$component.closest('.slide').find('.component-flipcard');\r\n    if ($flipComponents.last().attr('id') == self.id){\r\n        var $flipcards = $flipComponents.find('.flip-card-front, .flip-card-back');\r\n        var maxHeight = 0;\r\n        $flipComponents.find('.flip-card').height('auto');\r\n        $flipcards.height('auto');\r\n        $flipcards.each(function(){\r\n            maxHeight = Math.max(maxHeight, $(this).outerHeight());\r\n        })\r\n        $flipComponents.find('.flip-card').height(maxHeight);\r\n        $flipcards.css('height', '100%');\r\n    }\r\n}\r\n","/**\r\n * @fileoverview This is used to create a Group component.\r\n * @class\r\n * @augments Component\r\n * @author LIVELOGIC\r\n * @version 1.0\r\n */\r\nfunction ComponentGroup(){\r\n}\r\n\r\nComponentGroup.prototype = Object.create(Component.prototype);","/**\r\n * @fileoverview This is used to create an Image component.\r\n * @class\r\n * @augments Component\r\n * @author LIVELOGIC\r\n * @version 1.0\r\n */\r\nfunction ComponentImage(){\r\n}\r\n\r\nComponentImage.prototype = Object.create(Component.prototype);\r\n\r\n/**\r\n * @function\r\n * @description  This function adds the component HTML\r\n */\r\nComponentImage.prototype.getHTML = function(){\r\n    var self = this;\r\n    var svg = this.dataNode.svg;\r\n        \r\n    var htmlStr = '';\r\n    if (svg){\r\n        htmlStr += svgUtils.createSVG(svg);\r\n    } else{\r\n        var path = utils.getImagePath(this.dataNode.src);\r\n\r\n        if(this.dataNode.mob_src) {\r\n            var mob_path = utils.getImagePath(this.dataNode.mob_src);\r\n        }\r\n        else{\r\n            var mob_path = null;\r\n        }\r\n\r\n        var altText = (this.dataNode.alt) ? this.dataNode.alt[0].Text : '';\r\n        altText = altText || '';\r\n\r\n        //htmlStr += '<div class=\"aligned-image\" style=\"background-image: url('+path+'); '+htmlUtils.getStyles(self.dataNode)+'\"></div>';\r\n       if(mob_path == null) {\r\n        htmlStr += '<img src=\"'+path+'\" class=\"img-responsive\" alt=\"'+altText+'\"/>';\r\n       }\r\n       else{\r\n        htmlStr += '<img src=\"'+path+'\" class=\"img-responsive hidden-xs\" alt=\"'+altText+'\"/>';\r\n        htmlStr += '<img src=\"'+mob_path+'\" class=\"img-responsive visible-xs\" alt=\"'+altText+'\"/>';\r\n       }\r\n    }\r\n    \r\n    if (this.dataNode.label){\r\n        htmlStr += '<div class=\"img-label\">'+htmlUtils.getHTMLText(this.dataNode.label[0])+'</div>';\r\n    }\r\n    if (this.dataNode.hotspots){\r\n        htmlStr += '<div class=\"hotspots\">';\r\n            htmlStr += this.componentController.generateComponents(this.dataNode.hotspots[0]);\r\n    //+this.dataNode.label[0].Text+\r\n        htmlStr += '</div>';\r\n    }\r\n    \r\n    return htmlStr;\r\n} \r\n\r\n/**\r\n * @function\r\n * @description  This function sets up the component\r\n */\r\nComponentImage.prototype.setupComponent = function(){\r\n    Component.prototype.setupComponent.call(this);\r\n    //console.log('ComponentImage.prototype.setupComponent', this.id);\r\n    var svg = this.dataNode.svg;\r\n    var self = this;\r\n    if (svg){\r\n        self.timeline = svgUtils.animateSVG(svg, this.$component);\r\n        self.timeline.pause();\r\n        this.$component.on('inview_anim_complete', function(){\r\n            \r\n            self.timeline.restart();\r\n            self.timeline.play();\r\n        });\r\n    }\r\n    // apply image to component background in case we're using a height aligned row - display controlled by CSS\r\n    self.$component.css('background-image', 'url('+self.$component.find('img').attr('src')+')');\r\n\r\n}\r\n\r\n/**\r\n * @public\r\n * @override \r\n * @description  This function fired when component is displayed\r\n */\r\nComponentImage.prototype.componentDisplayed = function(){\r\n    Component.prototype.componentDisplayed.call(this);\r\n\r\n    //console.log('ComponentImage:componentDisplayed');\r\n    var self = this;\r\n    \r\n    if (self.timeline){\r\n        //has an SVG timeline\r\n        if (self.$component.hasClass('animated')){\r\n            self.timeline.restart();\r\n            self.timeline.play();            \r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * @function\r\n * @description  This function sets up the component\r\n */\r\nComponentImage.prototype.setupComplete = function(){\r\n    Component.prototype.setupComplete.call(this);\r\n    \r\n    var self = this;\r\n\r\n    \r\n}\r\n\r\n/**\r\n * @public\r\n * @override \r\n * @description  This function is called on unload\r\n */\r\nComponentImage.prototype.unload = function(){\r\n    var self = this;\r\n}"," /**\r\n * @fileoverview This is used to create a Group component.\r\n * @class\r\n * @author LIVELOGIC\r\n * @version 1.0\r\n */\r\nfunction ComponentInstruction(){\r\n    var currentInstruction = 0;\r\n}\r\n\r\nComponentInstruction.prototype = Object.create(Component.prototype);\r\n\r\n/**\r\n * @function\r\n * @description  This function adds the component HTML\r\n */\r\nComponentInstruction.prototype.init = function(_componentController, node, _id, _num){\r\n    Component.prototype.init.call(this, _componentController, node, _id, _num);\r\n    \r\n    this.manual = this.dataNode.manual ? true : false; \r\n\r\n    this.hasSubmenuCompleteInstruction = false;\r\n}\r\n\r\n/**\r\n * @function\r\n * @description  This function adds the component HTML\r\n */\r\nComponentInstruction.prototype.getHTML = function(){\r\n    var self = this;\r\n    \r\n    var htmlStr = '';\r\n\r\n    // var instructionText = this.dataNode.text;\r\n    htmlStr += '<div class=\"instructions\">';\r\n    \r\n        for (var i = 0; i < self.dataNode.text.length; i++){\r\n            var instruction = self.dataNode.text[i].Text ? htmlUtils.getHTMLText(self.dataNode.text[i]) : '';\r\n\r\n            // check if we're a submenuitem - if so let's change instruction text\r\n            if (self.dataNode.text[i].submenucomplete){\r\n                self.hasSubmenuCompleteInstruction = true;\r\n            }\r\n\r\n            htmlStr += '<p class=\"instruction-text'+(self.dataNode.text[i].submenucomplete ? ' instruction-submenucomplete' : '')+'\">'+instruction+'</p>';\r\n        }\r\n     \r\n    \r\n    htmlStr += '</div>';\r\n    return htmlStr;\r\n}\r\n\r\n/**\r\n * @function\r\n * @description  This function adds the component HTML\r\n */\r\nComponentInstruction.prototype.changeInstruction = function(num){\r\n    var self = this;\r\n    \r\n    \r\n    console.log('ComponentInstruction.prototype.changeInstruction', num);\r\n    \r\n    var $texts = self.$component.find('.instruction-text').not('.rolehidden');\r\n\r\n    if (self.hasSubmenuCompleteInstruction){\r\n        var submenu = courseData.getSubmenu();\r\n        console.log(submenu);\r\n        if (!submenu.complete){\r\n            $texts = $texts.not('.instruction-submenucomplete');\r\n        }\r\n    }\r\n\r\n    num = Math.min(num, $texts.length-1);\r\n    \r\n    // hide if no text to show\r\n    if ($texts.eq(num).text() == ''){\r\n        // console.log('ComponentInstruction.prototype.changeInstruction hide', self.num);\r\n        // self.$component.slideUp();\r\n    } else {\r\n        // console.trace('ComponentInstruction.prototype.changeInstruction show', self.num);\r\n        // self.$component.slideDown();\r\n    }\r\n    if ($texts.length > 1 && num != self.currentInstruction){\r\n        $texts.slideUp();\r\n        $texts.eq(num).slideDown();\r\n        self.currentInstruction = num;\r\n    }\r\n    \r\n}"," /**\r\n * @fileoverview This is used to create an ComponentMcqtawa component.\r\n * @class\r\n * @author LIVELOGIC\r\n * @version 1.0\r\n */\r\nfunction ComponentMcqtawa(){\r\n}\r\n\r\nComponentMcqtawa.prototype = Object.create(Component.prototype);\r\n\r\n/**\r\n * @function\r\n * @description  This function adds the component HTML\r\n */\r\nComponentMcqtawa.prototype.init = function(_componentController, node, _id, _num){\r\n    Component.prototype.init.call(this, _componentController, node, _id, _num);\r\n\r\n    var self = this;\r\n\r\n    this.managesCompletion = true;\r\n    \r\n    this.answerArray = [];\r\n    this.userSelectionArray = [];\r\n    this.isCorrectArray = [];\r\n    \r\n    this.dataLabelArray = [];\r\n    \r\n    this.totalAttempts = (node.attempts) ? parseInt(node.attempts) : 1;\r\n    this.numAttempts = 0;\r\n\r\n    // this.numToSelect = (node.numToSelect) ? parseInt(node.numToSelect) : 1; // default select 1\r\n\r\n    if (self.isAssessmentQuestion && self.dataNode.compare){\r\n        // assessment to compare result against\r\n        // self.compare = self.dataNode.compare ? window[self.dataNode.compare.toLowerCase()+'Assessment'] : false;\r\n        self.compareAssessment = self.dataNode.compare ? window[self.dataNode.compare.toLowerCase()+'Assessment'] : false;\r\n        if (self.compareAssessment){\r\n            // console.log('ComponentMcqtawa compareQuestion', self.questionNum);\r\n            self.compareQuestion = self.compareAssessment.getQuestionDataForNum(self.assessmentController.getQuestionData(self.questionNum).q);\r\n            // console.log('ComponentMcqtawa compareQuestion', self.compareQuestion);\r\n        }\r\n    }\r\n    \r\n}\r\n\r\n/**\r\n * @function \r\n * @description  This function adds the component HTML\r\n */\r\nComponentMcqtawa.prototype.getHTML = function(){\r\n    var self = this;\r\n    \r\n    var submit = this.dataNode.submit[0].text[0].Text;\r\n    var secondary = this.dataNode.secondary[0].text[0].Text;\r\n    var htmlStr = '';\r\n    \r\n    htmlStr += '<form class=\"form-inline\">';\r\n        htmlStr += '<fieldset>';\r\n            htmlStr += '<legend id=\"'+self.id+'-legend\">';\r\n                htmlStr += '<div class=\"questionPanel\">';\r\n                if (this.dataNode.assessment){\r\n                    htmlStr += '<div class=\"questionNum moduleColor\">'+(self.questionNum+1)+'</div>';\r\n                }\r\n                    htmlStr += '<div class=\"questionInfo\">';\r\n                        htmlStr += '<div id=\"'+self.id+'-question\" class=\"question-text\">';\r\n                            htmlStr += htmlUtils.getHTMLText(this.dataNode.question[0]);\r\n                        htmlStr += '</div>';\r\n                        if (secondary){\r\n                        htmlStr += '<div class=\"secondary-instruction anim fadeIn\">'+secondary+'</div>'; \r\n                        }\r\n                    htmlStr += '</div>';\r\n                htmlStr += '</div>';\r\n            htmlStr += '</legend>';\r\n    \r\n    if (self.dataNode.instruction){\r\n        htmlStr += self.componentController.generateComponents(self.dataNode.instruction[0]);\r\n    }\r\n    \r\n    var options = this.dataNode.options[0].option;\r\n    var colClasses = responsiveUtils.calculateChildBootstrapColumns(this.dataNode.options[0]);\r\n\r\n    \r\n    var numCorrect = 0;\r\n    for (var i = 0; i < options.length; i++){  \r\n        if (options[i].correct == 'NA'){\r\n            self.answerArray[i] = 'NA';\r\n        } else {\r\n            self.answerArray[i] = (options[i].correct === 'true') ? 1 : 0;\r\n            numCorrect += self.answerArray[i];\r\n        }\r\n    }\r\n\r\n    // use lodash _.without to get number of correct items\r\n    self.numCorrectAnswers =  _.without(self.answerArray, 0).length;\r\n    \r\n            htmlStr += '<div class=\"options'+(self.numCorrectAnswers > 1 ? ' mcq' : ' scq' )+(colClasses != '' ? ' options-cols' : '' )+'\"'+(self.numCorrectAnswers == 1 ? ' role=\"radiogroup\"' + 'aria-labelledby=\"'+self.id+'-legend\"' : '' )+'>';\r\n    \r\n            if (colClasses != ''){\r\n                htmlStr += '<div class=\"row flex-row\">';\r\n            }   \r\n\r\n\r\n    \r\n    for (var i = 0; i < options.length; i++){  \r\n        self.dataLabelArray[i] = (options[i].dataLabel) ? options[i].dataLabel : i;\r\n        \r\n        var isCorrect = (options[i].correct === 'true');\r\n        //var text = options[i].text[0].Text;\r\n        // var correctClass = ' correct';\r\n        // if (!isCorrect && options[i].correct != 'NA'){\r\n        //     correctClass = ' incorrect';\r\n        // }\r\n        // if (self.dataNode.options[0].option[i].exclusive){\r\n        //     correctClass = ' exclusive';\r\n        // }\r\n\r\n        \r\n        if (colClasses != ''){\r\n        htmlStr += '<div class=\"'+colClasses+'\" >';\r\n        }\r\n        htmlStr += '<div class=\"option'+(self.dataNode.options[0].option[i].exclusive ? ' exclusive' : '')+' anim fadeInRight\" role=\"'+(self.numCorrectAnswers == 1 ? 'radio' : 'checkbox' )+'\" aria-checked=\"false\" aria-labelledby=\"'+self.id+'-option-'+i+'\" tabindex=\"0\" data-index=\"'+i+'\">';\r\n            htmlStr += '<div class=\"optionInner\">';\r\n                if (options[i].src){\r\n                    var path = utils.getImagePath(options[i].src);\r\n                    htmlStr += '<div class=\"optionImg\"><img class=\"img-responsive\" src=\"'+path+'\"></div>';\r\n                }\r\n                htmlStr += '<div class=\"checkboxIcon\"><span class=\"tickCross\">'+(self.answerArray[i] != 'NA' ? svgUtils.createSVG('tickcross') : '')+'</span></div>';\r\n                htmlStr += '<div id=\"'+self.id+'-option-'+i+'\" class=\"btnText\">'+htmlUtils.getHTMLText(this.dataNode.options[0].option[i].text[0])+'</div>';\r\n    //            htmlStr += '<span class=\"tickCross\">'+svgUtils.createSVG('tickcross')+'</span>';\r\n            htmlStr += '</div>';\r\n            if (self.compareQuestion){\r\n            htmlStr += '<div class=\"option-compare-selection\">';\r\n                htmlStr += '<div>'+courseData.data.assessment.labels[0].compare[0].Text+'</div>';\r\n            htmlStr += '</div>';\r\n            }\r\n        htmlStr += '</div>'; // end option\r\n        if (colClasses != ''){\r\n        htmlStr += '</div>'; // end col\r\n        }\r\n    }\r\n\r\n    \r\n    \r\n    if (colClasses != ''){\r\n        htmlStr += '</div>'; //end row\r\n        }\r\n    htmlStr += '</div>'; // end options\r\n    \r\n            htmlStr += '<button class=\"btn ok pull-right disabled anim fadeInUp\" aria-disabled=\"true\">'+submit+'</button>';\r\n\r\n        htmlStr += '</fieldset>';\r\n    htmlStr += '</form>';\r\n    \r\n    if (self.dataNode.options[0].numToSelect != undefined){\r\n        self.numToSelect = parseInt(self.dataNode.options[0].numToSelect);\r\n    } else {\r\n        self.numToSelect = (numCorrect > 1) ? -1 : 1; // -1 is select as many as you like\r\n    }\r\n\r\n    if (self.isAssessmentQuestion){\r\n        self.assessmentController.initQuestion(self.questionNum, self.answerArray);\r\n    }\r\n    \r\n    return htmlStr;//'[MCQTAWA HERE]';\r\n} \r\n\r\n/**\r\n * @function\r\n * @description  This function sets up the component\r\n */\r\nComponentMcqtawa.prototype.setupComponent = function(){\r\n    Component.prototype.setupComponent.call(this);\r\n    \r\n    var self = this;   \r\n}\r\n\r\n/**\r\n * @function\r\n * @description  This function fires when sets up complete\r\n */\r\nComponentMcqtawa.prototype.setupComplete = function(){\r\n    Component.prototype.setupComplete.call(this);\r\n    \r\n    var self = this;   \r\n\r\n    // use feedback controller to init feedback\r\n    self.$feedback = self.$component.closest('.slide').find('.feedback');\r\n    feedbackController.initFeedback(self.$component, self.$feedback);\r\n}\r\n\r\n/**\r\n * @public\r\n * @override \r\n * @description  This function is called on unload\r\n */\r\nComponentMcqtawa.prototype.unload = function(){\r\n    var self = this;    \r\n}\r\n\r\n/**\r\n * @public\r\n * @override \r\n * @description  This function fired when component is displayed\r\n */\r\nComponentMcqtawa.prototype.componentDisplayed = function(){\r\n    Component.prototype.componentDisplayed.call(this);\r\n\r\n    var self = this;\r\n    //console.trace('ComponentMcqtawa.prototype.componentDisplayed')\r\n    var $options = self.$component.find('.option');\r\n\r\n    \r\n    self.checkDone();\r\n    \r\n    $options.on('click keypress', utils.handleClickAndPress(function (e) {\r\n        var $this = $(e.currentTarget);\r\n        if ($this.hasClass('disabled')){\r\n            return false;\r\n        }\r\n        \r\n        // if ($options.filter('.correct').length == 1 || (self.numToSelect == 1 && $options.filter('.correct').length > 1)){\r\n        \r\n        if (self.numCorrectAnswers == 1 || (self.numToSelect == 1 && self.numCorrectAnswers > 1)){\r\n            // $options.not($this).removeClass('selected').attr('aria-pressed', 'false');\r\n            $options.not($this).removeClass('selected').attr('aria-checked', 'false');\r\n        }\r\n        $this.toggleClass('selected');\r\n        if (self.numToSelect > 0 && $options.filter('.selected').length > self.numToSelect){\r\n            // if there ismore than the set number to select, don't allow this to be selected\r\n            $this.removeClass('selected');\r\n        }\r\n        if ($this.hasClass('selected')){\r\n            // $this.attr('aria-pressed', 'true');\r\n            $this.attr('aria-checked', 'true');\r\n        }\r\n        if ($this.hasClass('exclusive')){\r\n            // is this an exclusive option - deselects all others\r\n            $options.not(this).removeClass('selected');\r\n        } else {\r\n            // deselect the exclusive option\r\n            $options.filter('.exclusive').removeClass('selected');\r\n        }\r\n        \r\n        self.checkDone();\r\n    }));\r\n\r\n    // if option contains any anchor tags for URLs, modals or popovers, prevent selection of option\r\n    $options.find('.btnText a').on('click', function(e){\r\n        e.stopPropagation();\r\n        //alert('a click')\r\n    });\r\n    \r\n    // prevent enter submitting form\r\n    self.$component.find('input').on('keydown', function(event) {\r\n        return event.key != 'Enter';\r\n    });\r\n\r\n    self.$component.find('.btn.ok').on('click keypress', utils.handleClickAndPress(function (e) {\r\n        var $this = $(e.currentTarget);\r\n        \r\n        // as now in a form we need to stop the form submitting\r\n        e.preventDefault();\r\n\r\n        if ($this.hasClass('disabled')){\r\n            return false;\r\n        }\r\n\r\n        //self.$component.find('.secondary-instruction').hide();\r\n        $this.hide();\r\n        \r\n        self.numAttempts++;\r\n        \r\n        self.numCorrectSelected = 0;\r\n        self.numIncorrectSelected = 0;\r\n        $options.each(function(){\r\n            var optionIndex = $(this).data('index');\r\n            self.userSelectionArray[optionIndex] = $(this).hasClass('selected') ? 1 : 0;\r\n            if (self.userSelectionArray[optionIndex] == 1){\r\n                if (self.answerArray[optionIndex] == 1){\r\n                    self.numCorrectSelected ++;\r\n                } else {\r\n                    self.numIncorrectSelected ++;\r\n                }\r\n                // feedback shown for option selection - requires class .feedbackOption1, .feedbackOption2\r\n                self.$feedback.find('.feedbackOption'+optionIndex).show();\r\n                if (self.dataNode.options[0].option[optionIndex].feedback){\r\n                    // any feedback referenced by xml - requires class .feedback1, .feedback2 \r\n                    self.$feedback.find('.feedback'+self.dataNode.options[0].option[optionIndex].feedback).show();\r\n                }\r\n            }\r\n        });\r\n        \r\n        var $optionsThisAttempt = $options.not('.disabled');\r\n        \r\n        // disable options and set to tabindex -1 so not visually focusable\r\n        $options.disable().attr('tabindex', -1);\r\n//        for (var i = 0; i < self.answerArray.length; i++){\r\n//            // create an array saying if user was correct for each option\r\n//            self.isCorrectArray[i] = (self.answerArray[i] == self.userSelectionArray[i]) ? 1 : 0;\r\n//        } \r\n        \r\n        if (courseConfig.googleAnalytics.enabled){\r\n            // Google analytics - track user answers\r\n            gtag('event', 'engagement', {\r\n              'event_category' : self.slideID,\r\n              'event_label' : self.userSelectionArray.toString()\r\n            });\r\n        }\r\n        \r\n                //console.log (self.$component.find('.tfCheckbox.selected.correct').length, self.$component.find('.option').length);\r\n        var isDone = false;\r\n        var isCorrect = false;\r\n        if ((self.numCorrectSelected === self.numCorrectAnswers \r\n           || self.numCorrectSelected === self.numToSelect)\r\n           && self.numIncorrectSelected == 0){\r\n        // if ((self.numCorrectSelected === self.numCorrectAnswers \r\n        //    || self.numCorrectSelected === self.numToSelect)\r\n        //    && self.numIncorrectSelected == 0){\r\n            isCorrect = true;\r\n            isDone = true;\r\n            self.$feedback.find('.feedbackDone').show();\r\n            \r\n            self.$feedback.removeClass('incorrect partlycorrect').addClass('correct');\r\n        } else {\r\n            \r\n            // allow retry?\r\n            if (self.numAttempts < self.totalAttempts){\r\n                self.$component.addClass('attempted');\r\n                self.$feedback.find('.feedbackRetry').show();\r\n                \r\n            } else {\r\n                self.$feedback.find('.feedbackDone').show();\r\n                isDone = true;\r\n            }\r\n            \r\n            if (self.$feedback.find('.feedbackPartlyCorrect').length && self.numCorrectSelected > 0){\r\n                self.$feedback.removeClass('incorrect').addClass('partlycorrect');\r\n            } else {\r\n                self.$feedback.removeClass('partlycorrect').addClass('incorrect');\r\n            }\r\n        }\r\n        \r\n        // use feedback controller to show feedback\r\n        feedbackController.showFeedback(self.$component, self.$feedback);\r\n\r\n        self.$component.find('.component-instruction').slideUp();\r\n\r\n        if (!self.showMarking){\r\n            self.$component.addClass('hideOptionMarking');\r\n        }\r\n        if (!self.showAnswers){\r\n            self.$component.addClass('hideOptionAnswers');\r\n        }\r\n        \r\n        if (self.isAssessmentQuestion){\r\n            \r\n            self.assessmentController.storeAnswers(self.questionNum, self.userSelectionArray);//, self.isCorrectArray);\r\n            \r\n            htmlUtils.updateTextVariables();\r\n        } \r\n            \r\n        // let's save the interaction\r\n        storageController.setInteraction({\r\n            id: self.interactionID, \r\n            type: 'choice', \r\n            question: self.$component.find('.questionInfo').text(),\r\n            response: self.userSelectionArray, \r\n            answers: self.answerArray, \r\n            correct: (self.answerArray[0] != 'NA') ? isCorrect : 'neutral',\r\n            timestamp: self.timeDisplayed\r\n        });\r\n        \r\n        // automatically store on custom data questions if not set - not for assessments\r\n        if (!self.isAssessmentQuestion){\r\n            // store answer in suspend data\r\n            if (self.answerArray[0] != 'NA'){\r\n                if (self.customDataObj == undefined){\r\n                    self.customDataObj = {\r\n                        answers: self.answerArray,\r\n                        attempts: [],\r\n                        correct: 0\r\n                    }\r\n                }\r\n                if (self.customDataObj.correct == 0){\r\n                    console.log('attempts', self.customDataObj.attempts)\r\n                    self.customDataObj.attempts.push(self.userSelectionArray.slice());\r\n                    self.customDataObj.correct = (self.answerArray[0] != 'NA') ? utils.booleanToInt(isCorrect) : 'neutral';\r\n                    customDataController.setCustomData(self.customData, self.customDataObj);\r\n                }\r\n\r\n            } else {\r\n                // save the array of answers if no correct/incorrect\r\n                var dataArray = [];\r\n                $options.filter('.selected').each(function(index){\r\n                    var optionIndex = $(this).data('index');\r\n                    var dataStr = optionIndex != self.dataLabelArray[optionIndex] ? optionIndex+'-'+self.dataLabelArray[optionIndex] : optionIndex;\r\n                    dataArray.push(dataStr);\r\n                });\r\n                customDataController.setCustomData(self.customData, dataArray);\r\n            }\r\n        }\r\n\r\n        \r\n        \r\n        if (isDone){\r\n            self.$component.addClass('done');\r\n\r\n            if (self.compareQuestion){\r\n                if (self.compareQuestion.attempts.length){\r\n                    var compareAttemptsArray = self.compareQuestion.attempts[self.compareQuestion.attempts.length-1];\r\n                    if (compareAttemptsArray.length){\r\n                        console.log('compare', compareAttemptsArray);\r\n                        $options.each(function(){\r\n                            var optionIndex = $(this).data('index');\r\n                            if (compareAttemptsArray[optionIndex] == 1){\r\n                                $(this).addClass('previouslySelected').find('.option-compare-selection').slideDown();\r\n                            }\r\n                        });\r\n                        // choose feedback to display\r\n                        if (self.compareQuestion.correct == 1 && isCorrect){\r\n                            self.$feedback.find('.feedbackCompareCorrectCorrect').show();\r\n                        }\r\n                        if (self.compareQuestion.correct == 1 && !isCorrect){\r\n                            self.$feedback.find('.feedbackCompareCorrectIncorrect').show();\r\n                        } \r\n                        if (self.compareQuestion.correct == 0 && isCorrect){\r\n                            self.$feedback.find('.feedbackCompareIncorrectCorrect').show();\r\n                        }\r\n                        if (self.compareQuestion.correct == 0 && !isCorrect){\r\n                            self.$feedback.find('.feedbackCompareIncorrectIncorrect').show();\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            if (self.answerArray[0] != 'NA'){\r\n                $optionsThisAttempt.each(function(){\r\n                    var $this = $(this);\r\n                    var optionIndex = $this.data('index');\r\n                    \r\n                    var timeline = svgUtils.animateSVG('tickcross', $this);\r\n                    timeline.restart();\r\n                    //timeline.stop();\r\n                    $this.addClass(self.answerArray[optionIndex] === 1 ? 'correct' : 'incorrect');\r\n\r\n                    var correctLabel = '';\r\n                    if ($this.hasClass('selected')){\r\n                        timeline.play();\r\n                        correctLabel = courseData.getAccessibleLabel(self.answerArray[optionIndex] === 1 ? 'correct' : 'incorrect');\r\n                    } else {\r\n                        if (self.answerArray[optionIndex] === 1){\r\n                            correctLabel = courseData.getAccessibleLabel('correctMissed');\r\n                        }\r\n                        // $(this).addClass('correct');\r\n                        timeline.play();\r\n                        timeline.delay(2);\r\n                        // $this.attr('aria-checked', 'true');\r\n                        \r\n                    } \r\n                    if (correctLabel != ''){\r\n                        $this.find('.btnText span').prepend('<span class=\"sr-only\">'+correctLabel+'&nbsp;</span>');\r\n                    }\r\n                });\r\n            }\r\n            self.componentController.setComponentComplete(self);\r\n        } else {\r\n            if (self.answerArray[0] != 'NA'){\r\n                $optionsThisAttempt.filter('.selected').each(function(){\r\n                    var optionIndex = $(this).data('index');\r\n                    $(this).addClass(self.answerArray[optionIndex] === 1 ? 'correct' : 'incorrect');\r\n                    var timeline = svgUtils.animateSVG('tickcross', $(this));\r\n                });\r\n            }\r\n        }\r\n    }));\r\n}\r\n\r\n/**\r\n * @public\r\n * @override \r\n * @description  This function fired on checkDone\r\n */\r\nComponentMcqtawa.prototype.checkDone = function(){\r\n    var self = this;\r\n\r\n    var $options = self.$component.find('.option');\r\n\r\n    if (self.numToSelect == 0 \r\n    || (self.numToSelect == -1 && $options.filter('.selected').length > 0) \r\n    || (self.numToSelect > 0 && $options.filter('.selected').length == self.numToSelect)){\r\n        // activate ok\r\n        self.$component.find('.btn.ok').enable();\r\n    } else {\r\n        self.$component.find('.btn.ok').disable();\r\n    }\r\n}\r\n\r\n/**\r\n * @public\r\n * @override \r\n * @description  This function fired on retry\r\n */\r\nComponentMcqtawa.prototype.retry = function(){\r\n    var self = this;\r\n    //console.log('ComponentMcqtawa retry');\r\n    \r\n    self.$component.find('.btn.ok').show();\r\n//    var $tfoptions = self.$component.find('.tfoption');\r\n//    $tfoptions.enable();\r\n    //self.$component.removeClass('attempted');\r\n    \r\n//    var $options = self.$component.find('.option').not('.selected.correct').removeClass('selected disabled');\r\n    self.$component.find('.option.incorrect.selected').addClass('attempted').removeClass('selected');\r\n    // enable options not attempted and set to tabindex 0 so visually focusable\r\n    var $options = self.$component.find('.option').not('.attempted').enable().attr('tabindex', 0);\r\n//    $options.each(function(index){\r\n//        $(this).removeClass('selected');\r\n//        $(this).find('.tfoption').removeClass('selected disabled');\r\n//    });\r\n\r\n\tself.checkDone();\r\n\r\n    feedbackController.hideFeedback(self.$component, self.$feedback);\r\n    \r\n    self.$component.closest('.slide').find('.component-instruction').not(self.$feedback.find('.component-instruction')).slideDown();\r\n}\r\n\r\n/**\r\n * @public\r\n * @override \r\n * @description  This function fired on resize\r\n */\r\nComponentMcqtawa.prototype.resize = function(){\r\n    var self = this;\r\n\r\n    //resize when we're using columns so heights match\r\n    utils.matchElementHeights(self.$component.find('.options.options-cols .option .optionInner'), ['xs']);\r\n}\r\n\r\n/**\r\n * @public\r\n * @override \r\n * @description  This function is called on device breakpoint changed\r\n */\r\nComponentMcqtawa.prototype.breakpointChanged = function(){\r\n    var self = this;\r\n }\r\n","/**\r\n * @fileoverview This is used to create a Media component.\r\n * @class\r\n * @augments Component\r\n * @author LIVELOGIC\r\n * @version 1.0\r\n */\r\nfunction ComponentMedia(){\r\n}\r\n\r\nComponentMedia.prototype = Object.create(Component.prototype);\r\n\r\n/**\r\n * @function\r\n * @description  This function initialiases the component\r\n */\r\n ComponentMedia.prototype.init = function(_componentController, node, _id, _num){\r\n    Component.prototype.init.call(this, _componentController, node, _id, _num);\r\n\r\n    var self = this;\r\n\r\n    this.managesCompletion = true;\r\n    this.nextOnComplete = (this.dataNode.nextOnComplete == \"true\");\r\n    this.nextSlideOnComplete = (this.dataNode.nextSlideOnComplete == \"true\");\r\n\r\n    this.fullscreen = (self.dataNode.fullscreen == 'true');\r\n    this.autoplay = (self.dataNode.autoplay == 'true');\r\n    this.controls = !(self.dataNode.controls == 'false');\r\n    this.transcript = !(self.dataNode.transcript == 'false');\r\n\r\n    var srcExt = utils.getUrlExtension(this.dataNode.src);\r\n    this.isVideo = (srcExt == 'mp4' || srcExt == 'webm' || srcExt == 'ogv');\r\n    this.mediaTypeString = this.isVideo ? 'Media:Video' : 'Media:Audio';\r\n    this.showTranscriptState = false;\r\n    \r\n    this.isVideoInitialised = false;\r\n\r\n    // can the transcript button be part of the control bar? defaul is false;\r\n    this.controlTranscript = (self.dataNode.controlTranscript == 'true');\r\n\r\n    this.showTranscript = function(){\r\n        let $transcriptReveal = self.$component.find('.transcript-reveal');\r\n        $transcriptReveal.removeClass('collapsed').slideDown();\r\n        self.$component.find('.transcript-toggle-btn').attr('aria-expanded', true);\r\n        self.$component.find('.vjs-subtitles-button').attr('aria-expanded', true);\r\n        self.$component.find('.transcript-toggle-btn .transcript-icon-down').addClass('hide-transcript-icon');\r\n        self.$component.find('.transcript-toggle-btn .transcript-icon-up').removeClass('hide-transcript-icon');\r\n        self.showTranscriptState = true;\r\n    }\r\n\r\n    this.hideTranscript = function(){\r\n        let $transcriptReveal = self.$component.find('.transcript-reveal');\r\n        $transcriptReveal.addClass('collapsed').slideUp();\r\n        self.$component.find('.transcript-toggle-btn').attr('aria-expanded', false); \r\n        self.$component.find('.vjs-subtitles-button').attr('aria-expanded', false);  \r\n        self.$component.find('.transcript-toggle-btn .transcript-icon-down').removeClass('hide-transcript-icon');\r\n        self.$component.find('.transcript-toggle-btn .transcript-icon-up').addClass('hide-transcript-icon');\r\n        self.showTranscriptState = false;\r\n    }\r\n    this.handleShowTranscriptToggle = function(){\r\n        if (self.showTranscriptState){\r\n            self.hideTranscript();\r\n        } else {\r\n            self.showTranscript();\r\n        }\r\n    }\r\n    this.getCaptions = function(){\r\n        var displaySubtitles = true;\r\n        if(storageController.getCaptions() === null){\r\n            displaySubtitles = (self.dataNode.subtitles === \"true\") ? true: false;\r\n        } else {\r\n            displaySubtitles = storageController.getCaptions();\r\n        }\r\n        return displaySubtitles;\r\n    }\r\n}\r\n\r\n/**\r\n * @override \r\n * @description  This function adds the component HTML\r\n */\r\nComponentMedia.prototype.getHTML = function(){\r\n\tvar self = this;\r\n    // console.log('Video', this.id)\r\n    var path = utils.getMediaPath(this.dataNode.src);\r\n//    var vtt = this.dataNode.properties.vtt;\r\n//    if (vtt.indexOf('http') == -1){\r\n//        vtt = coursePath+'content/media/'+vtt;\r\n//    }\r\n    \r\n    var htmlStr = '';\r\n\r\n    if (this.isVideo){\r\n        // video player\r\n        //    htmlStr +='<video id=\"'+this.id+'-video\" class=\"video-js vjs-default-skin vjs-big-play-centered vjs-16-9\" controls';\r\n        htmlStr +='<video id=\"'+this.id+'-video\" class=\"video-js vjs-default-skin vjs-big-play-centered\"'+(self.controls ? ' controls' : '')+(self.autoplay ? ' autoplay' : '')+' playsinline';\r\n        if (this.dataNode.poster){\r\n            // do we have an image poster\r\n            var posterPath = utils.getFullPath('content/images/posters/', this.dataNode.poster);\r\n            htmlStr +=' poster=\"'+posterPath+'\"';\r\n        }\r\n        htmlStr +='>';\r\n        htmlStr += '<source src=\"'+path+'\" type=\"video/mp4\">';\r\n        // htmlStr += '<track kind=\"captions\" src=\"'+vtt+'\" srclang=\"en\" label=\"English\" default>';\r\n        htmlStr += '</video>';\r\n        \r\n    } else {\r\n        // audio player\r\n        htmlStr +='<audio id=\"'+this.id+'-audio\" class=\"video-js vjs-default-skin vjs-big-play-none'+(this.dataNode.poster ? '' : ' vjs-audio-no-poster')+'\"' + ` data-setup='{\"controlBar\": {\"pictureInPictureToggle\": false, \"fullscreenToggle\": false}}'`+(self.controls ? ' controls' : '')+(self.autoplay ? ' autoplay' : '');\r\n                if (this.dataNode.poster){\r\n                    // do we have an image poster\r\n                    var posterPath = utils.getFullPath('content/images/posters/', this.dataNode.poster);\r\n                    htmlStr +=' poster=\"'+posterPath+'\"';\r\n                }\r\n                htmlStr +='>';\r\n            htmlStr +='<source src=\"'+path+'\" type=\"audio/mp3\">';\r\n        htmlStr +='</audio>';\r\n    }\r\n    if (this.dataNode.fallback){\r\n        htmlStr += '<div class=\"fallbackMsg pull-right\">';\r\n            htmlStr += '<p>'+htmlUtils.getHTMLText(this.dataNode.fallback[0])+'</p>';\r\n        htmlStr += '</div>';\r\n    }\r\n    \r\n    var vtt = this.dataNode.vtt;\r\n    \r\n   \tif (vtt || self.transcript){\r\n        // show transcript\r\n        // if (!self.controlTranscript){\r\n        //     htmlStr += '<div/ id=\"'+this.id+'-transcript-accordion\" class=\"accordion-group\" role=\"tablist\" aria-multiselectable=\"true\">';\r\n        //         htmlStr += '<div class=\"accordion-item\">';\r\n        //             htmlStr += '<div id=\"'+this.id+'-heading\" class=\"\" role=\"tab\">';\r\n        //                 htmlStr += '<a class=\"accordion-button collapsed\" role=\"button\" data-toggle=\"collapse\" data-parent=\"#'+this.id+'-transcript-accordion\" href=\"#'+this.id+'-collapse\" aria-expanded=\"false\" aria-controls=\"'+this.id+'-collapse\">'\r\n        //                     htmlStr += '<div class=\"accordion-heading\">';\r\n        //                         htmlStr += '<div class=\"accordion-heading-text\">'+courseData.data.settings[0].navigation[0].btn_HideTranscript[0].Text+'</div>';\r\n        //                         htmlStr += '<div class=\"accordion-heading-text accordion-heading-text-collapsed\">'+courseData.data.settings[0].navigation[0].btn_ShowTranscript[0].Text+'</div>';\r\n        //                     htmlStr += '</div>';\r\n        //                 htmlStr += '</a>';\r\n        //             htmlStr += '</div>';\r\n        //             htmlStr += '<div id=\"'+this.id+'-collapse\" class=\"collapse\" role=\"tabpanel\" aria-labelledby=\"'+this.id+'-heading\">';\r\n        //                 htmlStr += '<div class=\"accordion-reveal\" tabindex=\"-1\"></div>';\r\n        //             htmlStr += '</div>';\r\n        //         htmlStr += '</div>';\r\n        //     htmlStr += '</div>';\r\n        // } else {\r\n            htmlStr += `\r\n                <button class=\"transcript-toggle-btn btn${!self.controlTranscript ? ' btn-transcript-only' : ''} mt-3\" aria-expanded=\"false\">\r\n                    ${courseData.getBtnText('Transcript')}\r\n                    <div class=\"transcript-icon transcript-icon-down\" aria-hidden=\"true\">${svgUtils.createSVG('chevron-down')}</div>\r\n                    <div class=\"transcript-icon transcript-icon-up hide-transcript-icon\" aria-hidden=\"true\">${svgUtils.createSVG('chevron-up')}</div>\r\n                </button>`;\r\n            htmlStr += '<div id=\"'+self.id+'-transcript-reveal\" class=\"transcript-reveal collapsed\">';\r\n                // htmlStr += '<div class=\"transcript-title\">'+courseData.getBtnText('Transcript')+'</div>';\r\n                htmlStr += '<div class=\"transcript-text\">';\r\n                // if we have a transcript node then populate from that, otherwise use the vtt file (later)\r\n                if (self.transcript && self.dataNode.transcript != undefined){\r\n                    htmlStr += htmlUtils.getHTMLText(self.dataNode.transcript[0]);\r\n                }\r\n                htmlStr += '</div>';\r\n            htmlStr += '</div>';\r\n        // }\r\n   }\r\n    \r\n    // transcript\r\n    \r\n    return htmlStr;\r\n} \r\n\r\n/**\r\n * @function\r\n * @description  This function sets up the component\r\n */\r\nComponentMedia.prototype.setupComponent = function(){\r\n    Component.prototype.setupComponent.call(this);\r\n    \r\n    var self = this;   \r\n}\r\n\r\n/**\r\n * @function\r\n * @description  This function fires when sets up complete\r\n */\r\nComponentMedia.prototype.setupComplete = function(){\r\n    Component.prototype.setupComplete.call(this);\r\n    \r\n    var self = this;\r\n\r\n    if (self.fullscreen){\r\n        self.$component.addClass('fullscreen');\r\n    }\r\n    if (self.nextOnComplete){\r\n        self.$component.addClass('nextOnComplete');\r\n    }\r\n    if (self.nextSlideOnComplete){\r\n        self.$component.addClass('nextSlideOnComplete');\r\n    }\r\n    \r\n    if (!self.controlTranscript){\r\n        // if no transcript button on player control bar then add click event to separate transcript button\r\n        self.$component.find('.transcript-toggle-btn').on('click', utils.handleClickAndPress(function (e) {\r\n            if (e.type === 'click' || (e.type === 'keypress' && e.keyCode === 13)) {\r\n                e.preventDefault();\r\n                var $this = $(e.currentTarget);\r\n                self.handleShowTranscriptToggle();\r\n                self.componentController.setComponentComplete(self);\r\n            }\r\n        }));\r\n    }\r\n}\r\n    \r\n/**\r\n * @public\r\n * @override \r\n * @description  This function fired when component is displayed\r\n */\r\nComponentMedia.prototype.componentDisplayed = function(){\r\n    Component.prototype.componentDisplayed.call(this);\r\n    var self = this;\r\n\r\n    // console.log(self.mediaTypeString, 'componentDisplayed');  \r\n    \r\n    var vtt = this.dataNode.vtt;\r\n    // var displaySubtitles = (this.dataNode.subtitles === \"true\") ? true: storageController.getCaptions();\r\n    // var displaySubtitles = (this.dataNode.subtitles === \"true\") ? true: false;\r\n\r\n    var displaySubtitles = this.getCaptions();\r\n    \r\n    // console.log(\"storageController.getCaptions()\", storageController.getCaptions());\r\n    \r\n    if (vtt){\r\n        if (vtt.indexOf('http') == -1){\r\n            vtt = utils.getURL(langPath+'xml/subtitles/'+vtt);\r\n        }\r\n    }\r\n\r\n    var mediaplayer = null;\r\n    if(self.isVideo){\r\n        // using the video player\r\n        mediaplayer = videojs(self.id+'-video', {\r\n            fluid: (!self.fullscreen ? true : false),\r\n            fill: (self.fullscreen ? true : false),\r\n            language: languageConfig.languages[currentLanguage].iana_code,\r\n            muted: audioController ? audioController.isMuted : false,\r\n            // playbackRates: [1, 1.5, 2],\r\n    //        fill: true\r\n    //        responsive: \r\n            textTrackSettings: false // Make the text track settings dialog not initialize.\r\n        });\r\n    } else {\r\n        // using the audio player\r\n        mediaplayer = videojs(self.id+'-audio', {\r\n            fluid: (self.dataNode.poster ? true : false),\r\n            fill: (self.fullscreen ? true : false),\r\n            language: languageConfig.languages[currentLanguage].iana_code,\r\n            muted: audioController ? audioController.isMuted : false,\r\n            textTrackSettings: false // Make the text track settings dialog not initialize.\r\n        });\r\n        \r\n        if(!displaySubtitles){\r\n            self.$component.find('.video-js').addClass(\"hide-video-area\");\r\n        }\r\n    }\r\n\r\n    self.isVideoInitialised = true;\r\n    \r\n\r\n    if (vtt && self.transcript || self.transcript){\r\n        if (self.controlTranscript){\r\n            var button = videojs.getComponent('Button');\r\n            var transcriptButton = videojs.getComponent('transcriptButton-'+self.componentID);\r\n            // console.log('transcriptButton', transcriptButton);\r\n            if (!transcriptButton){\r\n                var transcriptButton = videojs.extend(button, {\r\n                    constructor: function() {\r\n                        button.apply(this, arguments);\r\n                        this.controlText(courseData.getBtnText('Transcript'));\r\n                        this.addClass('vjs-subtitles-button');\r\n                        var $this = $(this);\r\n                        $this.attr('aria-expanded', false);\r\n                        $this.attr('aria-controls', self.id+'-transcript-reveal');\r\n                    },\r\n                    handleClick: function() {\r\n                        // Access the player element\r\n                        var playerElement = this.player().el();\r\n                        var $component = $(playerElement).closest('.component');\r\n                        // console.log(playerElement);\r\n                        console.log('transcriptButton handleClick');\r\n                        \r\n                        var componentController = contentController.getComponentControllerForElement($component);\r\n                        var component = componentController.getComponentObject($component);\r\n                        // this.player().dispose();\r\n                        component.handleShowTranscriptToggle();\r\n                        // set component complete\r\n                        componentController.setComponentComplete(component);\r\n\r\n                    }\r\n                });\r\n                videojs.registerComponent('transcriptButton-'+self.componentID, transcriptButton);\r\n            }\r\n            \r\n            mediaplayer.getChild('controlBar').addChild('transcriptButton-'+self.componentID, {});\r\n        }\r\n    }\r\n\r\n    // this is called when the video is ready\r\n    mediaplayer.on('ready', function() {\r\n        // console.log(self.mediaTypeString, 'ready', mediaplayer);     \r\n        \r\n        self.isReady = true;\r\n        \r\n        self.$component.find('.vjs-big-play-button .vjs-icon-placeholder').html(svgUtils.createSVG('play'));\r\n\r\n        setTimeout(function(){\r\n            // hook into subitles button\r\n            // console.log('video ready', self.$component.find('.vjs-subtitles-menu-item'));\r\n            self.$component.find('.vjs-subs-caps-button .vjs-menu-item').on('click', function(){\r\n                // console.log('.vjs-subtitles-menu-item CLICK', mediaplayer.textTracks()[0].mode);\r\n                displaySubtitles = mediaplayer.textTracks()[0].mode == 'showing' ? true : false;\r\n                if(displaySubtitles && !self.dataNode.poster && !self.isVideo){\r\n                    self.$component.find('.video-js').removeClass(\"hide-video-area\");\r\n                } else {\r\n                    self.$component.find('.video-js').addClass(\"hide-video-area\");\r\n                }\r\n                storageController.setCaptions(displaySubtitles);\r\n            });\r\n        }, 500);\r\n\r\n        if (vtt){\r\n            // only create transcript if we have a vtt file and we don't have a transcript node\r\n            if (self.transcript && self.dataNode.transcript == undefined){\r\n                // auto generate transcript from content of VTT\r\n                // console.log(vtt);\r\n                var endOfSentenceChars = ['.','?','!',':'];\r\n                $.get(vtt, function(response) {\r\n                    var cueTexts = response.split(/[\\n\\r]/g).filter(function(entry){\r\n                        return entry && isNaN(entry) && !(entry.match(/WEBVTT/) || entry.match((/(\\d{2}:){1,2}\\d{2}\\.\\d{3}/)));\r\n                    });\r\n                    var htmlStr = '';\r\n                    var continueSentence = false;\r\n                    for (var i = 0; i < cueTexts.length; i++) {\r\n                        var vttStr = cueTexts[i].trim().replace(/<(\\w+)\\.(\\w+)>(.*)<\\/\\1>/, \"<span class=\\\"$2\\\">$3<\\/span>\");\r\n                        // console.log(vttStr);\r\n                        if (!continueSentence){\r\n                            htmlStr += '<p>';\r\n                        }\r\n                        htmlStr += vttStr;\r\n                        if (endOfSentenceChars.indexOf(vttStr.charAt(vttStr.length-1)) != -1 || i == cueTexts.length-1){\r\n                            // htmlStr += '<p>'+vttStr+'</p>';\r\n                            continueSentence = false;\r\n                            htmlStr += '</p>';\r\n                        } else {\r\n                            continueSentence = true;\r\n                            htmlStr += ' '; // add a space\r\n                        }\r\n                        \r\n                    }\r\n                    // self.$component.find('.accordion-reveal').html(htmlStr);\r\n                    self.$component.find('.transcript-text').html(htmlStr);\r\n                });\r\n            }\r\n            // add track subtitleslanguageConfig.languages[currentLanguage].code\r\n            var trackEl = mediaplayer.addRemoteTextTrack({label:languageConfig.languages[currentLanguage].language, srclang:languageConfig.languages[currentLanguage].iana_code, src: vtt}, false);\r\n            trackEl.addEventListener('load', function() {\r\n                //console.log(mediaplayer.textTracks())\r\n                if (displaySubtitles){\r\n                    var track = mediaplayer.textTracks()[0].mode = 'showing';\r\n                }\r\n                \r\n            //    var htmlStr = '';\r\n            //    for (var i = 0; i < track.cues.length; i++) {\r\n            //        htmlStr += '<p>'+track.cues[i].text+'</p>';\r\n            //    }\r\n\r\n            //    self.$component.find('.accordion-reveal').html(htmlStr);\r\n            \r\n            });\r\n        }\r\n    });  \r\n    \r\n    var eventID = 'Page '+navigationController.currentPage+' Slide '+self.componentController.slideObj.slideNum+' '+ self.dataNode.src+' '+(self.dataNode.title ? self.dataNode.title[0].Text : '');\r\n    \r\n    mediaplayer.on('play', function() {\r\n        console.log(self.mediaTypeString, 'play');\r\n        \r\n        // check any other playing videos - pause if playing\r\n        $('.component-media, .component-video, .component-audio').not(self.$component).each(function(){\r\n\r\n            var componentController = contentController.getComponentControllerForElement($(this));\r\n            componentController.getComponentObject($(this)).pause();\r\n            // contentController.slideArray[$(this).closest('.slide').data('slide')].componentController.componentObjectsArray[$(this).data('componentindex')].pause();\r\n        });\r\n        \r\n        displaySubtitles = self.getCaptions();\r\n        if (displaySubtitles){\r\n            mediaplayer.textTracks()[0].mode = 'showing';\r\n            if(!self.isVideo){\r\n            \tself.$component.find('.video-js').removeClass(\"hide-video-area\");\r\n            }\r\n        } else {\r\n            mediaplayer.textTracks()[0].mode = 'hidden';\r\n            self.$component.find('.video-js').addClass(\"hide-video-area\");\r\n        }\r\n        \r\n        if (courseConfig.googleAnalytics.enabled){\r\n            gtag('event', 'Play', {\r\n              'event_category' : 'Video',\r\n              'event_label' : eventID\r\n            });\r\n        }\r\n        storageController.setObjective('Video-'+eventID, 'incomplete', 'Video started');\r\n    });\r\n    \r\n    mediaplayer.on('ended', function() {\r\n        console.log(self.mediaTypeString,'complete')\r\n        if (courseConfig.googleAnalytics.enabled){\r\n            gtag('event', 'Complete', {\r\n              'event_category' : self.isVideo ? 'Video' : 'Audio',\r\n              'event_label' : eventID\r\n            });\r\n        }\r\n        storageController.setObjective(self.mediaTypeString+'-'+eventID, 'completed', self.mediaTypeString+' complete');\r\n\t\t\r\n\t\t// fire event\r\n        self.$component.trigger(courseEvent.VIDEO_COMPLETE);\r\n        \r\n        // set component complete\r\n        // self.componentController.setComponentComplete(self);\r\n\r\n        self.videoComplete();\r\n    });\r\n\tmediaplayer.on('error', function() {\r\n        console.warn(self.mediaTypeString, 'error - setting complete', mediaplayer.error())\r\n    });\r\n    \r\n    if (vtt){\r\n        self.$component.find('a.accordion-button').on('click', function(){\r\n            // set component complete\r\n            self.componentController.setComponentComplete(self);\r\n        });\r\n\r\n        // self.$component.find('.btn.continueBtn').on('click', function(){\r\n            \r\n        //     self.videoComplete();\r\n        // });\r\n    }\r\n    if (self.dataNode.fallback){\r\n        self.$component.find('.fallbackMsg a').on('click', function(){\r\n        \r\n            // set component complete\r\n            self.componentController.setComponentComplete(self);\r\n        });\r\n    }\r\n\r\n    // audio muted?\r\n    $(document).on(courseEvent.AUDIO_OFF, function(){\r\n        mediaplayer.muted(true);\r\n    });\r\n    $(document).on(courseEvent.AUDIO_ON, function(){\r\n        mediaplayer.muted(false);\r\n    });\r\n}\r\n\r\n/**\r\n * @public\r\n * @override \r\n * @description  This function is called on unload\r\n */\r\nComponentMedia.prototype.unload = function(){\r\n    var self = this;\r\n    if (self.isVideoInitialised){\r\n        console.log(self.mediaTypeString, 'unload');\r\n        var mediaplayer = videojs(this.id+'-'+(self.isVideo ? 'video' : 'audio'));\r\n        mediaplayer.dispose();\r\n    }\r\n}\r\n\r\n/**\r\n * @public\r\n * @override \r\n * @description  This function is to play the video\r\n */\r\n ComponentMedia.prototype.play = function(){\r\n    var self = this;\r\n    if (self.isVideoInitialised){\r\n        console.log(self.mediaTypeString, 'play');\r\n        var mediaplayer = videojs(this.id+'-'+(self.isVideo ? 'video' : 'audio'));\r\n        mediaplayer.play();\r\n    }\r\n}\r\n\r\n/**\r\n * @public\r\n * @override \r\n * @description  This function is called on pause\r\n */\r\nComponentMedia.prototype.pause = function(){\r\n    var self = this;\r\n    if (self.isVideoInitialised){\r\n        console.log(self.mediaTypeString, 'pause');\r\n        var mediaplayer = videojs(this.id+'-'+(self.isVideo ? 'video' : 'audio'));\r\n        mediaplayer.pause();\r\n    }\r\n}\r\n\r\n/**\r\n * @public\r\n * @override \r\n * @description  This function is called on stop\r\n */\r\n ComponentMedia.prototype.stop = function(){\r\n    var self = this;\r\n    if (self.isVideoInitialised){\r\n        console.log(self.mediaTypeString, 'stop');\r\n        var mediaplayer = videojs(this.id+'-'+(self.isVideo ? 'video' : 'audio'));\r\n        mediaplayer.pause();\r\n        // mediaplayer.seek(0);\r\n    }\r\n}\r\n\r\n/**\r\n * @public\r\n * @override \r\n * @description  This function is called on videoComplete\r\n */\r\nComponentMedia.prototype.videoComplete = function(){\r\n    var self = this;\r\n\r\n    // set component complete\r\n    self.componentController.setComponentComplete(self);\r\n\r\n    if (self.nextSlideOnComplete){\r\n        contentController.scrollSlideIntoView(self.$component.closest('.slide').next().index());\r\n    } else if (self.nextOnComplete){\r\n        navigationController.nextPage();\r\n    } \r\n}","/**\r\n * @fileoverview This is used to create a Valuereveal component.\r\n * @class\r\n * @augments Component\r\n * @author LIVELOGIC\r\n * @version 1.0\r\n */\r\nfunction ComponentMenu(){\r\n}\r\n\r\nComponentMenu.prototype = Object.create(Component.prototype);\r\n\r\n/**\r\n * @function\r\n * @description  This function adds the component HTML\r\n */\r\nComponentMenu.prototype.init = function(_componentController, node, _id, _num){\r\n    Component.prototype.init.call(this, _componentController, node, _id, _num);\r\n\r\n    this.managesCompletion = true;\r\n}\r\n\r\n/**\r\n * @function\r\n * @description  This function adds the component HTML\r\n */\r\nComponentMenu.prototype.getHTML = function(){\r\n    var self = this;\r\n//    console.log('ComponentButton.prototype.getHTML', this.dataNode.text[0].Text);\r\n    var htmlStr = '';\r\n    \r\n    var menuArray = courseData.data.settings[0].menu;\r\n    self.moduleCount = 0;\r\n    self.incompleteCount = 0;\r\n    var firstMandatoryModule = 1000;\r\n    var firstLockedModule = 1000;\r\n    \r\n    self.assessmentModuleCount = 0;\r\n    self.assessmentMandatoryModuleCount = 0;\r\n    \r\n    //var POST_ASSESSMENT_MODULE_NO = 6; \r\n    \r\n    for (var i = 0; i < menuArray.length; i++){\r\n        if (menuArray[i]){ \r\n//            if (courseData.navData.module[i].disabled || (i == POST_ASSESSMENT_MODULE_NO && preAssessment.data.perc == 100)){\r\n            if (courseData.navData.module[i].disabled || !storageController.isModuleActive(i) || !navigationController.isModuleValidForRole(i)){\r\n                // skip this module\r\n                continue;\r\n            }\r\n            var moduleData = courseData.getModuleData(i);\r\n            if (moduleData.assessmentBank){\r\n                self.assessmentModuleCount ++;\r\n                if (storageController.isModuleMandatory(i)){\r\n                    self.assessmentMandatoryModuleCount ++;\r\n                }\r\n            }\r\n            \r\n            self.moduleCount ++;\r\n            if (storageController.isModuleMandatory(i)){\r\n                if (!storageController.isModuleComplete(i)){\r\n                    firstMandatoryModule = Math.min(firstMandatoryModule, i);\r\n                    self.incompleteCount ++;\r\n\r\n                    // is module acccessed in linear order\r\n                    var isLinear = (courseData.getModuleData(i).linear == \"false\") ? false : true;\r\n                    if (isLinear){\r\n                        firstLockedModule = Math.min(firstLockedModule, i);\r\n                    }\r\n                }    \r\n            }\r\n        }\r\n    }\r\n    htmlStr += '<div class=\"row\">';\r\n    console.log('ComponentMenu', firstLockedModule, firstMandatoryModule, navigationConfig.developerUnlock)\r\n    for (var i = 0; i < menuArray.length; i++){\r\n        if (menuArray[i]){    \r\n            var menuNum = i;//courseData.data.settings[0].menu[i]\r\n            \r\n            // console.log('ComponentMenu', storageController.isModuleActive(i), navigationController.isModuleValidForRole(i))\r\n            if (storageController.isModuleActive(i) && navigationController.isModuleValidForRole(i)){\r\n//            if (menuNum != POST_ASSESSMENT_MODULE_NO || (menuNum == POST_ASSESSMENT_MODULE_NO && preAssessment.data.perc < 100)){\r\n                // if score 100% on pre assessment, dont show post assessment\r\n\r\n                // from navigation.xml\r\n                var moduleClassStr = \"\";\r\n                var ariaDisabled = 'false';\r\n                var isModuleComplete = false;\r\n                if (storageController.isModuleComplete(i)){\r\n                    isModuleComplete = true;\r\n                    moduleClassStr += ' done';\r\n                    if (courseData.navData.module[i].return == 'false'){\r\n                        moduleClassStr += ' locked disabled';\r\n                        ariaDisabled = 'true';\r\n                    }\r\n                } else {\r\n                    if (storageController.isModuleMandatory(i)){\r\n                         moduleClassStr += ' mandatory';\r\n                    } \r\n                    if (courseData.navData.module[menuNum].disabled){\r\n                        // force module to be disabled\r\n                        moduleClassStr += ' locked disabled';\r\n                        ariaDisabled = 'true';\r\n                    } else if ((i > firstLockedModule || (i >= firstLockedModule && i > firstMandatoryModule)) && !navigationConfig.developerUnlock && navigationConfig.moduleLock){\r\n                        moduleClassStr += ' locked disabled';\r\n                        ariaDisabled = 'true';\r\n                    } \r\n                }\r\n\r\n                // get first page\r\n                var firstPageInModule = navigationController.getFirstPageValidForRole(i);\r\n                // console.log('getFirstPageValidForRole', firstPageInModule)\r\n\r\n                htmlStr += '<div class=\"col-sm-4\">';\r\n                    htmlStr += '<div class=\"menuItemWrap anim fadeInRight\" data-module=\"'+menuNum+'\" data-page=\"'+firstPageInModule+'\">';\r\n                    var path = utils.getImagePath(courseData.data.module[menuNum].img);\r\n                        // htmlStr += '<div class=\"menu-card-body\">';\r\n                            htmlStr += '<div class=\"menu-card-body\" style=\"background-image: url('+path+'); background-size:cover;\">';\r\n                            htmlStr += '<div class=\"\">';\r\n                                htmlStr += '<div class=\" a-button module-btn'+moduleClassStr+'\" role=\"button\" tabindex=\"0\" aria-disabled=\"'+ariaDisabled+'\">';\r\n        //                        htmlStr += '<div class=\"tile-bar\"></div>';\r\n        //                        htmlStr += '<div class=\"row\">';\r\n        //                            htmlStr += '<div class=\"col-xs-3 col-sm-6\">';\r\n        //                            htmlStr += '<div class=\"col-xs-6\">';\r\n                                        var path = utils.getImagePath(courseData.data.module[menuNum].img);\r\n                                        // htmlStr += '<div class=\"image-container\">';\r\n                                            htmlStr += '<div aria-hidden=\"true\" class=\"image-wrap\" >';\r\n                                                // htmlStr += '<img class=\"img-responsive\" src=\"'+path+'\"/>';\r\n                                                htmlStr += '<div class=\"image-overlay\"></div>';\r\n                                            htmlStr += '</div>';\r\n                                        // htmlStr += '</div>';\r\n                                    //htmlStr += '</div>';\r\n        //                            htmlStr += '<div class=\"col-xs-9 col-sm-6\">';\r\n        //                            htmlStr += '<div class=\"col-xs-6\">';\r\n                                        htmlStr += '<div class=\"module\">';\r\n        //                                    htmlStr += '<div class=\"a-button module-tile '+moduleClassStr+'\">';\r\n    //                                        htmlStr += '<div class=\"module-tile '+moduleClassStr+'\">';\r\n                                            htmlStr += '<div class=\"module-tile\">';\r\n                                                // htmlStr += '<div class=\"tile-bar\"></div>';\r\n                                                htmlStr += '<div class=\"tile-title\"><span>'+courseData.data.module[menuNum].title[0].Text+'</span></div>';\r\n                                                htmlStr += '<span class=\"sr-only\">'+(isModuleComplete ? ' '+courseData.getAccessibleLabel('complete') : '')+'</span>';\r\n                                                htmlStr += '<div class=\"status mr-3\" aria-hidden=\"true\">';\r\n                                                    htmlStr += '<div class=\"status-icon\"></div>';\r\n                                                htmlStr += '</div>';\r\n                                                if (courseData.data.module[menuNum].info){\r\n                                                htmlStr += '<div class=\"tile-content\">'+htmlUtils.getHTMLText(courseData.data.module[menuNum].info[0])+'</div>';\r\n                                                }\r\n                                                if (courseData.data.module[menuNum].time){\r\n                                                htmlStr += '<div class=\"tile-time\">'+htmlUtils.getHTMLText(courseData.data.module[menuNum].time[0])+'</div>';\r\n                                                }\r\n                                            htmlStr += '</div>';\r\n                                            \r\n                                        htmlStr += '</div>';\r\n        //                            htmlStr += '</div>';\r\n                                htmlStr += '</div>';\r\n                            htmlStr += '</div>';\r\n                            if (menuArray[i].submenu.length){\r\n                            htmlStr += '<div class=\"col-sm-12 col-md-9 col-lg-6\">';\r\n                                htmlStr += '<div class=\"submodulesWrap\">';\r\n                                    htmlStr += '<div class=\"submodules\">';\r\n                                        // htmlStr += '<div class=\"row\">';\r\n                                        for (var j = 0; j < menuArray[i].submenu.length; j++){\r\n                                            var isPageComplete = storageController.isPageComplete(navigationController.getModulePageIndex(i, menuArray[i].submenu[j].page));\r\n                                            // htmlStr += '<div class=\"col-lg-6\">';\r\n                                                htmlStr += '<a class=\"submodule-btn'+(isPageComplete ? ' done' : '')+'\" data-module=\"'+i+'\" data-page=\"'+menuArray[i].submenu[j].page+'\" data-slide=\"'+menuArray[i].submenu[j].slide+'\">';\r\n                                                    htmlStr += '<div class=\"submodule-title\">'+menuArray[i].submenu[j].title+'</div>';\r\n                                                    htmlStr += '<div class=\"status\"><div class=\"status-icon\"></div></div>';\r\n                                                htmlStr += '</a>';\r\n                                            // htmlStr += '</div>';\r\n                                        }\r\n                                        // htmlStr += '</div>';\r\n                                    htmlStr += '</div>';\r\n                                htmlStr += '</div>';\r\n                            htmlStr += '</div>';\r\n                            }\r\n                        htmlStr += '</div>';\r\n                    htmlStr += '</div>';\r\n                htmlStr += '</div>';\r\n            }\r\n        }\r\n    }\r\n    htmlStr += '</div>';\r\n    return htmlStr;\r\n}\r\n\r\n\r\n/**\r\n * @public\r\n * @override \r\n * @description  This function fired when component is displayed\r\n */\r\nComponentMenu.prototype.componentDisplayed = function(){\r\n    Component.prototype.componentDisplayed.call(this);\r\n\r\n    var self = this;\r\n    \r\n    //console.log(self.$component.closest('.slide').find('.allMandatory'))\r\n    if (self.assessmentMandatoryModuleCount  == self.assessmentModuleCount){\r\n        self.$component.closest('.slide').find('.allMandatory').removeClass('hidden');\r\n    } else if (self.assessmentMandatoryModuleCount > 0){\r\n        self.$component.closest('.slide').find('.someMandatory').removeClass('hidden');\r\n    } else {\r\n        self.$component.closest('.slide').find('.noneMandatory').removeClass('hidden');\r\n    }\r\n    \r\n    self.$component.find('.module-btn').on('click keypress', utils.handleClickAndPress(function (e) {\r\n        var $this = $(e.currentTarget);\r\n        if ($this.hasClass('disabled') || $this.hasClass('clicked')){\r\n            return false;\r\n        }\r\n\r\n        var $submodules = $this.closest('.menuItemWrap').find('.submodules');\r\n        if ($submodules.length){\r\n            // has submodules\r\n            $submodules.toggleClass('shown');\r\n            if (!responsiveUtils.isCurrentViewport('lg')){\r\n                $submodules.slideToggle();\r\n            }\r\n        } else {\r\n            $this.addClass('clicked');\r\n            // go to module\r\n            var $module = $this.closest('.menuItemWrap');\r\n            navigationController.changePageToData($module.data('module'), $module.data('page'), 0);\r\n        }\r\n    \r\n    })); \r\n\r\n    self.$component.find('.submodule-btn').on('click keypress', utils.handleClickAndPress(function (e) {\r\n        var $this = $(e.currentTarget);\r\n        if ($this.hasClass('disabled') || $this.hasClass('clicked')){\r\n            return false;\r\n        }\r\n\r\n        $this.addClass('clicked');\r\n        navigationController.changePageToData($this.data('module'), $this.data('page'), $this.data('slide'));\r\n    \r\n    })); \r\n    \r\n}\r\n\r\n/**\r\n * @public\r\n * @override \r\n * @description  This function fired on resize\r\n */\r\nComponentMenu.prototype.resize = function(){\r\n    var self = this;\r\n\r\n    self.$component.find('.module-btn').each(function(index){\r\n        var $this = $(this);\r\n        if (!self.splitText){\r\n            self.splitText = [];\r\n        }\r\n        if (self.splitText[index]){\r\n            self.splitText[index].revert();\r\n        } \r\n        self.splitText[index] = new SplitText($this.find('.tile-title > span'), {type: 'lines', tag: 'span', linesClass: ''});\r\n    });\r\n}\r\n    \r\n\r\n/**\r\n * @function\r\n * @description  This function sets up the component\r\n */\r\n//ComponentValuereveal.prototype.setupComponent = function(){\r\n//    Component.prototype.setupComponent.call(this);\r\n//    this.$component.addClass('btn');\r\n//    if (this.dataNode.properties){\r\n//        if (this.dataNode.properties.src){\r\n//            this.$component.addClass('btn-image');\r\n//        }\r\n//    }\r\n//}\r\n","/**\r\n * @fileoverview This is used to create a separator component.\r\n * @class\r\n * @augments Component\r\n * @author LIVELOGIC\r\n * @version 1.0\r\n */\r\nfunction ComponentSeparator(){\r\n}\r\n\r\nComponentSeparator.prototype = Object.create(Component.prototype);\r\n\r\n/**\r\n * @function \r\n * @description  This function adds the component HTML\r\n */\r\nComponentSeparator.prototype.getHTML = function(){\r\n    var htmlStr = '';\r\n    return htmlStr;\r\n} \r\n","/**\r\n * @fileoverview This is used to create a Text component.\r\n * @class\r\n * @augments Component\r\n * @author LIVELOGIC\r\n * @version 1.0\r\n */\r\nfunction ComponentText(){\r\n}\r\n\r\nComponentText.prototype = Object.create(Component.prototype);\r\n\r\n/**\r\n * @function\r\n * @description  This function adds the component HTML\r\n */\r\nComponentText.prototype.init = function(_componentController, node, _id, _num){\r\n    Component.prototype.init.call(this, _componentController, node, _id, _num);\r\n   \r\n    var self = this;\r\n\r\n   \r\n\r\n    self.textanim = (self.dataNode.textanim == \"true\");\r\n    self.textanimTimeline;\r\n\r\n    //if (self.textanim){\r\n       self.managesCompletion = true;\r\n    // } else {\r\n    //     self.managesCompletion = false;\r\n    // }\r\n}\r\n\r\n/**\r\n * @override \r\n * @description  This function adds the component HTML\r\n */\r\nComponentText.prototype.getHTML = function(){\r\n    var self = this;\r\n    var htmlStr = '';\r\n    if (courseConfig.dataFormat == 'xml') {\r\n        htmlStr += htmlUtils.getHTMLText(this.dataNode);\r\n    } else {\r\n        htmlStr += this.dataNode.content.text; \r\n    } \r\n    \r\n    //htmlStr += this.componentController.generateComponents(this.dataNode);\r\n    //this.dataNode.content[0].text : this.dataNode.content.text;//this.dataNode.content.text;//'<textarea class=\"form-control\"></textarea>';//componentController.getHTMLText(dataNode);\r\n    return htmlStr;\r\n} \r\n\r\n/**\r\n * @public\r\n * @override \r\n * @description  This function fired when component is displayed\r\n */\r\nComponentText.prototype.componentDisplayed = function(){\r\n    Component.prototype.componentDisplayed.call(this);\r\n\r\n    var self = this;\r\n\r\n    if (self.textanim){\r\n\r\n        self.$component.on('inview_anim_complete', function(){\r\n            // console.log('inview_anim_complete');\r\n            self.textanimTimeline.play();\r\n        });\r\n\r\n        // self.$component.find('.anim').last().on('inview_anim_complete', function(){\r\n        //     // set component complete\r\n        //     self.componentController.setComponentComplete(self);\r\n        // });\r\n    } else {\r\n        var $anims = htmlUtils.findAnims(self.$component, ':visible');//self.$component.find('.anim').filter(':visible');\r\n        if ($anims.length){\r\n            $anims.last().on('inview_anim_complete', function(){\r\n                // console.log('ComponentText inview_anim_complete', self.id)\r\n                // set component complete\r\n                self.componentController.setComponentComplete(self);\r\n            });\r\n        } else {\r\n            // set component complete\r\n            self.componentController.setComponentComplete(self);\r\n        }\r\n    }   \r\n}\r\n\r\n/**\r\n * @public\r\n * @override \r\n * @description  This function fired when component is displayed\r\n */\r\nComponentText.prototype.setupComplete = function(){\r\n    Component.prototype.setupComplete.call(this);\r\n    \r\n    var self = this;\r\n\r\n    if (self.textanim){ \r\n        var $typeEl = self.$component;//.find('.email-body');\r\n        //console.log($typeEl);\r\n        var mySplitText;\r\n        self.textanimTimeline = new gsap.timeline({\r\n            onComplete: function(){\r\n                mySplitText.revert();\r\n                // set component complete\r\n                self.componentController.setComponentComplete(self);\r\n            }\r\n        });//TimelineLite();\r\n        \r\n        $typeEl.children().each(function(){\r\n            //console.log($(this)[0].nodeName);\r\n            if ($(this)[0].nodeName.toUpperCase() == 'H4'){\r\n                self.textanimTimeline.from($(this), .5, {opacity: 0, y: 10});\r\n            } else {\r\n                // check if RTL language - gsap SplitText not compatible with RTL\r\n                if (languageConfig.languages[currentLanguage].direction != 'rtl'){\r\n                    mySplitText = new SplitText($(this), {type:\"words,chars\"});\r\n                    self.textanimTimeline.staggerFrom(mySplitText.chars, .5, {opacity: 0, y: 10}, 0.05);\r\n                } else {                    \r\n                    mySplitText = new SplitText($(this), {type:\"words\"});\r\n                    self.textanimTimeline.staggerFrom(mySplitText.words, .5, {opacity: 0, y: 10}, 0.1);\r\n                }\r\n            }\r\n        });\r\n\r\n            //mySplitText = new SplitText($typeEl, {type:\"words,chars\"});\r\n\r\n        // console.log(self.textanimTimeline.duration());\r\n        self.textanimTimeline.pause();\r\n    }\r\n}\r\n\r\n\r\n/**\r\n * @public\r\n * @override \r\n * @description  This function is called on browser resize\r\n */\r\nComponentText.prototype.resize = function(){\r\n    var self = this;    \r\n    \r\n    if (self.splitText){\r\n        self.splitText.revert();\r\n    }\r\n    self.splitText = new SplitText(self.$component.find('.heading-with-bg > span'), {type: 'lines', tag: 'span', linesClass: 'st-line'});\r\n}","/**\r\n * @fileoverview This is used to create a Callout component.\r\n * @class\r\n * @augments Component\r\n * @author LIVELOGIC\r\n * @version 1.0\r\n */\r\nfunction ComponentCallout(){\r\n}\r\n\r\nComponentCallout.prototype = Object.create(Component.prototype);\r\n\r\n/**\r\n * @function\r\n * @description  This function initialiases the component\r\n */\r\nComponentCallout.prototype.init = function(_componentController, node, _id, _num){\r\n    Component.prototype.init.call(this, _componentController, node, _id, _num);\r\n\r\n    this.managesCompletion = true;\r\n}\r\n\r\n/**\r\n * @function\r\n * @description  This function sets up the component\r\n */\r\nComponentCallout.prototype.setupComponent = function(){\r\n    Component.prototype.setupComponent.call(this);\r\n    \r\n    var self = this;\r\n}\r\n\r\n/**\r\n * @override \r\n * @description  This function adds the component HTML\r\n */\r\nComponentCallout.prototype.getHTML = function(){\r\n    var self = this;\r\n    \r\n    var htmlStr = '';\r\n    htmlStr += '<div class=\"svgIcon\">'+svgUtils.createSVG('plusminus')+'</div>';\r\n    htmlStr += '<div class=\"callout-inner\">';\r\n    var classStr = this.dataNode.class ? this.dataNode.class : '';\r\n    if (classStr.indexOf('callout-question') != -1 || classStr.indexOf('callout-quotation') != -1){\r\n        htmlStr += '<div class=\"quotation'+(classStr.indexOf('callout-quotation-small') != -1 ? ' quotationSmall' : '')+'\">';\r\n            htmlStr += '<div class=\"quotation-icon-ldquo\">'+svgUtils.createSVG('ldquo')+'</div>';\r\n            htmlStr += '<div class=\"quotation-icon-rdquo\">'+svgUtils.createSVG('rdquo')+'</div>';\r\n            htmlStr += '<div class=\"quotationContent\">';\r\n        }\r\n        htmlStr += this.componentController.generateComponents(this.dataNode);//htmlUtils.getHTMLText(this.dataNode.text[0]);\r\n        \r\n    if (classStr.indexOf('callout-question') != -1 || classStr.indexOf('callout-quotation') != -1){\r\n            htmlStr += '</div>';\r\n        htmlStr += '</div>';\r\n    }\r\n    htmlStr += '</div>';\r\n    return htmlStr;\r\n} \r\n\r\n/**\r\n * @function\r\n * @description  This function sets up the component\r\n */\r\nComponentCallout.prototype.setupComplete = function(){\r\n    Component.prototype.setupComponent.call(this);\r\n    \r\n    var self = this;\r\n    \r\n    // check if RTL language\r\n    if (languageConfig.languages[currentLanguage].direction == 'rtl'){\r\n        // if (self.$component.hasClass('left')){\r\n        //     self.$component.removeClass('left').addClass('right');\r\n        // }\r\n        // if (self.$component.hasClass('right')){\r\n        //     self.$component.removeClass('right').addClass('left');\r\n        // }\r\n        // if (self.$component.hasClass('top-left')){\r\n        //     self.$component.removeClass('top-left').addClass('top-right');\r\n        // }\r\n        // if (self.$component.hasClass('bottom-left')){\r\n        //     self.$component.removeClass('bottom-left').addClass('bottom-right');\r\n        // }\r\n        // if (self.$component.hasClass('right-top')){\r\n        //     self.$component.removeClass('right-top').addClass('left-top');\r\n        // }\r\n        // if (self.$component.hasClass('left-top')){\r\n        //     self.$component.removeClass('left-top').addClass('right-top');\r\n        // }\r\n        htmlUtils.replaceClassesBasedOnTextDirection(self.$component, {\r\n            'left': 'right', \r\n            'right': 'left', \r\n            'top-left': 'top-right', \r\n            'top-right': 'top-left', \r\n            'bottom-left': 'bottom-right', \r\n            'bottom-right': 'bottom-left', \r\n            'left-top': 'right-top', \r\n            'right-top': 'left-top'\r\n        });\r\n    }\r\n    \r\n    if (self.$component.hasClass('callout-reveal')){\r\n        self.$component.addClass('action');\r\n        self.$component.on('click', function(){\r\n            if ($(this).hasClass('disabled')){\r\n                return false;    \r\n            }\r\n            $(this).disable();\r\n            \r\n            var $svgIcon = $(this).find('.svgIcon');\r\n            svgUtils.animateSVG('plusminus', $svgIcon);\r\n            $svgIcon.delay(.5).animate({ opacity: 0 },function(){\r\n                $svgIcon.hide();\r\n                self.$component.addClass('shown').find('.callout-inner').slideDown();\r\n                \r\n                // set component complete\r\n                self.componentController.setComponentComplete(self);\r\n            })\r\n        });\r\n        \r\n    } \r\n\r\n    // self.$component.on('inview_anim_start', function(){\r\n    //     console.log('ComponentCallout::inview_anim_start')\r\n    // });\r\n\r\n    // if (self.$component.find('.component-carousel')){\r\n    //     self.$component.addClass('hasCarousel');\r\n    // }\r\n\r\n    var ldquoTimeline = svgUtils.animateSVG('ldquo', self.$component);\r\n    ldquoTimeline.pause();\r\n    var rdquoTimeline = svgUtils.animateSVG('rdquo', self.$component);\r\n    rdquoTimeline.pause();\r\n\r\n    self.$component.on('inview_anim_start', function(e){\r\n        console.log('ComponentCallout::inview_anim_start', e)\r\n        ldquoTimeline.play();\r\n        rdquoTimeline.play();\r\n    });\r\n\r\n    self.$component.on('inview_anim_complete', function(){\r\n        // console.log('ComponentCallout::inview_anim_complete');\r\n        if (!self.$component.hasClass('action')){\r\n            // set component complete\r\n            self.componentController.setComponentComplete(self);\r\n        }\r\n    });\r\n}\r\n\r\n\r\n/**\r\n * @public\r\n * @override \r\n * @description  This function fired when component is displayed\r\n */\r\nComponentCallout.prototype.componentDisplayed = function(){\r\n    Component.prototype.componentDisplayed.call(this);\r\n\r\n    console.log('ComponentCallout.prototype.componentDisplayed')\r\n    var self = this;\r\n    \r\n    /*self.timeline = new TimelineLite(), \r\n    mySplitText = new SplitText(self.$component.find('.quotationContent'), {type:\"chars, words\"});\r\n\r\n    self.timeline.set(self.$component.find('.quotationContent'), {perspective: 400});\r\n\r\n    self.timeline.staggerFrom(mySplitText.chars, 1, {\r\n        opacity:0, \r\n        // scale:2, \r\n        // rotation:45,  \r\n        // rotationX:90,  \r\n        // transformOrigin:\"100% 100%\",\r\n        // color: '#0460A9',\r\n        y:'+20', \r\n        ease:\"back\"\r\n    },  0.005);\r\n\r\n    self.timeline.eventCallback(\"onComplete\", function(){\r\n        console.log('complete')\r\n        mySplitText.revert();\r\n    });\r\n\r\n    self.timeline.pause();\r\n    self.$component.on('inview_anim_complete', function(){\r\n        \r\n        self.timeline.restart();\r\n        self.timeline.play();\r\n    });*/\r\n    \r\n\r\n    if (self.$component.hasClass('callout-reveal')){\r\n        \r\n    } else {\r\n        // set component complete\r\n        // self.componentController.setComponentComplete(self);\r\n    }\r\n\r\n}","/**\r\n * @fileoverview This is used to create an Image component.\r\n * @class\r\n * @augments Component\r\n * @author LIVELOGIC\r\n * @version 1.0\r\n */\r\nfunction ComponentHeaderimage(){\r\n}\r\n\r\nComponentHeaderimage.prototype = Object.create(Component.prototype);\r\n\r\n/**\r\n * @function\r\n * @description  This function initialiases the component\r\n */\r\nComponentHeaderimage.prototype.init = function(_componentController, node, _id, _num){\r\n    Component.prototype.init.call(this, _componentController, node, _id, _num);\r\n\r\n    this.managesCompletion = false;\r\n}\r\n\r\n/**\r\n * @function\r\n * @description  This function adds the component HTML\r\n */\r\nComponentHeaderimage.prototype.getHTML = function(){\r\n    var self = this;\r\n    //var path = utils.getFullPath(coursePath+'content/images/', this.dataNode.src);\r\n    //var htmlStr = '<div style=\"background-image: url('+path+')\"></div>';\r\n\r\n    var htmlStr = '';\r\n\r\n    // if (self.dataNode){\r\n    htmlStr += '<div class=\"section noPadding\">';\r\n        htmlStr += '<div class=\"container\">';\r\n            htmlStr += '<div class=\"row\">';\r\n                htmlStr += '<div class=\"col-sm-9\">';\r\n                    htmlStr += '<div class=\"overlay\">';\r\n                        htmlStr += '<div class=\"overlayContent\">';                        \r\n                            htmlStr += htmlUtils.getHTMLText(self.dataNode);\r\n                        htmlStr += '</div>';\r\n                    htmlStr += '</div>';\r\n                htmlStr += '</div>';\r\n            htmlStr += '</div>';\r\n        htmlStr += '</div>';\r\n    htmlStr += '</div>';\r\n    // }\r\n    \r\n    return htmlStr;\r\n} \r\n\r\n\r\n/**\r\n * @function\r\n * @description  This function sets up the component\r\n */\r\nComponentHeaderimage.prototype.setupComponent = function(){\r\n    Component.prototype.setupComponent.call(this);\r\n    //var path = utils.getFullPath(coursePath+'content/images/', this.dataNode.src);\r\n    //this.$component.addClass('btn');\r\n    \r\n    if (this.dataNode.backgroundImage){\r\n        this.$component.addClass('hasImage');\r\n\r\n    }\r\n}\r\n\r\n/**\r\n * @public\r\n * @override \r\n * @description  This function fired when component is displayed\r\n */\r\nComponentHeaderimage.prototype.componentDisplayed = function(){\r\n    Component.prototype.componentDisplayed.call(this);\r\n\r\n//    console.log('ComponentImage.prototype.componentDisplayed');\r\n}","/**\r\n * @fileoverview This is used to create a Panel component.\r\n * @class\r\n * @augments Component\r\n * @author LIVELOGIC\r\n * @version 1.0\r\n */\r\nfunction ComponentPanel(){\r\n}\r\n\r\nComponentPanel.prototype = Object.create(Component.prototype);\r\n\r\n/**\r\n * @function\r\n * @description  This function initialiases the component\r\n */\r\nComponentPanel.prototype.init = function(_componentController, node, _id, _num){\r\n    Component.prototype.init.call(this, _componentController, node, _id, _num);\r\n\r\n    //this.managesCompletion = false;\r\n}\r\n\r\n/**\r\n * @function\r\n * @description  This function sets up the component\r\n */\r\nComponentPanel.prototype.setupComponent = function(){\r\n    Component.prototype.setupComponent.call(this);\r\n    \r\n    var self = this;   \r\n    \r\n    //console.log('PANEL', this.$component)\r\n    var svg = this.dataNode.svg;\r\n    if (svg){\r\n        var timeline = svgUtils.animateSVG(svg, this.$component);\r\n        timeline.pause();\r\n        this.$component.on('inview_anim_complete', function(){\r\n            //console.log('inview_anim_complete', self.$component, timeline);\r\n            timeline.play();\r\n        });\r\n    }\r\n}\r\n\r\n/**\r\n * @function\r\n * @description  This function adds the component HTML\r\n */\r\nComponentPanel.prototype.getHTML = function(){\r\n    var htmlStr = '';\r\n    var hasIcon = false;\r\n    if (this.dataNode.svg){\r\n        hasIcon = true;\r\n    }\r\n\r\n    htmlStr += '<div class=\"panel-inner'+(hasIcon ? ' has-icon' : '')+'\">';\r\n        if (hasIcon){\r\n            htmlStr += '<div class=\"panel-icon svg-icon\">'+svgUtils.createSVG(this.dataNode.svg)+'</div>';\r\n        }\r\n        htmlStr += '<div class=\"panel-content\">';\r\n            htmlStr += this.componentController.generateComponents(this.dataNode);\r\n        htmlStr += '</div>';\r\n    htmlStr += '</div>';\r\n    \r\n    //console.log('PANEL getHTML', this.id)\r\n    \r\n    return htmlStr;\r\n}\r\n\r\n/**\r\n * @public\r\n * @override \r\n * @description  This function is called on unload\r\n */\r\nComponentPanel.prototype.unload = function(){\r\n    var self = this;    \r\n}\r\n\r\n/**\r\n * @public\r\n * @override \r\n * @description  This function fired when component is displayed\r\n */\r\nComponentPanel.prototype.componentDisplayed = function(){\r\n    Component.prototype.componentDisplayed.call(this);\r\n\r\n    var self = this;    \r\n    \r\n    \r\n    \r\n    // set component complete\r\n    //self.componentController.setComponentComplete(self);\r\n}\r\n/**\r\n * @public\r\n * @override \r\n * @description  This function is called on browser resize\r\n */\r\nComponentPanel.prototype.resize = function(){\r\n    var self = this;    \r\n}\r\n","/**\r\n * @fileoverview This is used to create a Button component.\r\n * @class\r\n * @augments Component\r\n * @author LIVELOGIC\r\n * @version 1.0\r\n */\r\nfunction ComponentTab(){\r\n}\r\n\r\nComponentTab.prototype = Object.create(Component.prototype);\r\n\r\n/**\r\n * @function\r\n * @description  This function adds the component HTML\r\n */\r\nComponentTab.prototype.init = function(_componentController, node, _id, _num){\r\n    Component.prototype.init.call(this, _componentController, node, _id, _num);\r\n\r\n    this.managesCompletion = true;\r\n}\r\n\r\n/**\r\n * @function\r\n * @description  This function adds the component HTML\r\n */\r\nComponentTab.prototype.getHTML = function(){\r\n//    console.log('ComponentButton.prototype.getHTML', this.dataNode.text[0].Text);\r\n//    var htmlStr = '<div class=\"btnText\">';\r\n//    if (courseConfig.dataFormat == 'json'){\r\n//        htmlStr += this.dataNode.content.text;\r\n//    } else {\r\n//        htmlStr += this.dataNode.text[0].Text\r\n//    }\r\n//    htmlStr += '</div>';\r\n    var isXML = courseConfig.dataFormat == 'xml';\r\n    var headerHtmlStr = '';\r\n    var htmlStr = '';\r\n    var items = this.dataNode.item;\r\n    //htmlStr += '<div id=\"'+this.id+'-tab\" class=\"tab-group\" role=\"tablist\" aria-multiselectable=\"true\">';\r\n    for (var i = 0; i < items.length; i++){  \r\n        var title = htmlUtils.getHTMLText(items[i].title[0]);\r\n        var text = this.componentController.generateComponents(items[i].reveal[0]);\r\n        var tabImage;\r\n        if (items[i].svg){\r\n            tabImage = svgUtils.createSVG(items[i].svg);\r\n        } else if (items[i].src){\r\n            var path = utils.getImagePath(items[i].src);\r\n            tabImage = '<img src=\"'+path+'\" class=\"img-responsive\"';\r\n            \r\n            if (items[i].alt){\r\n                tabImage += ' alt=\"'+items[i].alt[0].Text+'\"';\r\n            }\r\n            tabImage += '/>';            \r\n        }\r\n        var classStr = '';\r\n        var expanded = 'true';\r\n        if (i > 0){\r\n            expanded = 'false';\r\n            classStr = ' ';//'moduleBtnInvert';\r\n        } else if (i == 0){\r\n            classStr = ' active done';\r\n        }\r\n    headerHtmlStr += '<div class=\"panel tabWrap hidden-xs'+(tabImage ? '' : ' noicon')+'\">';\r\n        headerHtmlStr += '<div id=\"'+this.id+'-heading'+i+'\" class=\"\" role=\"tab\">';\r\n            headerHtmlStr += '<a class=\"tab-button moduleBtn'+classStr+'\" role=\"button\" data-toggle=\"collapse\" data-index=\"'+i+'\" data-parent=\"#'+this.id+'-tab\" href=\"#'+this.id+'-collapse'+i+'\" aria-expanded=\"'+expanded+'\" aria-controls=\"'+this.id+'-collapse'+i+'\">';\r\n                headerHtmlStr += '<div class=\"tab-icon\">'+tabImage+'</div>';\r\n                headerHtmlStr += '<div class=\"tab-heading\">';\r\n                    headerHtmlStr += title\r\n                headerHtmlStr += '</div>';\r\n            headerHtmlStr += '</a>';\r\n        headerHtmlStr += '</div>';\r\n    headerHtmlStr += '</div>';\r\n    htmlStr += '<div class=\"panel tabAccordionWrap'+(tabImage ? '' : ' noicon')+'\">';\r\n        htmlStr += '<div id=\"'+this.id+'-heading'+i+'\" class=\"visible-xs\" role=\"tab\">';\r\n            htmlStr += '<a class=\"tab-button moduleBtn'+classStr+'\" role=\"button\" data-toggle=\"collapse\" data-index=\"'+i+'\" data-parent=\"#'+this.id+'-tab\" href=\"#'+this.id+'-collapse'+i+'\" aria-expanded=\"'+expanded+'\" aria-controls=\"'+this.id+'-collapse'+i+'\">'\r\n                htmlStr += '<div class=\"tab-icon\">'+tabImage+'</div>';\r\n                htmlStr += '<div class=\"tab-heading\">';\r\n                    htmlStr += title\r\n                htmlStr += '</div>';\r\n            htmlStr += '</a>';\r\n        htmlStr += '</div>';\r\n        var collapsedClass=' collapse';\r\n        if (i == 0){\r\n            collapsedClass=' in';\r\n        }\r\n        htmlStr += '<div id=\"'+this.id+'-collapse'+i+'\" class=\"panel-collapse lightGreyBkg'+collapsedClass+'\" role=\"tabpanel\" aria-labelledby=\"'+this.id+'-heading'+i+'\">';\r\n            htmlStr += '<div class=\"panel-body tab-reveal\">'+text+'</div>';\r\n        htmlStr += '</div>';\r\n    htmlStr += '</div>';\r\n    }\r\n    //htmlStr += '</div>';\r\n    htmlStr = '<div id=\"'+this.id+'-tab\" class=\"tab-group\" role=\"tablist\" aria-multiselectable=\"true\">'+headerHtmlStr+htmlStr+'</div>';\r\n    \r\n    return htmlStr;\r\n}\r\n\r\n// /**\r\n//  * @function\r\n//  * @description  This function sets up the component\r\n//  */\r\n// ComponentXXX.prototype.setupComponent = function(){\r\n//     Component.prototype.setupComponent.call(this);\r\n    \r\n//     var self = this;  \r\n    \r\n//     self.$component.on('keydown', function(){\r\n//         console.log(\"keydown\");\r\n//     });\r\n// }\r\n\r\n/**\r\n * @function\r\n * @description  This function sets up the component\r\n */\r\n ComponentTab.prototype.setupComplete = function(){\r\n    Component.prototype.setupComplete.call(this);\r\n    \r\n    var self = this;\r\n\r\n    var $options = self.$component.find('.tab-button');\r\n    var tabOptions = $options.slice(0, $options.length / 2).toArray();\r\n\r\n    var nrOptions = $options.length / 2;\r\n\r\n    self.$component.on('keydown', function(event){\r\n        var activeIdx = 0;\r\n        for(var i = 0; i < $options.length; i++){\r\n            if($options[i] == document.activeElement){\r\n                activeIdx = i;\r\n                break;\r\n            }\r\n        }\r\n        var nextActiveIdx;\r\n        switch(event.key) {\r\n            case \"ArrowLeft\":\r\n                if(activeIdx === 0){\r\n                    nextActiveIdx = nrOptions - 1;\r\n                } else {\r\n                    nextActiveIdx = activeIdx - 1;\r\n                }\r\n                tabOptions[nextActiveIdx].focus();\r\n                break;\r\n            case \"ArrowRight\":\r\n                if(activeIdx === nrOptions - 1){\r\n                    nextActiveIdx = 0;\r\n                } else {\r\n                    nextActiveIdx = activeIdx + 1; \r\n                }\r\n                tabOptions[nextActiveIdx].focus();\r\n                break;\r\n            default: \r\n                break;\r\n        }\r\n    });\r\n    \r\n    //$reveals.first().collapse('show');\r\n    \r\n    $options.on('click', function(e){\r\n        var $this = $(this);\r\n        if ($this.hasClass('active')){\r\n            e.preventDefault();\r\n            return false;\r\n        }\r\n        $options.removeClass('active');\r\n        // find corresponding button in tab/accordion\r\n        var $bothOptions = $options.filter(function(){\r\n            return ($(this).data('index') == $this.data('index'))\r\n        })\r\n        $bothOptions.addClass('done active');\r\n        //$(this).removeClass('moduleBtnInvert');\r\n        //$options.not($(this)).enable().addClass('moduleBtnInvert');\r\n        \r\n        \r\n        //$reveals.collapse('hide');\r\n        if ($(this).hasClass('collapsed')){\r\n//            svgUtils.animateSVG('plusminus', $(this));\r\n            // hide any others tht are open\r\n            //self.$component.find('.tab-reveal').parent().not($(this).attr('href')).collapse('hide');\r\n        } else {\r\n//            svgUtils.animateSVG('plusminus-reverse', $(this));\r\n            //self.$component.find('.collapse').not($(this).attr('href')).collapse('show');\r\n        }\r\n\r\n        \r\n\r\n        //self.childComponents.each\r\n        \r\n        //self.componentController.self.$component.find('.component').componentDisplayed();\r\n        \r\n        var $collapse = self.$component.find($(this).attr('href'));\r\n        setTimeout(function(){\r\n            self.componentController.showChildComponents($collapse);\r\n        },100);\r\n\r\n        setTimeout(function(){\r\n            navigationController.checkForScroll();\r\n        },1000)\r\n        \r\n        //console.log($options.filter('.done').length, $options.length);\r\n        if ($options.filter('.done').length === $options.length){\r\n            // set component complete\r\n            self.componentController.setComponentComplete(self);\r\n        }\r\n    }); \r\n }\r\n\r\n/**\r\n * @public\r\n * @override \r\n * @description  This function fired when component is displayed\r\n */\r\nComponentTab.prototype.componentDisplayed = function(){\r\n    Component.prototype.componentDisplayed.call(this);\r\n\r\n    \r\n    \r\n}\r\n\r\n/**\r\n * @public\r\n * @override \r\n * @description  This function fired on resize\r\n */\r\nComponentTab.prototype.resize = function(){\r\n    var self = this;\r\n    \r\n    var $tabHeadings = self.$component.find('.tabWrap .tab-heading');\r\n    \r\n    var maxHeight = 0;\r\n    $tabHeadings.height('auto');\r\n    $tabHeadings.each(function(){\r\n        maxHeight = Math.max(maxHeight, $(this).height());\r\n    });\r\n    $tabHeadings.height(maxHeight);\r\n\r\n}\r\n","/**\r\n * @fileoverview This is used to create a GSFMenu component.\r\n * @class\r\n * @augments Component\r\n * @author LIVELOGIC\r\n * @version 1.0\r\n */\r\nfunction ComponentGSFMenu(){\r\n}\r\n\r\nComponentGSFMenu.prototype = Object.create(Component.prototype);\r\n\r\n/**\r\n * @function\r\n * @description  This function adds the component HTML\r\n */\r\nComponentGSFMenu.prototype.init = function(_componentController, node, _id, _num){\r\n    Component.prototype.init.call(this, _componentController, node, _id, _num);\r\n\r\n    this.managesCompletion = true;\r\n}\r\n\r\n/**\r\n * @function\r\n * @description  This function adds the component HTML\r\n */\r\nComponentGSFMenu.prototype.getHTML = function(){\r\n    var self = this;\r\n//    console.log('ComponentButton.prototype.getHTML', this.dataNode.text[0].Text);\r\n    var htmlStr = '';\r\n    \r\n    var menuArray = courseData.data.settings[0].menu;\r\n    self.moduleCount = 0;\r\n    self.incompleteCount = 0;\r\n    var firstMandatoryModule = 1000;\r\n    var firstLockedModule = 1000;\r\n    \r\n    self.assessmentModuleCount = 0;\r\n    self.assessmentMandatoryModuleCount = 0;\r\n    \r\n    //var POST_ASSESSMENT_MODULE_NO = 6; \r\n    \r\n    for (var i = 0; i < menuArray.length; i++){\r\n        if (menuArray[i]){ \r\n//            if (courseData.navData.module[i].disabled || (i == POST_ASSESSMENT_MODULE_NO && preAssessment.data.perc == 100)){\r\n            if (courseData.navData.module[i].disabled || !storageController.isModuleActive(i) || !navigationController.isModuleValidForRole(i)){\r\n                // skip this module\r\n                continue;\r\n            }\r\n            var moduleData = courseData.getModuleData(i);\r\n            if (moduleData.assessmentBank){\r\n                self.assessmentModuleCount ++;\r\n                if (storageController.isModuleMandatory(i)){\r\n                    self.assessmentMandatoryModuleCount ++;\r\n                }\r\n            }\r\n            \r\n            self.moduleCount ++;\r\n            if (storageController.isModuleMandatory(i)){\r\n                if (!storageController.isModuleComplete(i)){\r\n                    firstMandatoryModule = Math.min(firstMandatoryModule, i);\r\n                    self.incompleteCount ++;\r\n\r\n                    // is module acccessed in linear order\r\n                    var isLinear = (courseData.getModuleData(i).linear == \"false\") ? false : true;\r\n                    if (isLinear){\r\n                        firstLockedModule = Math.min(firstLockedModule, i);\r\n                    }\r\n                }    \r\n            }\r\n        }\r\n    }\r\n    htmlStr += '<div class=\"row gsfmenu-flex-row\">';\r\n    console.log('ComponentGSFMenu', firstLockedModule, firstMandatoryModule, navigationConfig.developerUnlock)\r\n    for (var i = 0; i < menuArray.length; i++){\r\n        if (menuArray[i]){    \r\n            var menuNum = i;//courseData.data.settings[0].menu[i]\r\n            \r\n            // console.log('ComponentGSFMenu', storageController.isModuleActive(i), navigationController.isModuleValidForRole(i))\r\n            if (storageController.isModuleActive(i) && navigationController.isModuleValidForRole(i)){\r\n//            if (menuNum != POST_ASSESSMENT_MODULE_NO || (menuNum == POST_ASSESSMENT_MODULE_NO && preAssessment.data.perc < 100)){\r\n                // if score 100% on pre assessment, dont show post assessment\r\n\r\n                // from navigation.xml\r\n                var moduleClassStr = \"\";\r\n                var ariaDisabled = 'false';\r\n                var isModuleComplete = false;\r\n                if (storageController.isModuleComplete(i)){\r\n                    isModuleComplete = true;\r\n                    moduleClassStr += ' done';\r\n                    if (courseData.navData.module[i].return == 'false'){\r\n                        moduleClassStr += ' locked disabled';\r\n                        ariaDisabled = 'true';\r\n                    }\r\n                } else {\r\n                    if (storageController.isModuleMandatory(i)){\r\n                         moduleClassStr += ' mandatory';\r\n                    } \r\n                    if (courseData.navData.module[menuNum].disabled){\r\n                        // force module to be disabled\r\n                        moduleClassStr += ' locked disabled';\r\n                        ariaDisabled = 'true';\r\n                    } else if ((i > firstLockedModule || (i >= firstLockedModule && i > firstMandatoryModule)) && !navigationConfig.developerUnlock && navigationConfig.moduleLock){\r\n                        moduleClassStr += ' locked disabled';\r\n                        ariaDisabled = 'true';\r\n                    } \r\n                }\r\n\r\n                // get first page\r\n                var firstPageInModule = navigationController.getFirstPageValidForRole(i);\r\n                // console.log('getFirstPageValidForRole', firstPageInModule)\r\n\r\n                htmlStr += '<div class=\"col-sm-4\">';\r\n                    htmlStr += '<div class=\"menuItemWrap anim fadeInRight\" data-module=\"'+menuNum+'\" data-page=\"'+firstPageInModule+'\">';\r\n                    // var path = utils.getImagePath(courseData.data.module[menuNum].img);\r\n                        // htmlStr += '<div class=\"menu-card-body\">';\r\n                        htmlStr += '<div class=\"menu-card-body\" style=\"\">';\r\n                            // htmlStr += '<div class=\"\">';\r\n                            htmlStr += '<div class=\" a-button module-btn'+moduleClassStr+'\" role=\"button\" tabindex=\"0\" aria-disabled=\"'+ariaDisabled+'\">';\r\n        //                        htmlStr += '<div class=\"tile-bar\"></div>';\r\n        //                        htmlStr += '<div class=\"row\">';\r\n        //                            htmlStr += '<div class=\"col-xs-3 col-sm-6\">';\r\n        //                            htmlStr += '<div class=\"col-xs-6\">';\r\n                                        var path = utils.getImagePath(courseData.data.module[menuNum].img);\r\n                                        var inactive_path = utils.getImagePath(courseData.data.module[menuNum].imgGrey);\r\n                                        // htmlStr += '<div class=\"image-container\">';\r\n                                            htmlStr += '<div aria-hidden=\"true\" class=\"image-wrap\" >';\r\n                                                htmlStr += '<img class=\"img-responsive active-image\" src=\"'+path+'\"/>';\r\n                                                htmlStr += '<img class=\"img-responsive inactive-image\" src=\"'+inactive_path+'\"/>';\r\n                                                // htmlStr += '<div class=\"image-overlay\" style=\"background-image: url('+path+')\"></div>';\r\n                                                htmlStr += '<div class=\"image-overlay\"></div>';\r\n                                            htmlStr += '</div>';\r\n                                        // htmlStr += '</div>';\r\n                                    //htmlStr += '</div>';\r\n        //                            htmlStr += '<div class=\"col-xs-9 col-sm-6\">';\r\n        //                            htmlStr += '<div class=\"col-xs-6\">';\r\n                                        htmlStr += '<div class=\"module\">';\r\n        //                                    htmlStr += '<div class=\"a-button module-tile '+moduleClassStr+'\">';\r\n    //                                        htmlStr += '<div class=\"module-tile '+moduleClassStr+'\">';\r\n                                            htmlStr += '<div class=\"module-tile\">';\r\n                                                // htmlStr += '<div class=\"tile-bar\"></div>';\r\n                                                htmlStr += '<div class=\"tile-title\"><span>'+courseData.data.module[menuNum].title[0].Text+'</span></div>';\r\n                                                htmlStr += '<span class=\"sr-only\">'+(isModuleComplete ? ' '+courseData.getAccessibleLabel('complete') : '')+'</span>';\r\n                                                htmlStr += '<div class=\"status\" aria-hidden=\"true\">';\r\n                                                    htmlStr += '<div class=\"status-icon\"></div>';\r\n                                                htmlStr += '</div>';\r\n                                                if (courseData.data.module[menuNum].info){\r\n                                                htmlStr += '<div class=\"tile-content\">'+htmlUtils.getHTMLText(courseData.data.module[menuNum].info[0])+'</div>';\r\n                                                }\r\n                                                if (courseData.data.module[menuNum].time){\r\n                                                htmlStr += '<div class=\"tile-time\">'+htmlUtils.getHTMLText(courseData.data.module[menuNum].time[0])+'</div>';\r\n                                                }\r\n                                            htmlStr += '</div>';\r\n                                            \r\n                                        htmlStr += '</div>';\r\n        //                            htmlStr += '</div>';\r\n                                // htmlStr += '</div>';\r\n                            htmlStr += '</div>';\r\n                            if (menuArray[i].submenu.length){\r\n                            htmlStr += '<div class=\"col-sm-12 col-md-9 col-lg-6\">';\r\n                                htmlStr += '<div class=\"submodulesWrap\">';\r\n                                    htmlStr += '<div class=\"submodules\">';\r\n                                        // htmlStr += '<div class=\"row\">';\r\n                                        for (var j = 0; j < menuArray[i].submenu.length; j++){\r\n                                            var isPageComplete = storageController.isPageComplete(navigationController.getModulePageIndex(i, menuArray[i].submenu[j].page));\r\n                                            // htmlStr += '<div class=\"col-lg-6\">';\r\n                                                htmlStr += '<a class=\"submodule-btn'+(isPageComplete ? ' done' : '')+'\" data-module=\"'+i+'\" data-page=\"'+menuArray[i].submenu[j].page+'\" data-slide=\"'+menuArray[i].submenu[j].slide+'\">';\r\n                                                    htmlStr += '<div class=\"submodule-title\">'+menuArray[i].submenu[j].title+'</div>';\r\n                                                    htmlStr += '<div class=\"status\"><div class=\"status-icon\"></div></div>';\r\n                                                htmlStr += '</a>';\r\n                                            // htmlStr += '</div>';\r\n                                        }\r\n                                        // htmlStr += '</div>';\r\n                                    htmlStr += '</div>';\r\n                                htmlStr += '</div>';\r\n                            htmlStr += '</div>';\r\n                            }\r\n                        htmlStr += '</div>';\r\n                    htmlStr += '</div>';\r\n                htmlStr += '</div>';\r\n            }\r\n        }\r\n    }\r\n    htmlStr += '</div>';\r\n    return htmlStr;\r\n}\r\n\r\n\r\n/**\r\n * @public\r\n * @override \r\n * @description  This function fired when component is displayed\r\n */\r\nComponentGSFMenu.prototype.componentDisplayed = function(){\r\n    Component.prototype.componentDisplayed.call(this);\r\n\r\n    var self = this;\r\n    \r\n    //console.log(self.$component.closest('.slide').find('.allMandatory'))\r\n    if (self.assessmentMandatoryModuleCount  == self.assessmentModuleCount){\r\n        self.$component.closest('.slide').find('.allMandatory').removeClass('hidden');\r\n    } else if (self.assessmentMandatoryModuleCount > 0){\r\n        self.$component.closest('.slide').find('.someMandatory').removeClass('hidden');\r\n    } else {\r\n        self.$component.closest('.slide').find('.noneMandatory').removeClass('hidden');\r\n    }\r\n    \r\n    self.$component.find('.module-btn').on('click keypress', utils.handleClickAndPress(function (e) {\r\n        var $this = $(e.currentTarget);\r\n        if ($this.hasClass('disabled') || $this.hasClass('clicked')){\r\n            return false;\r\n        }\r\n\r\n        var $submodules = $this.closest('.menuItemWrap').find('.submodules');\r\n        if ($submodules.length){\r\n            // has submodules\r\n            $submodules.toggleClass('shown');\r\n            if (!responsiveUtils.isCurrentViewport('lg')){\r\n                $submodules.slideToggle();\r\n            }\r\n        } else {\r\n            $this.addClass('clicked');\r\n            // go to module\r\n            var $module = $this.closest('.menuItemWrap');\r\n            navigationController.changePageToData($module.data('module'), $module.data('page'), 0);\r\n        }\r\n    \r\n    })); \r\n\r\n    self.$component.find('.submodule-btn').on('click keypress', utils.handleClickAndPress(function (e) {\r\n        var $this = $(e.currentTarget);\r\n        if ($this.hasClass('disabled') || $this.hasClass('clicked')){\r\n            return false;\r\n        }\r\n\r\n        $this.addClass('clicked');\r\n        navigationController.changePageToData($this.data('module'), $this.data('page'), $this.data('slide'));\r\n    \r\n    })); \r\n    \r\n}\r\n\r\n/**\r\n * @public\r\n * @override \r\n * @description  This function fired on resize\r\n */\r\nComponentGSFMenu.prototype.resize = function(){\r\n    var self = this;\r\n\r\n    self.$component.find('.module-btn').each(function(index){\r\n        var $this = $(this);\r\n        if (!self.splitText){\r\n            self.splitText = [];\r\n        }\r\n        if (self.splitText[index]){\r\n            self.splitText[index].revert();\r\n        } \r\n        self.splitText[index] = new SplitText($this.find('.tile-title > span'), {type: 'lines', tag: 'span', linesClass: ''});\r\n    });\r\n}\r\n    \r\n\r\n/**\r\n * @function\r\n * @description  This function sets up the component\r\n */\r\n//ComponentValuereveal.prototype.setupComponent = function(){\r\n//    Component.prototype.setupComponent.call(this);\r\n//    this.$component.addClass('btn');\r\n//    if (this.dataNode.properties){\r\n//        if (this.dataNode.properties.src){\r\n//            this.$component.addClass('btn-image');\r\n//        }\r\n//    }\r\n//}\r\n","/**\n * @fileoverview This is used to create a Header component.\n * @class\n * @augments Component\n * @author LIVELOGIC\n * @version 1.0\n */\nfunction ComponentHeader(){\n}\n\nComponentHeader.prototype = Object.create(Component.prototype);\n\n/**\n * @function\n * @description  This function initialiases the component\n */\nComponentHeader.prototype.init = function(_componentController, node, _id, _num){\n    Component.prototype.init.call(this, _componentController, node, _id, _num);\n\n    var self = this;\n\n    //self.managesCompletion = false;\n}\n\n/**\n * @function\n * @description  This function adds the component HTML\n */\nComponentHeader.prototype.getHTML = function(){\n    var self = this;\n    \n    var htmlStr = `\n    <div class=\"header-container\">\n        <div class=\"row flex-row\">\n            <div class=\"col-sm-6 col-sm-offset-6\">\n                <div class=\"header-heading-container\">\n                    ${htmlUtils.getHTMLText(self.dataNode)}\n                </div>\n            </div>\n        </div>\n        <button class=\"btn header-btn\" aria-label=\"${courseData.getAccessibleLabel('scrollToContentView')}\">${svgUtils.createSVG('arrow-down')}</button>\n    </div>`\n     \n    \n    return htmlStr;\n}\n\n/**\n * @function\n * @description  This function sets up the component\n */\nComponentHeader.prototype.setupComponent = function(){\n    Component.prototype.setupComponent.call(this);\n    \n    var self = this;   \n}\n\n/**\n * @function\n * @description  This function fires when sets up complete\n */\nComponentHeader.prototype.setupComplete = function(){\n    Component.prototype.setupComplete.call(this);\n        \n    var self = this;   \n\n    // self.$component.find('.header-btn').click(function(){\n    //     navigationController.scrollIntoView($(this).closest('.slide').next());\n    // });\n    self.$component.find('.header-btn').on('click keypress', utils.handleClickAndPress(function(e){\n        var $this = $(e.currentTarget);\n        navigationController.scrollIntoView($this.closest('.slide').next(), 'start');    \n    }));\n\n    \n}\n\n/**\n * @public\n * @override \n * @description  This function is called on unload\n */\nComponentHeader.prototype.unload = function(){\n    var self = this;    \n}\n\n/**\n * @public\n * @override \n * @description  This function fired when component is displayed\n */\nComponentHeader.prototype.componentDisplayed = function(){\n    Component.prototype.componentDisplayed.call(this);\n\n    var self = this;    \n\n    \n    \n    // set component complete\n    //self.componentController.setComponentComplete(self);\n}\n/**\n * @public\n * @override \n * @description  This function is called on browser resize\n */\nComponentHeader.prototype.resize = function(){\n    var self = this;   \n    \n    if (self.splitText){\n        self.splitText.revert();\n    }\n    self.splitText = new SplitText(self.$component.find('.header-heading >span'), {type: 'lines', tag: 'span', linesClass: 'st-line'});\n}\n\n/**\n * @public\n * @override \n * @description  This function is called on device breakpoint changed\n */\n ComponentHeader.prototype.breakpointChanged = function(){\n    var self = this;\n }\n","/**\r\n * @fileoverview This is used to create a BuildupCarousel component.\r\n * @class\r\n * @augments Component\r\n * @author LIVELOGIC\r\n * @version 1.0\r\n */\r\nfunction ComponentBuildupCarousel(){  \r\n    \r\n}\r\n\r\nComponentBuildupCarousel.prototype = Object.create(Component.prototype);\r\n\r\n/**\r\n * @function\r\n * @description  This function initialiases the component\r\n */\r\nComponentBuildupCarousel.prototype.init = function(_componentController, node, _id, _num){\r\n    Component.prototype.init.call(this, _componentController, node, _id, _num);\r\n\r\n    var self = this;  \r\n\r\n    this.managesCompletion = true;\r\n\r\n    this.slidesCompleteArray = [];\r\n    \r\n}\r\n\r\n/**\r\n * @function\r\n * @description  This function sets up the component\r\n */\r\nComponentBuildupCarousel.prototype.setupComponent = function(){\r\n    Component.prototype.setupComponent.call(this);\r\n}\r\n\r\n/**\r\n * @function\r\n * @description  This function adds the component HTML\r\n */\r\nComponentBuildupCarousel.prototype.getHTML = function(){\r\n    var self = this;    \r\n    \r\n    var htmlStr = '';\r\n    htmlStr += '<div class=\"carousel-wrapper\" aria-roledescription=\"carousel\" aria-label=\"'+(courseData.getAriaProperty(self.dataNode, 'label') || courseData.getAccessibleLabel('carousel'))+'\">';\r\n        htmlStr += '<div class=\"bxslider\">';\r\n        //console.log(this.dataNode.slide.length);\r\n        for (var i = 0 ; i < this.dataNode.slide.length; i++){\r\n            self.slidesCompleteArray[i] = 0;\r\n            htmlStr += '<div>';\r\n                htmlStr += '<div class=\"carousel-slide\">';\r\n                    htmlStr += '<div class=\"story-bkg\"'+htmlUtils.getCSSString(this.dataNode.slide[i])+'>';\r\n                    htmlStr += '</div>';\r\n                    htmlStr += '<div class=\"story-text-wrap\">';\r\n                        htmlStr += '<div class=\"story-text children-not-animated\">';\r\n                            htmlStr += self.componentController.generateComponents(this.dataNode.slide[i], {anim:false});\r\n                        htmlStr += '</div>';\r\n                    htmlStr += '</div>';\r\n                htmlStr += '</div>';\r\n            htmlStr += '</div>';\r\n        }\r\n        htmlStr += '</div>';\r\n    htmlStr += '</div>';\r\n    \r\n    return htmlStr;\r\n}\r\n\r\n/**\r\n * @function\r\n * @description  This function sets up the component\r\n */\r\nComponentBuildupCarousel.prototype.setupComplete = function(){\r\n    Component.prototype.setupComplete.call(this);\r\n    \r\n    var self = this;  \r\n\r\n    var currentViewport = responsiveUtils.getCurrentViewport();\r\n\r\n    self.sliderOptions = {\r\n        infiniteLoop: self.dataNode.infiniteLoop ? self.dataNode.infiniteLoop : false,\r\n        mode: self.dataNode.mode ? self.dataNode.mode : 'horizontal',\r\n        // speed: self.dataNode.speed ? self.dataNode.speed : 0,\r\n        adaptiveHeight: true, \r\n        controls: self.dataNode.controls ? (self.dataNode.controls == \"true\") : true,\r\n        pager: self.dataNode.pager ? (self.dataNode.pager == \"true\") : true,\r\n        touchEnabled: self.dataNode.touchEnabled ? (self.dataNode.touchEnabled == \"true\") : false,\r\n        hideControlOnEnd: self.dataNode.hideControlOnEnd ? (self.dataNode.hideControlOnEnd == \"true\") : true,\r\n        nextText: '<span>'+courseData.getBtnText('CarouselNext')+'</span><div class=\"svg-icon\">'+svgUtils.createSVG('chevron-right')+'</div>',\r\n        prevText: '<span>'+courseData.getBtnText('CarouselPrev')+'</span><div class=\"svg-icon\">'+svgUtils.createSVG('chevron-left')+'</div>',\r\n        // keyboardEnabled: true,\r\n        onSliderLoad: function(){\r\n            // set first carousel slide as complete\r\n            self.slidesCompleteArray[0] = 1;\r\n            // disable pager dot buttons\r\n            setTimeout(function(){\r\n                self.$component.find('.bx-controls .bx-pager-item:gt(1) a').disable();\r\n\r\n                // add aria label to pager dot button\r\n                self.$component.find('.bx-controls .bx-prev').attr('tabindex', '0').attr('role', 'button');\r\n                self.$component.find('.bx-controls .bx-next').attr('tabindex', '0').attr('role', 'button');\r\n\r\n                // add aria current to pager dot buttons\r\n                self.$component.find('.bx-controls .bx-pager-item a').eq(0).attr('aria-current','true');\r\n                // add aria role to pager dot buttons and set href to javascript:void(0) to avoid page jump\r\n                self.$component.find('.bx-controls .bx-pager .bx-pager-link').attr('tabindex', '0').attr('href', 'javascript:void(0)').attr('role', 'button');\r\n                // adjust text of pager dot buttons\r\n                self.$component.find('.bx-controls .bx-pager .bx-pager-link').each(function(){\r\n                    $(this).html(courseData.getAccessibleLabel('carouselGoToSlide').split('{num}').join($(this).text()));\r\n                });\r\n\r\n            }, 500);\r\n            //self.$component.find('.bx-controls .bx-next').addClass('pulseScale');\r\n        },\r\n        onSlideAfter: function($slideElement, oldIndex, newIndex){\r\n            // set this carousel slide as complete\r\n            self.slidesCompleteArray[newIndex] = 1;\r\n            // enable pager dot buttons for next slide too\r\n            self.$component.find('.bx-controls .bx-pager-item a').slice(0, newIndex+1).enable();\r\n            // add aria current to pager dot button\r\n            self.$component.find('.bx-controls .bx-pager-item a').attr('aria-current','false').eq(newIndex).attr('aria-current','true');\r\n            \r\n//            if (self.slidesCompleteArray.indexOf(0) == -1){\r\n            if (newIndex == self.$slider.getSlideCount()-1){\r\n                console.log('CAROUSEL', newIndex, $slideElement)\r\n                // last slide lets set the focus as button disappears\r\n                self.$component.find('.bx-prev').focus();\r\n                //console.log('CAROUSEL', newIndex, self.$slider.getSlideCount()-1)\r\n                //self.$component.find('.bx-controls .bx-next').removeClass('pulseScale');\r\n                // set component complete\r\n                self.componentController.setComponentComplete(self);\r\n            } else if (newIndex == 0){\r\n                // first slide lets set the focus as button disappears\r\n                self.$component.find('.bx-next').focus();\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    self.$component.addClass(self.sliderOptions.mode);\r\n\r\n    self.$slider = self.$component.find('.bxslider').bxSlider(self.sliderOptions);\r\n}\r\n/**\r\n * @public\r\n * @override \r\n * @description  This function is called on unload\r\n */\r\nComponentBuildupCarousel.prototype.unload = function(){\r\n    var self = this;    \r\n}\r\n\r\n/**\r\n * @public\r\n * @override \r\n * @description  This function fired when component is displayed\r\n */\r\nComponentBuildupCarousel.prototype.componentDisplayed = function(){\r\n    Component.prototype.componentDisplayed.call(this);\r\n    console.log('ComponentBuildupCarousel::componentDisplayed');\r\n\r\n    var self = this;    \r\n\r\n    self.$slider.redrawSlider();\r\n    // setTimeout(function(){\r\n    //     self.resize();\r\n    // }, 500);\r\n    \r\n    \r\n}\r\n/**\r\n * @public\r\n * @override \r\n * @description  This function is called on browser resize\r\n */\r\nComponentBuildupCarousel.prototype.resize = function(){\r\n    var self = this;    \r\n\r\n    // utils.matchElementHeights(self.$component.find('.story-text-wrap'), ['xs']);\r\n\r\n    // self.$slider.redrawSlider();\r\n\r\n    // \r\n}\r\n\r\n/**\r\n * @public\r\n * @override \r\n * @description  This function is called on device breakpoint changed\r\n */\r\nComponentBuildupCarousel.prototype.breakpointChanged = function(){\r\n    var self = this;\r\n\r\n    // var currentViewport = responsiveUtils.getCurrentViewport();\r\n    // self.sliderOptions.adaptiveHeight = (currentViewport == 'xs' || currentViewport == 'sm') ? true : false;\r\n    // // self.dataNode.adaptiveHeight ? (self.dataNode.adaptiveHeight == \"true\") : false;\r\n    // self.$slider.redrawSlider();\r\n }","/**\r\n * @fileoverview This is used to create a StoryCarousel component.\r\n * @class\r\n * @augments Component\r\n * @author LIVELOGIC\r\n * @version 1.0\r\n */\r\nfunction ComponentStoryCarousel(){  \r\n    \r\n}\r\n\r\nComponentStoryCarousel.prototype = Object.create(Component.prototype);\r\n\r\n/**\r\n * @function\r\n * @description  This function initialiases the component\r\n */\r\nComponentStoryCarousel.prototype.init = function(_componentController, node, _id, _num){\r\n    Component.prototype.init.call(this, _componentController, node, _id, _num);\r\n\r\n    var self = this;  \r\n\r\n    this.managesCompletion = true;\r\n\r\n    this.slidesCompleteArray = [];\r\n    \r\n}\r\n\r\n/**\r\n * @function\r\n * @description  This function sets up the component\r\n */\r\nComponentStoryCarousel.prototype.setupComponent = function(){\r\n    Component.prototype.setupComponent.call(this);\r\n}\r\n\r\n/**\r\n * @function\r\n * @description  This function adds the component HTML\r\n */\r\nComponentStoryCarousel.prototype.getHTML = function(){\r\n    var self = this;    \r\n    \r\n    var htmlStr = '';\r\n    htmlStr += '<div class=\"carousel-wrapper\" aria-roledescription=\"carousel\" aria-label=\"'+(courseData.getAriaProperty(self.dataNode, 'label') || courseData.getAccessibleLabel('carousel'))+'\">';\r\n        htmlStr += '<div class=\"bxslider\">';\r\n        //console.log(this.dataNode.slide.length);\r\n        for (var i = 0 ; i < this.dataNode.slide.length; i++){\r\n            self.slidesCompleteArray[i] = 0;\r\n            htmlStr += '<div>';\r\n                htmlStr += '<div class=\"carousel-slide\">';\r\n                    htmlStr += '<div class=\"story-bkg\"'+htmlUtils.getCSSString(this.dataNode.slide[i])+'>';\r\n                    htmlStr += '</div>';\r\n                    htmlStr += '<div class=\"story-text children-not-animated\">';\r\n                        htmlStr += self.componentController.generateComponents(this.dataNode.slide[i], {anim:false});\r\n                    htmlStr += '</div>';\r\n                htmlStr += '</div>';\r\n            htmlStr += '</div>';\r\n        }\r\n        htmlStr += '</div>';\r\n    htmlStr += '</div>';\r\n    \r\n    return htmlStr;\r\n}\r\n\r\n/**\r\n * @function\r\n * @description  This function sets up the component\r\n */\r\nComponentStoryCarousel.prototype.setupComplete = function(){\r\n    Component.prototype.setupComplete.call(this);\r\n    \r\n    var self = this;  \r\n\r\n    var currentViewport = responsiveUtils.getCurrentViewport();\r\n\r\n    self.sliderOptions = {\r\n        infiniteLoop: self.dataNode.infiniteLoop ? self.dataNode.infiniteLoop : false,\r\n        mode: self.dataNode.mode ? self.dataNode.mode : 'horizontal',\r\n        // speed: self.dataNode.speed ? self.dataNode.speed : 0,\r\n        adaptiveHeight: true, \r\n        controls: self.dataNode.controls ? (self.dataNode.controls == \"true\") : true,\r\n        pager: self.dataNode.pager ? (self.dataNode.pager == \"true\") : true,\r\n        touchEnabled: self.dataNode.touchEnabled ? (self.dataNode.touchEnabled == \"true\") : false,\r\n        hideControlOnEnd: self.dataNode.hideControlOnEnd ? (self.dataNode.hideControlOnEnd == \"true\") : true,\r\n        nextText: '<span>'+courseData.getBtnText('CarouselNext')+'</span><div class=\"svg-icon\">'+svgUtils.createSVG('chevron-right')+'</div>',\r\n        prevText: '<span>'+courseData.getBtnText('CarouselPrev')+'</span><div class=\"svg-icon\">'+svgUtils.createSVG('chevron-left')+'</div>',\r\n        // keyboardEnabled: true,\r\n        onSliderLoad: function(){\r\n            // set first carousel slide as complete\r\n            self.slidesCompleteArray[0] = 1;\r\n            // disable pager dot buttons\r\n            setTimeout(function(){\r\n                self.$component.find('.bx-controls .bx-pager-item:gt(1) a').disable();\r\n\r\n                // add aria label to pager dot button\r\n                self.$component.find('.bx-controls .bx-prev').attr('tabindex', '0').attr('role', 'button');\r\n                self.$component.find('.bx-controls .bx-next').attr('tabindex', '0').attr('role', 'button');\r\n\r\n                // add aria current to pager dot buttons\r\n                self.$component.find('.bx-controls .bx-pager-item a').eq(0).attr('aria-current','true');\r\n                // add aria role to pager dot buttons and set href to javascript:void(0) to avoid page jump\r\n                self.$component.find('.bx-controls .bx-pager .bx-pager-link').attr('tabindex', '0').attr('href', 'javascript:void(0)').attr('role', 'button');\r\n                // adjust text of pager dot buttons\r\n                self.$component.find('.bx-controls .bx-pager .bx-pager-link').each(function(){\r\n                    $(this).html(courseData.getAccessibleLabel('carouselGoToSlide').split('{num}').join($(this).text()));\r\n                });\r\n\r\n            }, 500);\r\n            //self.$component.find('.bx-controls .bx-next').addClass('pulseScale');\r\n        },\r\n        onSlideAfter: function($slideElement, oldIndex, newIndex){\r\n            // set this carousel slide as complete\r\n            self.slidesCompleteArray[newIndex] = 1;\r\n            // enable pager dot buttons for next slide too\r\n            self.$component.find('.bx-controls .bx-pager-item a').slice(0, newIndex+1).enable();\r\n            // add aria current to pager dot button\r\n            self.$component.find('.bx-controls .bx-pager-item a').attr('aria-current','false').eq(newIndex).attr('aria-current','true');\r\n            \r\n//            if (self.slidesCompleteArray.indexOf(0) == -1){\r\n            if (newIndex == self.$slider.getSlideCount()-1){\r\n                console.log('CAROUSEL', newIndex, $slideElement)\r\n                // last slide lets set the focus as button disappears\r\n                self.$component.find('.bx-prev').focus();\r\n                //console.log('CAROUSEL', newIndex, self.$slider.getSlideCount()-1)\r\n                //self.$component.find('.bx-controls .bx-next').removeClass('pulseScale');\r\n                // set component complete\r\n                self.componentController.setComponentComplete(self);\r\n            } else if (newIndex == 0){\r\n                // first slide lets set the focus as button disappears\r\n                self.$component.find('.bx-next').focus();\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    self.$component.addClass(self.sliderOptions.mode);\r\n\r\n    self.$slider = self.$component.find('.bxslider').bxSlider(self.sliderOptions);\r\n}\r\n/**\r\n * @public\r\n * @override \r\n * @description  This function is called on unload\r\n */\r\nComponentStoryCarousel.prototype.unload = function(){\r\n    var self = this;    \r\n}\r\n\r\n/**\r\n * @public\r\n * @override \r\n * @description  This function fired when component is displayed\r\n */\r\nComponentStoryCarousel.prototype.componentDisplayed = function(){\r\n    Component.prototype.componentDisplayed.call(this);\r\n    console.log('ComponentStoryCarousel::componentDisplayed');\r\n\r\n    var self = this;    \r\n    \r\n    self.$slider.redrawSlider();\r\n    \r\n}\r\n/**\r\n * @public\r\n * @override \r\n * @description  This function is called on browser resize\r\n */\r\nComponentStoryCarousel.prototype.resize = function(){\r\n    var self = this;    \r\n}\r\n\r\n/**\r\n * @public\r\n * @override \r\n * @description  This function is called on device breakpoint changed\r\n */\r\nComponentStoryCarousel.prototype.breakpointChanged = function(){\r\n    var self = this;\r\n\r\n    // var currentViewport = responsiveUtils.getCurrentViewport();\r\n    // self.sliderOptions.adaptiveHeight = (currentViewport == 'xs' || currentViewport == 'sm') ? true : false;\r\n    // // self.dataNode.adaptiveHeight ? (self.dataNode.adaptiveHeight == \"true\") : false;\r\n    // self.$slider.redrawSlider();\r\n }","/**\n * @fileoverview This is used to create a PlusButton component.\n * @class\n * @augments Component\n * @author LIVELOGIC\n * @version 1.0\n */\nfunction ComponentPlusButton(){\n}\n\nComponentPlusButton.prototype = Object.create(Component.prototype);\n\n/**\n * @function\n * @description  This function initialiases the component\n */\nComponentPlusButton.prototype.init = function(_componentController, node, _id, _num){\n    Component.prototype.init.call(this, _componentController, node, _id, _num);\n\n    var self = this;\n\n    // this.managesCompletion = true;\n\n    //self.managesCompletion = false;\n}\n\n/**\n * @function\n * @description  This function adds the component HTML\n */\nComponentPlusButton.prototype.getHTML = function(){\n    var self = this;    \n    var htmlStr = '';\n    var path = '';\n    var altText = (this.dataNode.alt) ? this.dataNode.alt[0].Text : '';\n\n    htmlStr += '<div class=\"plusbutton-container\">'\n        if(this.dataNode.src){\n            path = utils.getImagePath(this.dataNode.src);\n            htmlStr += '<img src=\"'+path+'\" class=\"plusbutton-img\" alt=\"'+altText+'\"/>';\n        }\n\n        if (this.dataNode.text){\n            if(this.dataNode.displayHeader == 0){\n                htmlStr += `<div class=\"plusbutton-text sr-only\">\n                    ${this.dataNode.text[0].Text}\n                </div>`;\n            }\n            else{\n                htmlStr += \n                    `<div class=\"plusbutton-text\">\n                        ${this.dataNode.text[0].Text}\n                    </div>`;\n            }\n        }\n\n        htmlStr += `\n            <div class=\"plus-btn\">\n                <div class=\"plus-icon-container\">\n                    <div class=\"plus-btn-icon-plus\">\n                        ${svgUtils.createSVG('plus')}\n                    </div>\n                    <div class=\"plus-btn-icon-tick\">\n                        <span class=\"sr-only\">${courseData.getAccessibleLabel('complete')}</span>\n                        ${svgUtils.createSVG('tick')}\n                    </div>\n                </div>\n            </div>\n        `;\n    htmlStr += '</div>'\n    return htmlStr;\n}\n\n/**\n * @function\n * @description  This function sets up the component\n */\nComponentPlusButton.prototype.setupComponent = function(){\n    Component.prototype.setupComponent.call(this);\n    \n    var self = this;  \n    \n    self.$component\n        .attr('role', 'button')\n        .attr('tabindex', '0');\n        \n    // self.$component.on('click', function(){\n    //     $(self.$component.find(\".plus-icon-container\")[0]).html(svgUtils.createSVG(\"tick\"));\n    //     $(self.$component.find(\".plus-btn\")[0]).css(\"background-color\", \"#888888\")\n    // });\n}\n\n/**\n * @function\n * @description  This function fires when sets up complete\n */\nComponentPlusButton.prototype.setupComplete = function(){\n    Component.prototype.setupComplete.call(this);\n\n    var self = this;   \n}\n\n/**\n * @public\n * @override \n * @description  This function is called on unload\n */\nComponentPlusButton.prototype.unload = function(){\n    var self = this;    \n}\n\n/**\n * @public\n * @override \n * @description  This function fired when component is displayed\n */\nComponentPlusButton.prototype.componentDisplayed = function(){\n    Component.prototype.componentDisplayed.call(this);\n\n    var self = this;    \n    \n    // set component complete\n    //self.componentController.setComponentComplete(self);\n}\n/**\n * @public\n * @override \n * @description  This function is called on browser resize\n */\nComponentPlusButton.prototype.resize = function(){\n    var self = this;\n    \n    var $plusButtonComponents = self.$component.closest('.slide').find('.component-plusbutton').filter('.label-bottom, .plusbutton-icon');\n    \n    // is this the first component of this type on this slide?\n    if (self.$component.attr('id') == $plusButtonComponents.first().attr('id')){\n        var $plusButtonTexts = $plusButtonComponents.find('.plusbutton-text');\n\n        // resize when we're using columns so heights match\n        // console.log('resize ')\n        utils.matchElementHeights($plusButtonTexts, ['xs']);\n    }\n}\n\n/**\n * @public\n * @override \n * @description  This function is called on device breakpoint changed\n */\n ComponentPlusButton.prototype.breakpointChanged = function(){\n    var self = this;\n }\n","/**\r\n * @fileoverview This is used to create a Highchart_Bar component.\r\n * @class\r\n * @augments Component\r\n * @author LIVELOGIC\r\n * @version 1.0\r\n */\r\nfunction ComponentHighchart_Bar(){\r\n}\r\n\r\nComponentHighchart_Bar.prototype = Object.create(Component.prototype);\r\n\r\n/**\r\n * @function\r\n * @description  This function initialiases the component\r\n */\r\nComponentHighchart_Bar.prototype.init = function(_componentController, node, _id, _num){\r\n    Component.prototype.init.call(this, _componentController, node, _id, _num);\r\n\r\n    var self = this;\r\n\r\n    //self.managesCompletion = false;\r\n\r\n    self.colors = ['#5d9438', '#f14e73', '#ed6335', '#3d8eae', '#943888', '#edb735', '#ba1110'];\r\n\r\n    Highcharts.setOptions({\r\n        lang: {\r\n            numericSymbols: null,\r\n            thousandsSep: ','\r\n        }\r\n    });\r\n}\r\n\r\n/**\r\n * @function\r\n * @description  This function adds the component HTML\r\n */\r\nComponentHighchart_Bar.prototype.getHTML = function(){\r\n    var self = this;   \r\n    \r\n    var htmlStr = '';\r\n    \r\n    htmlStr += '<figure class=\"highcharts-figure\">';// role=\"application\">';\r\n        htmlStr += '<div id=\"'+self.componentID+'-bar-chart\"></div>';\r\n    htmlStr += '</figure>';\r\n            \r\n    \r\n    return htmlStr;\r\n}\r\n\r\n/**\r\n * @function\r\n * @description  This function sets up the component\r\n */\r\nComponentHighchart_Bar.prototype.setupComponent = function(){\r\n    Component.prototype.setupComponent.call(this);\r\n    \r\n    var self = this;\r\n\r\n\r\n    self.chartOptions = {\r\n       \r\n         colors: self.colors,\r\n        accessibility: {\r\n            keyboardNavigation: {\r\n                focusBorder: {\r\n                    margin: 4,\r\n                    style: {\r\n                        borderWidth: 2,\r\n                        borderRadius: 0,\r\n                        color: '#DB0011' // hsbcred\r\n                    }\r\n                }\r\n            }\r\n        //     point: {\r\n        //         descriptionFormatter: function (p) {\r\n        //             return p.series.name + ', ' + p.category + ', ' + p.y + '°F.';\r\n        //         }\r\n        //     }\r\n        },\r\n        title: {\r\n            text: self.dataNode.title[0].Text\r\n        },\r\n        xAxis: {\r\n            crosshair: true\r\n        },\r\n        yAxis: {\r\n            min: 0,\r\n            title: {\r\n                text: self.dataNode.yAxis[0].title[0].Text\r\n            },\r\n            tickInterval: 2000,\r\n            labels: {\r\n                formatter: function() {\r\n                    return Highcharts.numberFormat(this.value, null, null, ',');\r\n                }\r\n            }\r\n        },\r\n        plotOptions: {\r\n            column: {\r\n                borderWidth: 0\r\n            }\r\n        }\r\n    };\r\n\r\n    // chart type\r\n    if (self.dataNode.chartType){\r\n        self.chartOptions.chart = {\r\n            type: self.dataNode.chartType\r\n        }\r\n    }\r\n    // description\r\n    if (self.dataNode.description){\r\n        self.chartOptions.accessibility = {\r\n            description: self.dataNode.description[0].Text\r\n        }\r\n    }\r\n\r\n    // series options\r\n    self.seriesData = [];\r\n    for (var i = 0; i < self.dataNode.data.length; i++) {\r\n        self.seriesData[i] = {\r\n            name: self.dataNode.data[i].name[0].Text, \r\n            data: []\r\n        };\r\n        // type\r\n        if (self.dataNode.data[i].type){\r\n            self.seriesData[i].type = self.dataNode.data[i].type;\r\n        }\r\n        // series color options\r\n        if (self.dataNode.data[i].color){\r\n            self.seriesData[i].color = self.dataNode.data[i].color;\r\n        }\r\n        // series marker options\r\n        if (self.dataNode.data[i].marker){\r\n            self.seriesData[i].marker = {};\r\n            if (self.dataNode.data[i].marker[0].symbol){\r\n                self.seriesData[i].marker.symbol = self.dataNode.data[i].marker[0].symbol;\r\n            }\r\n            if (self.dataNode.data[i].marker[0].lineWidth){\r\n                self.seriesData[i].marker.lineWidth = parseInt(self.dataNode.data[i].marker[0].lineWidth);\r\n            }\r\n            if (self.dataNode.data[i].marker[0].lineColor){\r\n                self.seriesData[i].marker.lineColor = self.dataNode.data[i].marker[0].lineColor;\r\n            }\r\n            if (self.dataNode.data[i].marker[0].fillColor){\r\n                self.seriesData[i].marker.fillColor = self.dataNode.data[i].marker[0].fillColor;\r\n            }\r\n        }\r\n        // series tooltip options\r\n        if (self.dataNode.data[i].tooltip){            \r\n            self.seriesData[i].tooltip = {};\r\n            if (self.dataNode.data[i].tooltip[0].valuePrefix){\r\n                self.seriesData[i].tooltip.valuePrefix = self.dataNode.data[i].tooltip[0].valuePrefix[0].Text;\r\n            }\r\n            if (self.dataNode.data[i].tooltip[0].valueSuffix){\r\n                self.seriesData[i].tooltip.valueSuffix = self.dataNode.data[i].tooltip[0].valueSuffix[0].Text;\r\n            }\r\n        }\r\n        for (var j = 0; j < self.dataNode.data[i].item.length; j++) {\r\n            self.seriesData[i].data.push(parseInt(self.dataNode.data[i].item[j].val));\r\n        }\r\n    }\r\n    self.chartOptions.series = self.seriesData;\r\n\r\n    // x axis options\r\n    if (self.dataNode.xAxis){\r\n        if (self.dataNode.xAxis[0].title){\r\n            self.chartOptions.xAxis.title = {\r\n                text: self.dataNode.xAxis[0].title\r\n            }\r\n        }\r\n        if (self.dataNode.xAxis[0].description){\r\n            self.chartOptions.xAxis.accessibility = {\r\n                description: self.dataNode.xAxis[0].description[0].Text\r\n            }\r\n        }\r\n    }\r\n    self.xAxisCategories = [];\r\n    for (var i = 0; i < self.dataNode.xAxis[0].category.length; i++) {\r\n        self.xAxisCategories[i] = self.dataNode.xAxis[0].category[i].Text;\r\n    }\r\n    self.chartOptions.xAxis.categories = self.xAxisCategories;\r\n\r\n    // y axis options\r\n    if (self.dataNode.yAxis){\r\n        if (self.dataNode.yAxis[0].description){\r\n            self.chartOptions.yAxis.accessibility = {\r\n                description: self.dataNode.yAxis[0].description[0].Text\r\n            }\r\n        }\r\n    }\r\n\r\n    // tooltip options\r\n    if (self.dataNode.tooltip){\r\n        self.chartOptions.tooltip = {};\r\n        if (self.dataNode.tooltip[0].valuePrefix){\r\n            self.chartOptions.tooltip.valuePrefix = self.dataNode.tooltip[0].valuePrefix[0].Text;\r\n        }\r\n        if (self.dataNode.tooltip[0].valueSuffix){\r\n            self.chartOptions.tooltip.valueSuffix = self.dataNode.tooltip[0].valueSuffix[0].Text;\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * @function\r\n * @description  This function fires when sets up complete\r\n */\r\nComponentHighchart_Bar.prototype.setupComplete = function(){\r\n    Component.prototype.setupComplete.call(this);\r\n    \r\n    var self = this;   \r\n}\r\n\r\n/**\r\n * @public\r\n * @override \r\n * @description  This function is called on unload\r\n */\r\nComponentHighchart_Bar.prototype.unload = function(){\r\n    var self = this;\r\n    \r\n    if (self.chart){\r\n        self.chart.destroy();\r\n    }\r\n}\r\n\r\n/**\r\n * @public\r\n * @override \r\n * @description  This function fired when component is displayed\r\n */\r\nComponentHighchart_Bar.prototype.componentDisplayed = function(){\r\n    Component.prototype.componentDisplayed.call(this);\r\n\r\n    var self = this;    \r\n    \r\n    // set component complete\r\n    //self.componentController.setComponentComplete(self);\r\n\r\n    // Bar chart\r\n    self.chart = Highcharts.chart(self.componentID+'-bar-chart', self.chartOptions);\r\n\r\n    if (self.chart){\r\n        self.chart.reflow();\r\n    }\r\n}\r\n/**\r\n * @public\r\n * @override \r\n * @description  This function is called on browser resize\r\n */\r\nComponentHighchart_Bar.prototype.resize = function(){\r\n    var self = this;    \r\n}\r\n\r\n/**\r\n * @public\r\n * @override \r\n * @description  This function is called on device breakpoint changed\r\n */\r\n ComponentHighchart_Bar.prototype.breakpointChanged = function(){\r\n    var self = this;\r\n }\r\n","/**\r\n * @fileoverview This is used to create a Highchart_Pie component.\r\n * @class\r\n * @augments Component\r\n * @author LIVELOGIC\r\n * @version 1.0\r\n */\r\nfunction ComponentHighchart_Pie(){\r\n}\r\n\r\nComponentHighchart_Pie.prototype = Object.create(Component.prototype);\r\n\r\n/**\r\n * @function\r\n * @description  This function initialiases the component\r\n */\r\nComponentHighchart_Pie.prototype.init = function(_componentController, node, _id, _num){\r\n    Component.prototype.init.call(this, _componentController, node, _id, _num);\r\n\r\n    var self = this;\r\n\r\n    //self.managesCompletion = false;\r\n\r\n    self.pieColors = ['#ed6335', '#5d9438', '#3d8eae', '#f14e73', '#943888', '#edb735', '#ba1110'];\r\n\r\n    Highcharts.setOptions({\r\n        lang: {\r\n            numericSymbols: null,\r\n            thousandsSep: ','\r\n        }\r\n    });\r\n}\r\n\r\n/**\r\n * @function\r\n * @description  This function adds the component HTML\r\n */\r\nComponentHighchart_Pie.prototype.getHTML = function(){\r\n    var self = this;   \r\n    \r\n    var htmlStr = '';\r\n    \r\n    htmlStr += '<figure class=\"highcharts-figure\">';// role=\"application\">';\r\n        htmlStr += '<div id=\"'+self.componentID+'-pie-chart\"></div>';\r\n    htmlStr += '</figure>';\r\n            \r\n    \r\n    return htmlStr;\r\n}\r\n\r\n/**\r\n * @function\r\n * @description  This function sets up the component\r\n */\r\nComponentHighchart_Pie.prototype.setupComponent = function(){\r\n    Component.prototype.setupComponent.call(this);\r\n    \r\n    var self = this;\r\n\r\n    self.pieData = [];\r\n    for (var i = 0; i < self.dataNode.data[0].item.length; i++) {\r\n        self.pieData.push({name: self.dataNode.data[0].item[i].Text, y: parseInt(self.dataNode.data[0].item[i].val)})\r\n    }\r\n\r\n    self.chartOptions = {\r\n        // chart: {\r\n        //     plotBackgroundColor: null,\r\n        //     plotBorderWidth: null,\r\n        //     plotShadow: false,\r\n        //     type: 'pie'\r\n        // },\r\n        title: {\r\n            text: self.dataNode.title[0].Text,\r\n            align: 'center'\r\n        },\r\n        colors: self.pieColors,\r\n        // tooltip: {\r\n        //     pointFormat: '<b>{point.percentage:.0f}%</b>'\r\n        // },        \r\n        accessibility: {\r\n            keyboardNavigation: {\r\n                focusBorder: {\r\n                    margin: 4,\r\n                    style: {\r\n                        borderWidth: 2,\r\n                        borderRadius: 0,\r\n                        color: '#DB0011' // hsbcred\r\n                    }\r\n                }\r\n            }\r\n        //     point: {\r\n        //         valueSuffix: '%'\r\n        //     }\r\n        },\r\n        plotOptions: {\r\n            pie: {\r\n                // allowPointSelect: true,\r\n                cursor: 'pointer',\r\n                // dataLabels: {\r\n                //     enabled: true,\r\n                //     format: '<b>{point.name}</b>: {point.percentage:.0f}%'\r\n                // }\r\n            }\r\n        },\r\n        series: [\r\n            {\r\n                id: self.componentID+'-data',\r\n                type: 'pie',\r\n                name: self.dataNode.data[0].name[0].Text,\r\n                // colorByPoint: true,\r\n                data: self.pieData,\r\n                size: 200,\r\n            }\r\n        ]\r\n    }\r\n    \r\n    // description\r\n    if (self.dataNode.caption){\r\n        self.chartOptions.caption = {\r\n            useHTML: true,\r\n            text: htmlUtils.getHTMLText(self.dataNode.caption[0])\r\n        }\r\n        // self.chartOptions.caption.align = self.dataNode.caption[0].align || 'center'; // doesnt work with useHTML: true\r\n    }\r\n    if (self.dataNode.description){\r\n        self.chartOptions.accessibility.description = self.dataNode.description[0].Text\r\n    }\r\n    // show percentage - this will convert values to %\r\n    if (self.dataNode.showPercentage){\r\n        self.dataNode.tooltipFormat = '<b>{point.percentage:.0f}%</b>';\r\n        self.dataNode.dataLabelsFormat = '<b>{point.percentage:.0f}%</b>';\r\n        self.dataNode.accessibilityPointSuffix = '%';\r\n    }\r\n    // tooltip pointFormat\r\n    if (self.dataNode.tooltipFormat){\r\n        self.chartOptions.tooltip = {\r\n            pointFormat: self.dataNode.tooltipFormat //'<b>{point.percentage:.0f}%</b>'\r\n        }\r\n    }\r\n    // plotOptions dataLabels format\r\n    if (self.dataNode.dataLabelsFormat){\r\n        self.plotOptions.pie.dataLabels = {\r\n            enabled: true,\r\n            format: self.dataNode.dataLabelsFormat // '<b>{point.name}</b>: {point.percentage:.0f}%'\r\n        }\r\n    }\r\n    // accessibility valueSuffix e.g. %\r\n    if (self.dataNode.accessibilityPointSuffix){\r\n        self.plotOptions.accessibility = {\r\n            point: {\r\n                valueSuffix: self.dataNode.accessibilityPointSuffix // '%'\r\n            }\r\n        }\r\n    }\r\n    // // Pie chart\r\n    // self.chart = Highcharts.chart(self.componentID+'-pie-chart', self.chartOptions);\r\n}\r\n\r\n/**\r\n * @function\r\n * @description  This function fires when sets up complete\r\n */\r\nComponentHighchart_Pie.prototype.setupComplete = function(){\r\n    Component.prototype.setupComplete.call(this);\r\n    \r\n    var self = this;   \r\n}\r\n\r\n/**\r\n * @public\r\n * @override \r\n * @description  This function is called on unload\r\n */\r\nComponentHighchart_Pie.prototype.unload = function(){\r\n    var self = this;    \r\n    \r\n    if (self.chart){\r\n        self.chart.destroy();\r\n    }\r\n}\r\n\r\n/**\r\n * @public\r\n * @override \r\n * @description  This function fired when component is displayed\r\n */\r\nComponentHighchart_Pie.prototype.componentDisplayed = function(){\r\n    Component.prototype.componentDisplayed.call(this);\r\n\r\n    var self = this;    \r\n    \r\n    // set component complete\r\n    //self.componentController.setComponentComplete(self);\r\n\r\n    // Pie chart\r\n    self.chart = Highcharts.chart(self.componentID+'-pie-chart', self.chartOptions);\r\n\r\n    if (self.chart){\r\n        self.chart.reflow();\r\n    }\r\n}\r\n/**\r\n * @public\r\n * @override \r\n * @description  This function is called on browser resize\r\n */\r\nComponentHighchart_Pie.prototype.resize = function(){\r\n    var self = this;    \r\n}\r\n\r\n/**\r\n * @public\r\n * @override \r\n * @description  This function is called on device breakpoint changed\r\n */\r\n ComponentHighchart_Pie.prototype.breakpointChanged = function(){\r\n    var self = this;\r\n }\r\n"," /**\n * @fileoverview This is used to create an ComponentDropdownsequence component.\n * @class\n * @author LIVELOGIC\n * @version 1.0\n */\nfunction ComponentDropdownsequence(){\n}\n\nComponentDropdownsequence.prototype = Object.create(Component.prototype);\n\n/**\n * @function\n * @description  This function adds the component HTML\n */\nComponentDropdownsequence.prototype.init = function(_componentController, node, _id, _num){\n    Component.prototype.init.call(this, _componentController, node, _id, _num);\n\n    var self = this;\n    this.managesCompletion = true;\n\n    this.answerArray = [];\n    // will be passed to the assessmentController\n    this.userSelectionArray = [];\n    this.selectOptionsArray = [];\n}\n\n/**\n * @function \n * @description  This function adds the component HTML\n */\nComponentDropdownsequence.prototype.getHTML = function(){\n    var self = this;\n    var htmlStr = '';\n\n    var submit = this.dataNode.submit[0].text[0].Text;\n\n    htmlStr += '<div class=\"questionPanel\">';\n        if (this.dataNode.assessment){\n            htmlStr += '<div class=\"questionNum moduleColor\">'+(self.questionNum+1)+'</div>';\n        }\n        htmlStr += '<div class=\"questionInfo\">';\n            htmlStr += '<div class=\"question-text\">';\n                htmlStr += htmlUtils.getHTMLText(this.dataNode.question[0]);\n            htmlStr += '</div>';\n        htmlStr += '</div>';\n    htmlStr += '</div>';\n    if (self.dataNode.instruction){\n        htmlStr += self.componentController.generateComponents(self.dataNode.instruction[0]);\n    }\n    var options = this.dataNode.options[0].option;\n    self.selectOptionsArray = [];\n    for(let o = 0; o < options.length; o++){\n        self.selectOptionsArray.push(o);\n    }\n    self.selectOptionsArray.shuffle();\n    for(let i = 0; i < options.length; i++){\n        // store the \n        self.answerArray.push(i);\n\n        htmlStr += `<div class=\"mb-4\">`;\n            htmlStr += `<div class=\"label-select-group\">`;\n                htmlStr += `<div class=\"ds-label\" >\n                                <label id=\"${self.id}-label-option-${i}\" for=\"${self.id}-option-${i}\">${self.dataNode.options[0].option[i].label[0].Text}</label>\n                            </div>`;\n\n                htmlStr += '<div class=\"dropdown-clear-btn-group\">';\n                    htmlStr += '<div class=\"option\" data-index=\"'+i+'\">';\n                        htmlStr += '<select id=\"'+self.id+'-option-'+i+'\" data-index=\"'+i+'\">';\n                            htmlStr += '<option selected>';\n                                htmlStr += (self.dataNode.selectblank ? self.dataNode.selectblank[0].Text : '');\n                            htmlStr += '</option>';\n                            for (let k = 0; k < options.length; k++){\n                                var num = self.selectOptionsArray[k];\n                                htmlStr += '<option value=\"'+(num+1)+'\">';\n                                    htmlStr += self.dataNode.options[0].option[num].match[0].Text;\n                                htmlStr += '</option>';  \n                            }\n                        htmlStr += '</select>';\n                        htmlStr += '<div class=\"tickCross\" aria-hidden=\"true\">'+svgUtils.createSVG('tickcross')+'</div>';\n                    htmlStr += '</div>';\n                    htmlStr += `<button class=\"ds-clear-btn btn disabled\" aria-disabled=\"true\" data-ds-clear-btn=\"${i}\">${self.dataNode.cancelBtnText[0].Text}</button>`\n                htmlStr += '</div>';\n            htmlStr += '</div>';\n        htmlStr += '</div>';\n    }\n    htmlStr += '<button class=\"btn ok pull-right disabled anim fadeInUp mb-3\" aria-disabled=\"true\">'+submit+'</button>';\n    \n    if (self.isAssessmentQuestion){\n        console.log(\"self.answerArray initQuestion\", self.answerArray);\n        self.assessmentController.initQuestion(self.questionNum, self.answerArray);\n    }\n\n    return htmlStr;\n} \n\n/**\n * @function\n * @description  This function sets up the component\n */\nComponentDropdownsequence.prototype.setupComponent = function(){\n    Component.prototype.setupComponent.call(this);\n    \n    var self = this;   \n}\n\n/**\n * @function\n * @description  This function fires when sets up complete\n */\nComponentDropdownsequence.prototype.setupComplete = function(){\n    Component.prototype.setupComplete.call(this);\n    \n    var self = this;   \n\n    self.$feedback = self.$component.closest('.slide').find('.feedback');\n    feedbackController.initFeedback(self.$component, self.$feedback);\n\n    self.checkDone();\n\n    self.$component.find('.btn.ok').on('click keypress', utils.handleClickAndPress(function (e) {\n        var $this = $(e.currentTarget);\n\n        var isDone = false;\n        var isCorrect = false;\n\n        if ($this.hasClass('disabled')){\n            return false;\n        }\n\n        $this.hide();\n\n        var $options = self.$component.find('.option');\n        $options.each(function(){\n            var $this = $(this);\n            var dropIndex = $(this).attr('data-index');\n            $(this).addClass('selected disabled');\n            $(this).find('select').selectmenu('disable');\n\n            if (self.userSelectionArray[dropIndex] == self.answerArray[dropIndex]){\n                $this.closest('.label-select-group').find('.option').addClass('correct');\n            } else {\n                $this.closest('.label-select-group').find('.option').addClass('incorrect');\n            }\n        });\n\n        self.$component.find('.ds-clear-btn').disable();\n\n        self.numCorrectSelected = 0;\n        self.numIncorrectSelected = 0;\n\n        var userAnsweredCorrectly = function(correctArray, userSelectionArray){\n            if(correctArray.length !== userSelectionArray.length){\n                return false;\n            }\n\n            for(let i = 0; i < correctArray.length; i++){\n                if(correctArray[i] !== userSelectionArray[i]){\n                    return false;\n                }\n            }\n            return true;\n        }\n\n        var userAnsweredPartlyCorrectly = function(correctArray, userSelectionArray){\n            if(correctArray.length !== userSelectionArray.length){\n                return false;\n            }\n\n            var numCorrect = 0;\n            for(let i = 0; i < correctArray.length; i++){\n                if(correctArray[i] === userSelectionArray[i]){\n                    numCorrect++;\n                }\n            }\n            return numCorrect > 0 && numCorrect < correctArray.length;\n        }\n\n        self.$feedback.find('.feedbackDone').show();\n        if(userAnsweredCorrectly(self.answerArray, self.userSelectionArray)){\n            isCorrect = true;\n            isDone = true;\n            self.$feedback.removeClass('incorrect partlycorrect').addClass('correct');\n        } else {\n            if (self.$feedback.find('.feedbackPartlyCorrect').length && userAnsweredPartlyCorrectly(self.answerArray, self.userSelectionArray)){\n                self.$feedback.removeClass('incorrect').addClass('partlycorrect');\n                isDone = true;\n            } else {\n                isDone = true;\n                self.$feedback.removeClass('partlycorrect').addClass('incorrect');\n            }\n        }\n        feedbackController.showFeedback(self.$component, self.$feedback);\n        self.$component.find('.component-instruction').slideUp();\n\n        if (self.isAssessmentQuestion){\n            self.assessmentController.storeAnswers(self.questionNum, self.userSelectionArray);//, self.isCorrectArray);\n            htmlUtils.updateTextVariables();\n        } \n\n        // let's save the interaction\n        storageController.setInteraction({\n            id: self.interactionID, \n            type: 'choice', \n            question: self.$component.find('.questionInfo').text(),\n            response: self.userSelectionArray, \n            answers: self.answerArray, \n            correct: isCorrect,\n            timestamp: self.timeDisplayed\n        });\n\n        // automatically store on custom data questions if not set - not for assessments\n        if (!self.isAssessmentQuestion){\n            // store answer in suspend data\n            if (self.customDataObj == undefined){\n                self.customDataObj = {\n                    answers: self.answerArray,\n                    attempts: [],\n                    correct: 0\n                }\n            }\n            if (self.customDataObj.correct == 0){\n                console.log('attempts', self.customDataObj.attempts)\n                self.customDataObj.attempts.push(self.userSelectionArray.slice());\n                self.customDataObj.correct = utils.booleanToInt(isCorrect);\n                customDataController.setCustomData(self.customData, self.customDataObj);\n            }\n        }\n\n        if (isDone){\n            self.$component.addClass('done');\n            \n            $options.each(function(){\n                var $this = $(this);\n                var optionIndex = $(this).attr('data-index');\n                correctLabel = courseData.getAccessibleLabel(self.userSelectionArray[optionIndex] === self.answerArray[optionIndex] ? 'correct' : 'incorrect');\n                $this.find('.ui-selectmenu-text').prepend('<span class=\"sr-only\">'+correctLabel+'&nbsp;</span>');\n            });\n            self.componentController.setComponentComplete(self);\n        } else {\n\n        }\n    \n    }));\n}\n\n/**\n * @public\n * @override \n * @description  This function is called on unload\n */\nComponentDropdownsequence.prototype.unload = function(){\n    var self = this;    \n}\n\n/**\n * @public\n * @override \n * @description  This function fired when component is displayed\n */\nComponentDropdownsequence.prototype.componentDisplayed = function(){\n    Component.prototype.componentDisplayed.call(this);\n    var self = this;\n    self.$component.find('select').selectmenu({\n        create: function(event, ui){\n            var $this = $(this);\n            setLabelledBy($this);    \n            // add focus event on button to set aria-labelledby attribute \n            $this.selectmenu(\"widget\").on('focus', function(){\n                setLabelledBy($this); \n            });\n        },\n        focus: function(event, ui){\n            // note this is not the same as the focus event on the selectmenu widget\n            setLabelledBy($(this));\n        },\n        change: function(event, ui){\n            var labelIdx = $(this).closest('.option').data('index');\n            var selectedValue = ui.item.value;\n            if(!isNaN(self.userSelectionArray[labelIdx]) ){\n                // there was already an answer chosen for this label, but now the user has changed the answer for this label\n                // so we need to re-enable the previous option that was selected\n                self.$component.find(`select option[value='${self.userSelectionArray[labelIdx]+1}']`).prop('disabled', false);\n            }\n            self.userSelectionArray[labelIdx] = parseInt(selectedValue)-1; // -1 because of 0 index being unselectable value\n            self.$component.find(`select option[value='${selectedValue}']`).prop('disabled', true);\n            self.$component.find('select').selectmenu(\"refresh\");\n\n            // close the menu\n            // $(this).selectmenu(\"close\");\n            self.$component.find('select').selectmenu(\"close\");\n            self.checkDone();\n\n            setLabelledBy($(this));\n        }\n    });\n    // self.$component.find('select').selectmenu(\"open\");\n\n    self.$component.find('.ds-clear-btn').on('click keypress', utils.handleClickAndPress(function (e) {\n        \n        var $this = $(e.currentTarget);\n        var optionValAtThisSelect = $(this).closest('.option').find('.option').find('select').val();        \n        // index represents the position of the select menu in the html\n        var labelIdx = $this.data('ds-clear-btn');\n        optionValAtThisSelect = self.userSelectionArray[labelIdx] + 1;\n        self.$component.find(`select[data-index=\"${labelIdx}\"]`).prop(\"selectedIndex\", 0);\n        self.$component.find(`select option[value='${optionValAtThisSelect}']`).prop('selected', false);\n        self.$component.find(`select option[value='${optionValAtThisSelect}']`).prop('disabled', false);\n\n        self.$component.find(`select`).selectmenu(\"refresh\");\n        self.userSelectionArray[labelIdx] = undefined;\n        \n        self.checkDone();\n    }));\n\n    function setLabelledBy($select){\n        // console.log('setLabelledBy', $select.closest('.label-select-group').find('.ds-label label'));\n        // get the label id\n        var label = $select.closest('.label-select-group').find('.ds-label label').attr('id');\n        var button = $select.selectmenu(\"widget\");\n        // get aria-labelledby attribute\n        var labelledby = button.attr('aria-labelledby') || '';\n        if (labelledby.indexOf(label) == -1) {\n            // add the label id to the aria-labelledby attribute if it's not already there\n            labelledby = label+' '+labelledby;\n        } \n        // set the aria-labelledby attribute\n        button.attr('aria-labelledby', labelledby);\n    }\n\n}\n\n/**\n * @public\n * @override \n * @description  This function fired on checkDone\n */\nComponentDropdownsequence.prototype.checkDone = function(){\n    var self = this;\n\n    var userAnsweredAll = function(){\n        if(self.answerArray.length !== self.userSelectionArray.length){\n            return false;\n        }\n        for(let i = 0; i < self.userSelectionArray.length; i++){\n            if(isNaN(self.userSelectionArray[i])){\n                return false;\n            }\n        }\n        return true;\n    } \n\n    if (self.userSelectionArray.length == self.$component.find('.option').length && userAnsweredAll()){\n        // activate ok\n        self.$component.find('.btn.ok').enable();\n    } else {\n        self.$component.find('.btn.ok').disable();\n    }\n\n    // for each clear button, check if an option has been selected in the dropdown next to it, if so disable the clear button, otherwise enable it\n    self.$component.find('.ds-clear-btn').each(function(){\n        var $this = $(this);\n        var optionValAtThisSelect = $(this).closest('.dropdown-clear-btn-group').find('select').val();\n        if(isNaN(optionValAtThisSelect)){\n            // no option selected\n            $this.disable();\n        } else {\n            // option selected\n            $this.enable();\n        }\n    });\n}\n\n/**\n * @public\n * @override \n * @description  This function fired on retry\n */\nComponentDropdownsequence.prototype.retry = function(){\n    var self = this;\n}\n\n/**\n * @public\n * @override \n * @description  This function fired on resize\n */\nComponentDropdownsequence.prototype.resize = function(){\n    var self = this;\n}\n\n/**\n * @public\n * @override \n * @description  This function is called on device breakpoint changed\n */\nComponentDropdownsequence.prototype.breakpointChanged = function(){\n    var self = this;\n }\n","/**\r\n * @fileoverview This is used to create an ParallaxImage component.\r\n * @class\r\n * @augments Component\r\n * @author LIVELOGIC\r\n * @version 1.0\r\n */\r\nfunction ComponentParallaxImage(){\r\n}\r\n\r\nComponentParallaxImage.prototype = Object.create(Component.prototype);\r\n\r\n/**\r\n * @function\r\n * @description  This function initialiases the component\r\n */\r\nComponentParallaxImage.prototype.init = function(_componentController, node, _id, _num){\r\n    Component.prototype.init.call(this, _componentController, node, _id, _num);\r\n\r\n    this.managesCompletion = false;\r\n}\r\n\r\n/**\r\n * @function\r\n * @description  This function adds the component HTML\r\n */\r\nComponentParallaxImage.prototype.getHTML = function(){\r\n    var self = this;\r\n\r\n    var htmlStr = '';\r\n\r\n    // if (self.dataNode){\r\n    // htmlStr += '<div class=\"section noPadding\">';\r\n    \r\n    htmlStr += '<div class=\"buildup-container\">';\r\n    htmlStr += '<div class=\"buildup-layer-wrap\">';\r\n    if (self.dataNode.layer[0].src){\r\n        // create an image to use as a guide for setting aspect ratios\r\n        var path = utils.getImagePath(self.dataNode.layer[0].src);\r\n        htmlStr += '<img class=\"buildup-layer-temp-image\" src=\"'+path+'\">';\r\n        \r\n    }\r\n    var bkgPosition = self.dataNode.backgroundPosition ? ' background-position: '+self.dataNode.backgroundPosition+';' : ''; \r\n    for (var i=0; i < self.dataNode.layer.length; i++){\r\n\r\n        var styleStr = ''\r\n        if (self.dataNode.layer[i].src){\r\n            var path = utils.getImagePath(self.dataNode.layer[i].src);\r\n            styleStr = 'style=\"background-image: url('+path+');'+(self.dataNode.layer[i].backgroundPosition ? ' background-position: '+self.dataNode.layer[i].backgroundPosition+';' : bkgPosition)+'\"';\r\n            \r\n            htmlStr += '<div class=\"buildup-layer buildup-layer-'+i+'\" '+styleStr+(self.dataNode.layer[i].speed ? ' data-speed=\"'+self.dataNode.layer[i].speed+'\"' : '')+'></div>';\r\n        } else {\r\n\r\n            // this could be text/html content\r\n            htmlStr += '<div class=\"buildup-layer buildup-content-layer buildup-layer-'+i+'\"'+(self.dataNode.layer[i].speed ? ' data-speed=\"'+self.dataNode.layer[i].speed+'\"' : '')+'>';\r\n                htmlStr += self.componentController.generateComponents(self.dataNode.layer[i]);\r\n            htmlStr += '</div>';\r\n        }\r\n    }\r\n    htmlStr += '</div>';\r\n    htmlStr += '</div>';\r\n    \r\n    return htmlStr;\r\n} \r\n\r\n\r\n/**\r\n * @function\r\n * @description  This function sets up the component\r\n */\r\nComponentParallaxImage.prototype.setupComponent = function(){\r\n    Component.prototype.setupComponent.call(this);\r\n\r\n    var self = this;\r\n    \r\n    if (this.dataNode.backgroundImage){\r\n        this.$component.addClass('hasImage');\r\n\r\n    }\r\n\r\n    /*// keep at top\r\n    self.$component.on('inview_anim_start', function(){\r\n\r\n        // apply parallax effect to any element with a data-speed attribute\r\n    gsap.to(\"[data-speed]\", {\r\n        y: (i, el) => (1 - parseFloat(el.getAttribute(\"data-speed\"))) * ScrollTrigger.maxScroll(window) ,\r\n        ease: \"none\",\r\n        scrollTrigger: {\r\n            start: 0,\r\n            end: \"max\",\r\n            invalidateOnRefresh: true,\r\n            scrub: 0\r\n        }\r\n    });\r\n\r\n        // if (self.$component.hasClass('fullscreen')){\r\n        //     setTimeout(function(){\r\n\r\n        //         // autoscroll\r\n        //         navigationController.scrollIntoView(self.$component.next('.section'), {duration: 2, offsetY: self.$component.find('.overlay').height(), ease: 'power2.inOut'});\r\n        //     }, 3000);\r\n        // }\r\n\r\n        // content-overlay\r\n        \r\n\r\n        \r\n    });*/\r\n\r\n    self.timeline = new gsap.timeline();\r\n\r\n    var $layers = self.$component.find('.buildup-layer');    \r\n    // console.log($layers);\r\n    \r\n    for (var i=0; i < self.dataNode.layer.length; i++){\r\n        var gsapObj = {\r\n            // x: self.dataNode.layer[i].x || undefined,\r\n            // y: self.dataNode.layer[i].y || undefined,\r\n            xPercent: self.dataNode.layer[i].xPercent || self.dataNode.layer[i].x || undefined,\r\n            yPercent: self.dataNode.layer[i].yPercent || self.dataNode.layer[i].y || undefined,\r\n            delay: (self.dataNode.layer[i].delay || '0'),\r\n            duration: (self.dataNode.layer[i].duration || '5'),\r\n            ease: (self.dataNode.layer[i].ease || 'power2')\r\n        };\r\n        //var direction = \r\n        var $layer = $layers.eq(i);\r\n        self.timeline.from($layer, gsapObj, '<');\r\n        // console.log(gsapObj)\r\n    }\r\n\r\n    self.timeline.pause();\r\n\r\n}\r\n\r\n/**\r\n * @public\r\n * @override \r\n * @description  This function is called on unload\r\n */\r\n ComponentParallaxImage.prototype.unload = function(){\r\n    var self = this;    \r\n\r\n    var scrollTriggers = ScrollTrigger.getAll()\r\n    for(var i = 0; i < scrollTriggers.length; i++){\r\n        scrollTriggers[i].kill();\r\n    }\r\n}\r\n\r\n/**\r\n * @public\r\n * @override \r\n * @description  This function fired when component is displayed\r\n */\r\nComponentParallaxImage.prototype.componentDisplayed = function(){\r\n    Component.prototype.componentDisplayed.call(this);\r\n    var self = this;\r\n\r\n    console.log('ComponentParallaxImage.prototype.componentDisplayed');\r\n    \r\n    self.timeline.play();\r\n}\r\n\r\n/**\r\n * @public\r\n * @override \r\n * @description  This function is called on browser resize\r\n */\r\nComponentParallaxImage.prototype.resize = function(){\r\n    var self = this;    \r\n\r\n    // self.$component.find('.buildup-content-wrap').css('minHeight', 'auto');\r\n    // // self.$component.find('.buildup-image-wrap').height('auto');\r\n    // var imgHeight = self.$component.find('.buildup-image-temp-image').height();\r\n    // self.$component.find('.buildup-image-wrap').height(imgHeight);\r\n    // if (responsiveUtils.getCurrentViewport() != 'xs'){\r\n    //     self.$component.find('.buildup-content-wrap').css('minHeight', imgHeight);\r\n    // }\r\n}","/**\r\n * @fileoverview This is used to create an ParallaxHeader component.\r\n * @class\r\n * @augments Component\r\n * @author LIVELOGIC\r\n * @version 1.0\r\n */\r\nfunction ComponentParallaxHeader(){\r\n}\r\n\r\nComponentParallaxHeader.prototype = Object.create(Component.prototype);\r\n\r\n/**\r\n * @function\r\n * @description  This function initialiases the component\r\n */\r\nComponentParallaxHeader.prototype.init = function(_componentController, node, _id, _num){\r\n    Component.prototype.init.call(this, _componentController, node, _id, _num);\r\n\r\n    this.managesCompletion = false;\r\n}\r\n\r\n/**\r\n * @function\r\n * @description  This function adds the component HTML\r\n */\r\nComponentParallaxHeader.prototype.getHTML = function(){\r\n    var self = this;\r\n\r\n    var htmlStr = '';\r\n    \r\n    htmlStr += '<div class=\"buildup-container\">';\r\n        htmlStr += '<div class=\"buildup-layer-wrap\">';\r\n        for (var i=0; i < self.dataNode.layer.length; i++){\r\n            if (self.dataNode.layer[i].src){\r\n                // create an image to use as a guide for setting aspect ratios\r\n                var path = utils.getImagePath(self.dataNode.layer[i].src);\r\n                htmlStr += '<img class=\"buildup-layer-temp-image\" src=\"'+path+'\">';\r\n                break;\r\n            }\r\n        }\r\n\r\n        var bkgPosition = self.dataNode.backgroundPosition ? ' background-position: '+self.dataNode.backgroundPosition+';' : ''; \r\n        for (var i=0; i < self.dataNode.layer.length; i++){\r\n\r\n            var styleStr = ''\r\n            if (self.dataNode.layer[i].src){\r\n                // this is an image\r\n                var path = utils.getImagePath(self.dataNode.layer[i].src);\r\n                styleStr = 'style=\"background-image: url('+path+');'+(self.dataNode.layer[i].backgroundPosition ? ' background-position: '+self.dataNode.layer[i].backgroundPosition+';' : bkgPosition)+'\"';\r\n                htmlStr += '<div class=\"buildup-layer buildup-image-layer buildup-layer-'+i+'\" '+styleStr+(self.dataNode.layer[i].speed != undefined ? ' data-speed=\"'+self.dataNode.layer[i].speed+'\"' : '')+'></div>';\r\n            } else {\r\n                // this could be text/html content\r\n                htmlStr += '<div class=\"buildup-layer buildup-content-layer buildup-layer-'+i+'\"'+(self.dataNode.layer[i].speed ? ' data-speed=\"'+self.dataNode.layer[i].speed+'\"' : '')+'>';\r\n                    htmlStr += self.componentController.generateComponents(self.dataNode.layer[i]);\r\n                htmlStr += '</div>';\r\n            }\r\n\r\n            \r\n        }\r\n        htmlStr += '</div>';\r\n    htmlStr += '</div>';\r\n\r\n    var columnsStr = self.dataNode.content ? responsiveUtils.getBootstrapColumnsStrForNode(self.dataNode.content[0]) : '';\r\n    if (self.dataNode.title){            \r\n        htmlStr += '<div class=\"overlay title-overlay\">';\r\n        //     htmlStr += '<div class=\"overlayContent\">';                        \r\n        //         htmlStr += txt;\r\n        //     htmlStr += '</div>';\r\n        // htmlStr += '</div>';\r\n            htmlStr += '<div class=\"container\">';\r\n                htmlStr += '<div class=\"row\">';\r\n                    htmlStr += '<div class=\"'+(columnsStr != '' ? ' '+columnsStr : 'col-md-9')+'\">';\r\n                        htmlStr += '<div class=\"overlayContent\">';                        \r\n                            htmlStr += htmlUtils.getHTMLText(self.dataNode.title[0]);\r\n                        htmlStr += '</div>';\r\n                    htmlStr += '</div>';\r\n                htmlStr += '</div>';\r\n            htmlStr += '</div>';\r\n        htmlStr += '</div>';\r\n    }\r\n    // var txt = htmlUtils.getHTMLText();\r\n    if (self.dataNode.content){\r\n        htmlStr += '<div class=\"overlay content-overlay\">';\r\n            htmlStr += '<div class=\"container\">';\r\n                htmlStr += '<div class=\"row\">';\r\n                    htmlStr += '<div class=\"'+(columnsStr != '' ? ' '+columnsStr : 'col-md-9')+'\">';\r\n                        htmlStr += '<div class=\"overlayContent parallelogram anim fadeIn\">';                        \r\n                            htmlStr += self.componentController.generateComponents(self.dataNode.content[0]);\r\n                        htmlStr += '</div>';\r\n                    htmlStr += '</div>';\r\n                htmlStr += '</div>';\r\n            htmlStr += '</div>';\r\n        htmlStr += '</div>';\r\n    }\r\n    // htmlStr += '</div>';\r\n\r\n    \r\n    htmlStr += `<div class=\"header-btn-wrap\">\r\n                    <button class=\"btn header-btn\" aria-label=\"${courseData.getAccessibleLabel('scrollToContentView')}\">${svgUtils.createSVG('arrow-down')}</button>\r\n                </div>`;\r\n    \r\n    return htmlStr;\r\n} \r\n\r\n\r\n/**\r\n * @function\r\n * @description  This function sets up the component\r\n */\r\nComponentParallaxHeader.prototype.setupComponent = function(){\r\n    Component.prototype.setupComponent.call(this);\r\n\r\n    var self = this;\r\n    \r\n    if (this.dataNode.backgroundImage){\r\n        this.$component.addClass('hasImage');\r\n\r\n    }\r\n\r\n    // keep at top\r\n    self.$component.on('inview_anim_start', function(){\r\n\r\n            // apply parallax effect to any element with a data-speed attribute\r\n        gsap.to(\"[data-speed]\", {\r\n            y: (i, el) => (1 - parseFloat(el.getAttribute(\"data-speed\"))) * ScrollTrigger.maxScroll(window) ,\r\n            ease: \"none\",\r\n            scrollTrigger: {\r\n                start: 0,\r\n                end: \"max\",\r\n                invalidateOnRefresh: true,\r\n                scrub: 0\r\n            }\r\n        });\r\n\r\n        // if (self.$component.hasClass('fullscreen')){\r\n        //     setTimeout(function(){\r\n\r\n        //         // autoscroll\r\n        //         navigationController.scrollIntoView(self.$component.next('.section'), {duration: 2, offsetY: self.$component.find('.overlay').height(), ease: 'power2.inOut'});\r\n        //     }, 3000);\r\n        // }\r\n\r\n        // content-overlay\r\n        \r\n        // // if ()\r\n        // // pin the title on scroll\r\n        // self.$scrolltrigger = ScrollTrigger.create({\r\n        //     trigger: self.$component.find('.title-overlay .overlayContent'),//$stickys.eq(index).find('.sticky-content'),\r\n        //     start: \"top top+=50\",\r\n        //     end: \"max\",\r\n        //     //markers: true,\r\n        //     pin: true,\r\n        //     pinSpacing: false\r\n        // });\r\n    });\r\n\r\n    var timeline = new gsap.timeline();\r\n\r\n    var $layers = self.$component.find('.buildup-layer');\r\n\r\n    \r\n    for (var i=0; i < self.dataNode.layer.length; i++){\r\n        var gsapObj = {\r\n            // x: self.dataNode.layer[i].x || undefined,\r\n            // y: self.dataNode.layer[i].y || undefined,\r\n            scale: self.dataNode.layer[i].scale || undefined,\r\n            rotation: self.dataNode.layer[i].rotation || undefined,\r\n            xPercent: self.dataNode.layer[i].xPercent || self.dataNode.layer[i].x || undefined,\r\n            yPercent: self.dataNode.layer[i].yPercent || self.dataNode.layer[i].y || undefined,\r\n            delay: (self.dataNode.layer[i].delay || '0'),\r\n            duration: (self.dataNode.layer[i].duration || '5'),\r\n            // ease: (self.dataNode.layer[i].ease || 'power3')\r\n            ease: (self.dataNode.layer[i].ease || 'power3')\r\n            // ease: (self.dataNode.layer[i].ease || CustomEase.create(\"custom\", \"M0,0,C0.126,0.382,0.256,0.684,0.414,0.832,0.606,1.012,0.818,1.001,1,1\"))\r\n            // ease: (self.dataNode.layer[i].ease || CustomEase.create(\"custom\", \"M0,0,C0.126,0.382,0.692,0.086,0.85,0.234,1.042,0.414,0.818,1.001,1,1\"))\r\n            \r\n            \r\n        };\r\n        \r\n        // for RTL languages, reverse the animation so flip the X values\r\n        if (languageConfig.languages[currentLanguage].direction == 'rtl' && gsapObj.xPercent){\r\n            if (gsapObj.xPercent.indexOf('-=') != -1){\r\n                gsapObj.xPercent = gsapObj.xPercent.split('-=').join('+=');\r\n            } else if (gsapObj.xPercent.indexOf('+=') != -1){\r\n                gsapObj.xPercent = gsapObj.xPercent.split('+=').join('-=');\r\n            }\r\n        }\r\n\r\n        //var direction = \r\n        var $layer = $layers.eq(i);\r\n        timeline.from($layer, gsapObj, '<');\r\n    }\r\n\r\n    \r\n\r\n    // var timeline = gsap.timeline({\r\n    //     scrollTrigger: {\r\n    //         trigger: self.$component.find('.overlayContent'),//$stickys.eq(index).find('.sticky-content'),\r\n    //         start: \"top top+=50\",\r\n    //         end: \"max\",\r\n    //         //markers: true,\r\n    //         pin: true,\r\n    //         pinSpacing: false\r\n    //     }\r\n    // });\r\n    // timeline.to(self.$component.find('.overlayContent'), {scale:.5});\r\n\r\n    $(document).on(courseEvent.SLIDE_SHOW_CONTENT, function(){\r\n        // lets refresh the scroll triggers\r\n        var scrollTriggers = ScrollTrigger.getAll();\r\n        for(var i = 0; i < scrollTriggers.length; i++){\r\n            scrollTriggers[i].refresh();\r\n        }\r\n    });\r\n}\r\n\r\n\r\n/**\r\n * @function\r\n * @description  This function fires when sets up complete\r\n */\r\nComponentParallaxHeader.prototype.setupComplete = function(){\r\n    Component.prototype.setupComplete.call(this);\r\n        \r\n    var self = this; \r\n\r\n    self.$component.find('.header-btn').on('click keypress', utils.handleClickAndPress(function(e){\r\n        var $this = $(e.currentTarget);\r\n        navigationController.scrollIntoView($this.closest('.slide').next(), 'start');    \r\n    }));\r\n\r\n    \r\n}\r\n\r\n\r\n/**\r\n * @public\r\n * @override \r\n * @description  This function is called on unload\r\n */\r\n ComponentParallaxHeader.prototype.unload = function(){\r\n    var self = this;    \r\n\r\n    var scrollTriggers = ScrollTrigger.getAll()\r\n    for(var i = 0; i < scrollTriggers.length; i++){\r\n        scrollTriggers[i].kill();\r\n    }\r\n}\r\n\r\n/**\r\n * @public\r\n * @override \r\n * @description  This function fired when component is displayed\r\n */\r\nComponentParallaxHeader.prototype.componentDisplayed = function(){\r\n    Component.prototype.componentDisplayed.call(this);\r\n\r\n//    console.log('ComponentImage.prototype.componentDisplayed');\r\n\r\n    \r\n}\r\n\r\n\r\n\r\n\r\n/**\r\n * @public\r\n * @override \r\n * @description  This function is called on browser resize\r\n */\r\nComponentParallaxHeader.prototype.resize = function(){\r\n    var self = this;\r\n    // self.$component.find('.buildup-content-wrap').css('minHeight', 'auto');\r\n    // // self.$component.find('.buildup-image-wrap').height('auto');\r\n    // var imgHeight = self.$component.find('.buildup-image-temp-image').height();\r\n    // self.$component.find('.buildup-image-wrap').height(imgHeight);\r\n    // if (responsiveUtils.getCurrentViewport() != 'xs'){\r\n    //     self.$component.find('.buildup-content-wrap').css('minHeight', imgHeight);\r\n    // }\r\n\r\n    utils.fitTextToElements(self.$component.find('.parallaxheader-layer-title'), 2);\r\n}"]}